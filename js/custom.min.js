$(function(){"use strict";var i=window.matchMedia("(max-width: 500px)"),s=window.matchMedia("(min-width: 500px) and (max-width: 992px)");function t(t){i.matches?$("#my-slider").sliderPro({width:500,height:700,arrows:!0,buttons:!1,shuffle:!0,smallSize:500,mediumSize:1e3,largeSize:3e3,autoplay:!1}):s.matches?$("#my-slider").sliderPro({width:"100%",height:675,arrows:!0,buttons:!1,shuffle:!0,smallSize:500,mediumSize:1e3,largeSize:3e3,autoplay:!1}):$("#my-slider").sliderPro({width:1200,height:600,arrows:!0,buttons:!1,shuffle:!0,smallSize:500,mediumSize:1e3,largeSize:3e3,autoplay:!1})}t(),t(),i.addListener(t),s.addListener(t);var e=window.matchMedia("(min-width: 1200px)");if(e.addListener(t),e.matches?$(".gallery__image").each(function(){$(this).attr("src",this.dataset.galleryImageWide)}):$(".gallery__image").each(function(){$(this).attr("src",this.dataset.galleryImageSmall)}),$(".header__menu-icon").click(function(){$(this).toggleClass("header__menu-icon_opened"),$(".menu__list").toggleClass("menu__list_open")}),!!document.createElement("audio").canPlayType){var n=0,o=!1,h=[{track:1,name:"Betty Who - Right Here",length:"03:59",file:"Betty_Who_Right_Here"},{track:2,name:"Holley Maher - Always Be",length:"03:51",file:"HolleyMaher"},{track:3,name:"Betty Who - Right Here",length:"03:59",file:"Betty_Who_Right_Here"},{track:4,name:"Holley Maher - Always Be",length:"03:51",file:"HolleyMaher"},{track:5,name:"Holley Maher - Always Be",length:"03:51",file:"HolleyMaher"}],a=h.length,r=$(".audio-container__track-player").prop("volume",.5).on("play",function(){o=!0}).on("pause",function(){o=!1}).on("ended",function(){n+1<a?(d(++n),r.play()):(r.pause(),d(n=0))}).get(0),d=($(".audio-container__btn.btn-prev").click(function(){d(0<=n-1?--n:n=a-1),o&&r.play()}),$(".audio-container__btn.btn-next").click(function(){n+1<a?(d(++n),o&&r.play()):(r.pause(),d(n=0))}),$(".audio-container__btn.btn-play").click(function(){o?r.pause():r.play()}),$(".audio-container__track-item").click(function(){var t=parseInt($(this).index());t!==n&&l(t)}),function(t){$(".audio-container__track-item").removeClass("audio-container__track-item_active"),$(".audio-container__track-list .audio-container__track-item:eq("+t+")").addClass("audio-container__track-item_active"),n=t,r.src="music/"+h[t].file+".mp3"}),l=function(t){d(t),r.play()};d(n)}var u=window.location.href.split("/").slice(-1)[0];$(".menu__link").each(function(){this.href==window.location.href?$(this).addClass("menu__link_current"):"portfolio__oksanka&volodymyr.html"==u?$('.menu__link[href = "portfolio.html"]').addClass("menu__link_current"):"wanderlust__mountain.html"==u&&$('.menu__link[href = "wanderlust.html"]').addClass("menu__link_current")})}),function(c,g){"use strict";g.SliderPro={modules:[],addModule:function(t,i){this.modules.push(t),g.extend(o.prototype,i)}};var p=g.SliderPro.namespace="SliderPro",o=function(t,i){this.instance=t,this.$slider=g(this.instance),this.$slides=null,this.$slidesMask=null,this.$slidesContainer=null,this.slides=[],this.slidesOrder=[],this.options=i,this.settings={},this.originalSettings={},this.originalGotoSlide=null,this.selectedSlideIndex=0,this.previousSlideIndex=0,this.middleSlidePosition=0,this.supportedAnimation=null,this.vendorPrefix=null,this.transitionEvent=null,this.positionProperty=null,this.sizeProperty=null,this.isIE=null,this.slidesPosition=0,this.slidesSize=0,this.averageSlideSize=0,this.slideWidth=0,this.slideHeight=0,this.previousSlideWidth=0,this.previousSlideHeight=0,this.previousWindowWidth=0,this.previousWindowHeight=0,this.allowResize=!0,this.uniqueId=(new Date).valueOf(),this.breakpoints=[],this.currentBreakpoint=-1,this.shuffledIndexes=[],this._init()};o.prototype={_init:function(){var s=this;this.supportedAnimation=f.getSupportedAnimation(),this.vendorPrefix=f.getVendorPrefix(),this.transitionEvent=f.getTransitionEvent(),this.isIE=f.checkIE(),this.$slider.removeClass("sp-no-js"),c.navigator.userAgent.match(/(iPad|iPhone|iPod)/g)&&this.$slider.addClass("ios");var t=/(msie) ([\w.]+)/.exec(c.navigator.userAgent.toLowerCase());this.isIE&&this.$slider.addClass("ie"),null!==t&&this.$slider.addClass("ie"+parseInt(t[2],10)),this.$slidesContainer=g('<div class="sp-slides-container"></div>').appendTo(this.$slider),this.$slidesMask=g('<div class="sp-mask"></div>').appendTo(this.$slidesContainer),this.$slides=this.$slider.find(".sp-slides").appendTo(this.$slidesMask),this.$slider.find(".sp-slide").appendTo(this.$slides);var i=g.SliderPro.modules;if(void 0!==i)for(var e=0;e<i.length;e++){var n=i[e].substring(0,1).toLowerCase()+i[e].substring(1)+"Defaults";void 0!==this[n]&&g.extend(this.defaults,this[n])}if(this.settings=g.extend({},this.defaults,this.options),void 0!==i)for(var o=0;o<i.length;o++)void 0!==this["init"+i[o]]&&this["init"+i[o]]();if(this.originalSettings=g.extend({},this.settings),this.originalGotoSlide=this.gotoSlide,null!==this.settings.breakpoints){for(var h in this.settings.breakpoints)this.breakpoints.push({size:parseInt(h,10),properties:this.settings.breakpoints[h]});this.breakpoints=this.breakpoints.sort(function(t,i){return t.size>=i.size?1:-1})}if(this.selectedSlideIndex=this.settings.startSlide,!0===this.settings.shuffle){var a=this.$slides.find(".sp-slide"),r=[];a.each(function(t){s.shuffledIndexes.push(t)});for(var d=this.shuffledIndexes.length-1;0<d;d--){var l=Math.floor(Math.random()*(d+1)),u=this.shuffledIndexes[d];this.shuffledIndexes[d]=this.shuffledIndexes[l],this.shuffledIndexes[l]=u}g.each(this.shuffledIndexes,function(t,i){r.push(a[i])}),this.$slides.empty().append(r)}g(c).on("resize."+this.uniqueId+"."+p,function(){var t=g(c).width(),i=g(c).height();!1===s.allowResize||s.previousWindowWidth===t&&s.previousWindowHeight===i||(s.previousWindowWidth=t,s.previousWindowHeight=i,s.allowResize=!1,setTimeout(function(){s.resize(),s.allowResize=!0},200))}),this.on("update."+p,function(){s.previousSlideWidth=0,s.resize()}),this.update(),this.$slides.find(".sp-slide").eq(this.selectedSlideIndex).addClass("sp-selected"),this.trigger({type:"init"}),g.isFunction(this.settings.init)&&this.settings.init.call(this,{type:"init"})},update:function(){var s=this;"horizontal"===this.settings.orientation?(this.$slider.removeClass("sp-vertical").addClass("sp-horizontal"),this.$slider.css({height:"","max-height":""}),this.$slides.find(".sp-slide").css("top","")):"vertical"===this.settings.orientation&&(this.$slider.removeClass("sp-horizontal").addClass("sp-vertical"),this.$slides.find(".sp-slide").css("left","")),!0===this.settings.rightToLeft?this.$slider.addClass("sp-rtl"):this.$slider.removeClass("sp-rtl"),this.positionProperty="horizontal"===this.settings.orientation?"left":"top",this.sizeProperty="horizontal"===this.settings.orientation?"width":"height",this.gotoSlide=this.originalGotoSlide;for(var t=this.slides.length-1;0<=t;t--)if(0===this.$slider.find('.sp-slide[data-index="'+t+'"]').length){var i=this.slides[t];i.off("imagesLoaded."+p),i.destroy(),this.slides.splice(t,1)}this.slidesOrder.length=0,this.$slider.find(".sp-slide").each(function(t){var i=g(this);void 0===i.attr("data-init")?s._createSlide(t,i):s.slides[t].setIndex(t),s.slidesOrder.push(t)}),this.middleSlidePosition=parseInt((s.slidesOrder.length-1)/2,10),!0===this.settings.loop&&this._updateSlidesOrder(),this.trigger({type:"update"}),g.isFunction(this.settings.update)&&this.settings.update.call(this,{type:"update"})},_createSlide:function(t,i){var s=this,e=new n(g(i),t,this.settings);this.slides.splice(t,0,e),e.on("imagesLoaded."+p,function(t){!0===s.settings.autoSlideSize&&(!1===s.$slides.hasClass("sp-animated")&&s._resetSlidesPosition(),s._calculateSlidesSize()),!0===s.settings.autoHeight&&t.index===s.selectedSlideIndex&&s._resizeHeightTo(e.getSize().height)})},_updateSlidesOrder:function(){var t,i,s=g.inArray(this.selectedSlideIndex,this.slidesOrder)-this.middleSlidePosition;if(s<0)for(i=(t=this.slidesOrder.splice(s,Math.abs(s))).length-1;0<=i;i--)this.slidesOrder.unshift(t[i]);else if(0<s)for(t=this.slidesOrder.splice(0,s),i=0;i<=t.length-1;i++)this.slidesOrder.push(t[i])},_updateSlidesPosition:function(){var t,i,s,e,n,o=parseInt(this.$slides.find(".sp-slide").eq(this.selectedSlideIndex).css(this.positionProperty),10),h=o;if(!0===this.settings.autoSlideSize)if(!0===this.settings.rightToLeft&&"horizontal"===this.settings.orientation){for(s=this.middleSlidePosition;0<=s;s--)(i=(t=this.getSlideAt(this.slidesOrder[s])).$slide).css(this.positionProperty,h),h=parseInt(i.css(this.positionProperty),10)+t.getSize()[this.sizeProperty]+this.settings.slideDistance;for(h=o,s=this.middleSlidePosition+1;s<this.slidesOrder.length;s++)(i=(t=this.getSlideAt(this.slidesOrder[s])).$slide).css(this.positionProperty,h-(t.getSize()[this.sizeProperty]+this.settings.slideDistance)),h=parseInt(i.css(this.positionProperty),10)}else{for(s=this.middleSlidePosition-1;0<=s;s--)(i=(t=this.getSlideAt(this.slidesOrder[s])).$slide).css(this.positionProperty,h-(t.getSize()[this.sizeProperty]+this.settings.slideDistance)),h=parseInt(i.css(this.positionProperty),10);for(h=o,s=this.middleSlidePosition;s<this.slidesOrder.length;s++)(i=(t=this.getSlideAt(this.slidesOrder[s])).$slide).css(this.positionProperty,h),h=parseInt(i.css(this.positionProperty),10)+t.getSize()[this.sizeProperty]+this.settings.slideDistance}else for(e=!0===this.settings.rightToLeft&&"horizontal"===this.settings.orientation?-1:1,n="horizontal"===this.settings.orientation?this.slideWidth:this.slideHeight,s=0;s<this.slidesOrder.length;s++)(i=this.$slides.find(".sp-slide").eq(this.slidesOrder[s])).css(this.positionProperty,o+e*(s-this.middleSlidePosition)*(n+this.settings.slideDistance))},_resetSlidesPosition:function(){var t,i,s,e,n,o,h=0;if(!0===this.settings.autoSlideSize){if(!0===this.settings.rightToLeft&&"horizontal"===this.settings.orientation)for(s=0;s<this.slidesOrder.length;s++)(i=(t=this.getSlideAt(this.slidesOrder[s])).$slide).css(this.positionProperty,h-(t.getSize()[this.sizeProperty]+this.settings.slideDistance)),h=parseInt(i.css(this.positionProperty),10);else for(s=0;s<this.slidesOrder.length;s++)(i=(t=this.getSlideAt(this.slidesOrder[s])).$slide).css(this.positionProperty,h),h=parseInt(i.css(this.positionProperty),10)+t.getSize()[this.sizeProperty]+this.settings.slideDistance;e=this.getSlideAt(this.selectedSlideIndex).getSize()[this.sizeProperty]}else{for(n=!0==(!0===this.settings.rightToLeft&&"horizontal"===this.settings.orientation)?-1:1,o="horizontal"===this.settings.orientation?this.slideWidth:this.slideHeight,s=0;s<this.slidesOrder.length;s++)(i=this.$slides.find(".sp-slide").eq(this.slidesOrder[s])).css(this.positionProperty,n*s*(o+this.settings.slideDistance));e=o}var a=!0===this.settings.centerSelectedSlide?Math.round((parseInt(this.$slidesMask.css(this.sizeProperty),10)-e)/2):0,r=-parseInt(this.$slides.find(".sp-slide").eq(this.selectedSlideIndex).css(this.positionProperty),10)+a;this._moveTo(r,!0)},_calculateSlidesSize:function(){if(!0===this.settings.autoSlideSize){var t=this.$slides.find(".sp-slide").eq(this.slidesOrder[0]),i=parseInt(t.css(this.positionProperty),10),s=this.$slides.find(".sp-slide").eq(this.slidesOrder[this.slidesOrder.length-1]),e=parseInt(s.css(this.positionProperty),10)+(!0===this.settings.rightToLeft&&"horizontal"===this.settings.orientation?-1:1)*parseInt(s.css(this.sizeProperty),10);this.slidesSize=Math.abs(e-i),this.averageSlideSize=Math.round(this.slidesSize/this.slides.length)}else this.slidesSize=(("horizontal"===this.settings.orientation?this.slideWidth:this.slideHeight)+this.settings.slideDistance)*this.slides.length-this.settings.slideDistance,this.averageSlideSize="horizontal"===this.settings.orientation?this.slideWidth:this.slideHeight},resize:function(){var t=this;if(null!==this.settings.breakpoints&&0<this.breakpoints.length)if(g(c).width()>this.breakpoints[this.breakpoints.length-1].size&&-1!==this.currentBreakpoint)this.currentBreakpoint=-1,this._setProperties(this.originalSettings,!1);else for(var i=0,s=this.breakpoints.length;i<s;i++)if(g(c).width()<=this.breakpoints[i].size){if(this.currentBreakpoint!==this.breakpoints[i].size){var e={type:"breakpointReach",size:this.breakpoints[i].size,settings:this.breakpoints[i].properties};this.trigger(e),g.isFunction(this.settings.breakpointReach)&&this.settings.breakpointReach.call(this,e),this.currentBreakpoint=this.breakpoints[i].size;var n=g.extend({},this.originalSettings,this.breakpoints[i].properties);return void this._setProperties(n,!1)}break}!0===this.settings.responsive?"fullWidth"!==this.settings.forceSize&&"fullWindow"!==this.settings.forceSize||"auto"!==this.settings.visibleSize&&("auto"===this.settings.visibleSize||"vertical"!==this.settings.orientation)?this.$slider.css({width:"100%","max-width":this.settings.width,marginLeft:""}):(this.$slider.css("margin",0),this.$slider.css({width:g(c).width(),"max-width":"",marginLeft:-this.$slider.offset().left})):this.$slider.css({width:this.settings.width}),-1===this.settings.aspectRatio&&(this.settings.aspectRatio=this.settings.width/this.settings.height),this.slideWidth=this.$slider.width(),"fullWindow"===this.settings.forceSize?this.slideHeight=g(c).height():this.slideHeight=isNaN(this.settings.aspectRatio)?this.settings.height:this.slideWidth/this.settings.aspectRatio,(this.previousSlideWidth!==this.slideWidth||this.previousSlideHeight!==this.slideHeight||"auto"!==this.settings.visibleSize||this.$slider.outerWidth()>this.$slider.parent().width()||this.$slider.width()!==this.$slidesMask.width())&&(this.previousSlideWidth=this.slideWidth,this.previousSlideHeight=this.slideHeight,this._resizeSlides(),this.$slidesMask.css({width:this.slideWidth,height:this.slideHeight}),!0===this.settings.autoHeight?setTimeout(function(){t._resizeHeight()},1):this.$slidesMask.css(this.vendorPrefix+"transition",""),"auto"!==this.settings.visibleSize&&("horizontal"===this.settings.orientation?("fullWidth"===this.settings.forceSize||"fullWindow"===this.settings.forceSize?(this.$slider.css("margin",0),this.$slider.css({width:g(c).width(),"max-width":"",marginLeft:-this.$slider.offset().left})):this.$slider.css({width:this.settings.visibleSize,"max-width":"100%",marginLeft:0}),this.$slidesMask.css("width",this.$slider.width())):("fullWindow"===this.settings.forceSize?this.$slider.css({height:g(c).height(),"max-height":""}):this.$slider.css({height:this.settings.visibleSize,"max-height":"100%"}),this.$slidesMask.css("height",this.$slider.height()))),this._resetSlidesPosition(),this._calculateSlidesSize(),this.trigger({type:"sliderResize"}),g.isFunction(this.settings.sliderResize)&&this.settings.sliderResize.call(this,{type:"sliderResize"}))},_resizeSlides:function(){var s=this.slideWidth,e=this.slideHeight;!0===this.settings.autoSlideSize?"horizontal"===this.settings.orientation?s="auto":"vertical"===this.settings.orientation&&(e="auto"):!0===this.settings.autoHeight&&(e="auto"),g.each(this.slides,function(t,i){i.setSize(s,e)})},_resizeHeight:function(){var t=this.getSlideAt(this.selectedSlideIndex);this._resizeHeightTo(t.getSize().height)},gotoSlide:function(t){if(t!==this.selectedSlideIndex&&void 0!==this.slides[t]){var i=this;this.previousSlideIndex=this.selectedSlideIndex,this.selectedSlideIndex=t,this.$slides.find(".sp-selected").removeClass("sp-selected"),this.$slides.find(".sp-slide").eq(this.selectedSlideIndex).addClass("sp-selected"),!0===this.settings.loop&&(this._updateSlidesOrder(),this._updateSlidesPosition()),!0===this.settings.autoHeight&&this._resizeHeight();var s=!0===this.settings.centerSelectedSlide?Math.round((parseInt(this.$slidesMask.css(this.sizeProperty),10)-this.getSlideAt(this.selectedSlideIndex).getSize()[this.sizeProperty])/2):0,e=-parseInt(this.$slides.find(".sp-slide").eq(this.selectedSlideIndex).css(this.positionProperty),10)+s;this._moveTo(e,!1,function(){i._resetSlidesPosition(),i.trigger({type:"gotoSlideComplete",index:t,previousIndex:i.previousSlideIndex}),g.isFunction(i.settings.gotoSlideComplete)&&i.settings.gotoSlideComplete.call(i,{type:"gotoSlideComplete",index:t,previousIndex:i.previousSlideIndex})}),this.trigger({type:"gotoSlide",index:t,previousIndex:this.previousSlideIndex}),g.isFunction(this.settings.gotoSlide)&&this.settings.gotoSlide.call(this,{type:"gotoSlide",index:t,previousIndex:this.previousSlideIndex})}},nextSlide:function(){var t=this.selectedSlideIndex>=this.getTotalSlides()-1?0:this.selectedSlideIndex+1;this.gotoSlide(t)},previousSlide:function(){var t=this.selectedSlideIndex<=0?this.getTotalSlides()-1:this.selectedSlideIndex-1;this.gotoSlide(t)},_moveTo:function(t,i,s){var e=this,n={};if(t!==this.slidesPosition)if(this.slidesPosition=t,"css-3d"!==this.supportedAnimation&&"css-2d"!==this.supportedAnimation||!1!==this.isIE)n["margin-"+this.positionProperty]=t,void 0!==i&&!0===i?this.$slides.css(n):(this.$slides.addClass("sp-animated"),this.$slides.animate(n,this.settings.slideAnimationDuration,function(){e.$slides.removeClass("sp-animated"),"function"==typeof s&&s()}));else{var o,h="horizontal"===this.settings.orientation?t:0,a="horizontal"===this.settings.orientation?0:t;"css-3d"===this.supportedAnimation?n[this.vendorPrefix+"transform"]="translate3d("+h+"px, "+a+"px, 0)":n[this.vendorPrefix+"transform"]="translate("+h+"px, "+a+"px)",void 0!==i&&!0===i?o="":(this.$slides.addClass("sp-animated"),o=this.vendorPrefix+"transform "+this.settings.slideAnimationDuration/1e3+"s",this.$slides.on(this.transitionEvent,function(t){t.target===t.currentTarget&&(e.$slides.off(e.transitionEvent),e.$slides.removeClass("sp-animated"),"function"==typeof s&&s())})),n[this.vendorPrefix+"transition"]=o,this.$slides.css(n)}},_stopMovement:function(){var t={};if("css-3d"!==this.supportedAnimation&&"css-2d"!==this.supportedAnimation||!1!==this.isIE)this.$slides.stop(),this.slidesPosition=parseInt(this.$slides.css("margin-"+this.positionProperty),10);else{var i=this.$slides.css(this.vendorPrefix+"transform"),s=-1!==i.indexOf("matrix3d")?"matrix3d":"matrix",e=i.replace(s,"").match(/-?[0-9\.]+/g),n="matrix3d"===s?parseInt(e[12],10):parseInt(e[4],10),o="matrix3d"===s?parseInt(e[13],10):parseInt(e[5],10);"css-3d"===this.supportedAnimation?t[this.vendorPrefix+"transform"]="translate3d("+n+"px, "+o+"px, 0)":t[this.vendorPrefix+"transform"]="translate("+n+"px, "+o+"px)",t[this.vendorPrefix+"transition"]="",this.$slides.css(t),this.$slides.off(this.transitionEvent),this.slidesPosition="horizontal"===this.settings.orientation?n:o}this.$slides.removeClass("sp-animated")},_resizeHeightTo:function(t){var i=this,s={height:t};"css-3d"===this.supportedAnimation||"css-2d"===this.supportedAnimation?(s[this.vendorPrefix+"transition"]="height "+this.settings.heightAnimationDuration/1e3+"s",this.$slidesMask.off(this.transitionEvent),this.$slidesMask.on(this.transitionEvent,function(t){t.target===t.currentTarget&&(i.$slidesMask.off(i.transitionEvent),i.trigger({type:"resizeHeightComplete"}),g.isFunction(i.settings.resizeHeightComplete)&&i.settings.resizeHeightComplete.call(i,{type:"resizeHeightComplete"}))}),this.$slidesMask.css(s)):this.$slidesMask.stop().animate(s,this.settings.heightAnimationDuration,function(t){i.trigger({type:"resizeHeightComplete"}),g.isFunction(i.settings.resizeHeightComplete)&&i.settings.resizeHeightComplete.call(i,{type:"resizeHeightComplete"})})},destroy:function(){this.$slider.removeData("sliderPro"),this.$slider.removeAttr("style"),this.$slides.removeAttr("style"),this.off("update."+p),g(c).off("resize."+this.uniqueId+"."+p);var t=g.SliderPro.modules;if(void 0!==t)for(var i=0;i<t.length;i++)void 0!==this["destroy"+t[i]]&&this["destroy"+t[i]]();g.each(this.slides,function(t,i){i.destroy()}),this.slides.length=0,this.$slides.prependTo(this.$slider),this.$slidesContainer.remove()},_setProperties:function(t,i){for(var s in t)this.settings[s]=t[s],!1!==i&&(this.originalSettings[s]=t[s]);this.update()},on:function(t,i){return this.$slider.on(t,i)},off:function(t){return this.$slider.off(t)},trigger:function(t){return this.$slider.triggerHandler(t)},getSlideAt:function(t){return this.slides[t]},getSelectedSlide:function(){return this.selectedSlideIndex},getTotalSlides:function(){return this.slides.length},defaults:{width:500,height:300,responsive:!0,aspectRatio:-1,imageScaleMode:"cover",centerImage:!0,allowScaleUp:!0,autoHeight:!1,autoSlideSize:!1,startSlide:0,shuffle:!1,orientation:"horizontal",forceSize:"none",loop:!0,slideDistance:10,slideAnimationDuration:700,heightAnimationDuration:700,visibleSize:"auto",centerSelectedSlide:!0,rightToLeft:!1,breakpoints:null,init:function(){},update:function(){},sliderResize:function(){},gotoSlide:function(){},gotoSlideComplete:function(){},resizeHeightComplete:function(){},breakpointReach:function(){}}};var n=function(t,i,s){this.$slide=t,this.$mainImage=null,this.$imageContainer=null,this.hasMainImage=!1,this.isMainImageLoaded=!1,this.isMainImageLoading=!1,this.hasImages=!1,this.areImagesLoaded=!1,this.areImagesLoading=!1,this.width=0,this.height=0,this.settings=s,this.setIndex(i),this._init()};n.prototype={_init:function(){this.$slide.attr("data-init",!0),this.$mainImage=0!==this.$slide.find(".sp-image").length?this.$slide.find(".sp-image"):null,null!==this.$mainImage&&(this.hasMainImage=!0,this.$imageContainer=g('<div class="sp-image-container"></div>').prependTo(this.$slide),0!==this.$mainImage.parent("a").length?this.$mainImage.parent("a").appendTo(this.$imageContainer):this.$mainImage.appendTo(this.$imageContainer)),this.hasImages=0!==this.$slide.find("img").length},setSize:function(t,i){this.width=t,this.height=i,this.$slide.css({width:this.width,height:this.height}),!0===this.hasMainImage&&(this.$imageContainer.css({width:this.settings.width,height:this.settings.height}),void 0===this.$mainImage.attr("data-src")&&this.resizeMainImage())},getSize:function(){var t,i=this;if(!0===this.hasImages&&!1===this.areImagesLoaded&&!1===this.areImagesLoading&&(this.areImagesLoading=!0,"complete"!==f.checkImagesStatus(this.$slide)))return f.checkImagesComplete(this.$slide,function(){i.areImagesLoaded=!0,i.areImagesLoading=!1,i.trigger({type:"imagesLoaded."+p,index:i.index})}),{width:this.settings.width,height:this.settings.height};return{width:(t=this.calculateSize()).width,height:t.height}},calculateSize:function(){var h=this.$slide.width(),a=this.$slide.height();return this.$slide.children().each(function(t,i){var s=g(i);if(!0!==s.is(":hidden")){var e=i.getBoundingClientRect(),n=s.position().top+(e.bottom-e.top),o=s.position().left+(e.right-e.left);a<n&&(a=n),h<o&&(h=o)}}),{width:h,height:a}},resizeMainImage:function(t){var i=this;if(!0===t&&(this.isMainImageLoaded=!1,this.isMainImageLoading=!1),!1===this.isMainImageLoaded&&!1===this.isMainImageLoading)return this.isMainImageLoading=!0,void f.checkImagesComplete(this.$mainImage,function(){i.isMainImageLoaded=!0,i.isMainImageLoading=!1,i.resizeMainImage(),i.trigger({type:"imagesLoaded."+p,index:i.index})});this.$imageContainer.css({width:this.width,height:this.height}),!1===this.settings.allowScaleUp&&(this.$mainImage.css({width:"",height:"",maxWidth:"",maxHeight:""}),this.$mainImage.css({maxWidth:this.$mainImage.width(),maxHeight:this.$mainImage.height()})),!0===this.settings.autoSlideSize?"horizontal"===this.settings.orientation?(this.$mainImage.css({width:"auto",height:"100%"}),this.$slide.css("width",this.$mainImage.width())):"vertical"===this.settings.orientation&&(this.$mainImage.css({width:"100%",height:"auto"}),this.$slide.css("height",this.$mainImage.height())):!0===this.settings.autoHeight?this.$mainImage.css({width:"100%",height:"auto"}):("cover"===this.settings.imageScaleMode?this.$mainImage.width()/this.$mainImage.height()<=this.width/this.height?this.$mainImage.css({width:"100%",height:"auto"}):this.$mainImage.css({width:"auto",height:"100%"}):"contain"===this.settings.imageScaleMode?this.$mainImage.width()/this.$mainImage.height()>=this.width/this.height?this.$mainImage.css({width:"100%",height:"auto"}):this.$mainImage.css({width:"auto",height:"100%"}):"exact"===this.settings.imageScaleMode&&this.$mainImage.css({width:"100%",height:"100%"}),!0===this.settings.centerImage&&this.$mainImage.css({marginLeft:.5*(this.$imageContainer.width()-this.$mainImage.width()),marginTop:.5*(this.$imageContainer.height()-this.$mainImage.height())}))},destroy:function(){this.$slide.removeAttr("style"),this.$slide.removeAttr("data-init"),this.$slide.removeAttr("data-index"),this.$slide.removeAttr("data-loaded"),!0===this.hasMainImage&&(this.$slide.find(".sp-image").removeAttr("style").appendTo(this.$slide),this.$slide.find(".sp-image-container").remove())},getIndex:function(){return this.index},setIndex:function(t){this.index=t,this.$slide.attr("data-index",this.index)},on:function(t,i){return this.$slide.on(t,i)},off:function(t){return this.$slide.off(t)},trigger:function(t){return this.$slide.triggerHandler(t)}},c.SliderPro=o,c.SliderProSlide=n,g.fn.sliderPro=function(e){var n=Array.prototype.slice.call(arguments,1);return this.each(function(){if(void 0===g(this).data("sliderPro")){var t=new o(this,e);g(this).data("sliderPro",t)}else if(void 0!==e){var i=g(this).data("sliderPro");if("function"==typeof i[e])i[e].apply(i,n);else if(void 0!==i.settings[e]){var s={};s[e]=n[0],i._setProperties(s)}else"object"==typeof e?i._setProperties(e):g.error(e+" does not exist in sliderPro.")}})};var f={supportedAnimation:null,vendorPrefix:null,transitionEvent:null,isIE:null,getSupportedAnimation:function(){if(null!==this.supportedAnimation)return this.supportedAnimation;var t=(document.body||document.documentElement).style;if(!0===(void 0!==t.transition||void 0!==t.WebkitTransition||void 0!==t.MozTransition||void 0!==t.OTransition)){var i=document.createElement("div");if(void 0===i.style.WebkitPerspective&&void 0===i.style.perspective||(this.supportedAnimation="css-3d"),"css-3d"===this.supportedAnimation&&void 0!==i.styleWebkitPerspective){var s=document.createElement("style");s.textContent="@media (transform-3d),(-webkit-transform-3d){#test-3d{left:9px;position:absolute;height:5px;margin:0;padding:0;border:0;}}",document.getElementsByTagName("head")[0].appendChild(s),i.id="test-3d",document.body.appendChild(i),9===i.offsetLeft&&5===i.offsetHeight||(this.supportedAnimation=null),s.parentNode.removeChild(s),i.parentNode.removeChild(i)}null!==this.supportedAnimation||void 0===i.style["-webkit-transform"]&&void 0===i.style.transform||(this.supportedAnimation="css-2d")}else this.supportedAnimation="javascript";return this.supportedAnimation},getVendorPrefix:function(){if(null!==this.vendorPrefix)return this.vendorPrefix;var t=document.createElement("div"),i=["Webkit","Moz","ms","O"];if("transform"in t.style)return this.vendorPrefix="",this.vendorPrefix;for(var s=0;s<i.length;s++)if(i[s]+"Transform"in t.style){this.vendorPrefix="-"+i[s].toLowerCase()+"-";break}return this.vendorPrefix},getTransitionEvent:function(){if(null!==this.transitionEvent)return this.transitionEvent;var t=document.createElement("div"),i={transition:"transitionend",WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd"};for(var s in i)if(s in t.style){this.transitionEvent=i[s];break}return this.transitionEvent},checkImagesComplete:function(t,i){var s=this,e=this.checkImagesStatus(t);if("loading"===e)var n=setInterval(function(){"complete"===(e=s.checkImagesStatus(t))&&(clearInterval(n),"function"==typeof i&&i())},100);else"function"==typeof i&&i();return e},checkImagesStatus:function(t){var i="complete";return t.is("img")&&!1===t[0].complete?i="loading":t.find("img").each(function(t){!1===g(this)[0].complete&&(i="loading")}),i},checkIE:function(){if(null!==this.isIE)return this.isIE;var t=c.navigator.userAgent;t.indexOf("MSIE");return-1!==t.indexOf("MSIE")||t.match(/Trident.*rv\:11\./)?this.isIE=!0:this.isIE=!1,this.isIE}};c.SliderProUtils=f}(window,jQuery),function(t,n){"use strict";var i="ConditionalImages."+n.SliderPro.namespace,s={previousImageSize:null,currentImageSize:null,isRetinaScreen:!1,initConditionalImages:function(){this.currentImageSize=this.previousImageSize="default",this.isRetinaScreen=void 0!==this._isRetina&&!0===this._isRetina(),this.on("update."+i,n.proxy(this._conditionalImagesOnUpdate,this)),this.on("sliderResize."+i,n.proxy(this._conditionalImagesOnResize,this))},_conditionalImagesOnUpdate:function(){n.each(this.slides,function(t,i){i.$slide.find("img:not([ data-default ])").each(function(){var t=n(this);void 0!==t.attr("data-src")?t.attr("data-default",t.attr("data-src")):t.attr("data-default",t.attr("src"))})})},_conditionalImagesOnResize:function(){if(this.slideWidth<=this.settings.smallSize?this.currentImageSize="small":this.slideWidth<=this.settings.mediumSize?this.currentImageSize="medium":this.slideWidth<=this.settings.largeSize?this.currentImageSize="large":this.currentImageSize="default",this.previousImageSize!==this.currentImageSize){var e=this;n.each(this.slides,function(t,s){s.$slide.find("img").each(function(){var t=n(this),i="";!0===e.isRetinaScreen&&void 0!==t.attr("data-retina"+e.currentImageSize)?(i=t.attr("data-retina"+e.currentImageSize),void 0!==t.attr("data-retina")&&t.attr("data-retina")!==i&&t.attr("data-retina",i)):(!1===e.isRetinaScreen||!0===e.isRetinaScreen&&void 0===t.attr("data-retina"))&&void 0!==t.attr("data-"+e.currentImageSize)&&(i=t.attr("data-"+e.currentImageSize),void 0!==t.attr("data-src")&&t.attr("data-src")!==i&&t.attr("data-src",i)),""!==i&&void 0===t.attr("data-src")&&t.attr("src")!==i&&e._loadConditionalImage(t,i,function(t){t.hasClass("sp-image")&&(s.$mainImage=t,s.resizeMainImage(!0))})})}),this.previousImageSize=this.currentImageSize}},_loadConditionalImage:function(t,i,s){var e=n(new Image);e.attr("class",t.attr("class")),e.attr("style",t.attr("style")),n.each(t.data(),function(t,i){e.attr("data-"+t,i)}),void 0!==t.attr("width")&&e.attr("width",t.attr("width")),void 0!==t.attr("height")&&e.attr("height",t.attr("height")),void 0!==t.attr("alt")&&e.attr("alt",t.attr("alt")),void 0!==t.attr("title")&&e.attr("title",t.attr("title")),e.attr("src",i),e.insertAfter(t),t.remove(),t=null,"function"==typeof s&&s(e)},destroyConditionalImages:function(){this.off("update."+i),this.off("sliderResize."+i)},conditionalImagesDefaults:{smallSize:480,mediumSize:768,largeSize:1024}};n.SliderPro.addModule("ConditionalImages",s)}(window,jQuery),function(t,a){"use strict";var s="TouchSwipe."+a.SliderPro.namespace,i={touchStartPoint:{x:0,y:0},touchEndPoint:{x:0,y:0},touchDistance:{x:0,y:0},touchStartPosition:0,isTouchMoving:!1,touchSwipeEvents:{startEvent:"",moveEvent:"",endEvent:""},allowOppositeScrolling:!0,initTouchSwipe:function(){var i=this;!1!==this.settings.touchSwipe&&(this.touchSwipeEvents.startEvent="touchstart."+s+" mousedown."+s,this.touchSwipeEvents.moveEvent="touchmove."+s+" mousemove."+s,this.touchSwipeEvents.endEvent="touchend."+this.uniqueId+"."+s+" mouseup."+this.uniqueId+"."+s,this.$slidesMask.on(this.touchSwipeEvents.startEvent,a.proxy(this._onTouchStart,this)),this.$slidesMask.on("dragstart."+s,function(t){t.preventDefault()}),this.$slidesMask.find("a").on("click."+s,function(t){void 0===t.originalEvent.touches&&i.$slider.hasClass("sp-swiping")&&t.preventDefault()}),this.$slidesMask.addClass("sp-grab"))},_onTouchStart:function(t){if(!(1<=a(t.target).closest(".sp-selectable").length)){var i=void 0!==t.originalEvent.touches?t.originalEvent.touches[0]:t.originalEvent;this.touchStartPoint.x=i.pageX||i.clientX,this.touchStartPoint.y=i.pageY||i.clientY,this.touchStartPosition=this.slidesPosition,this.touchDistance.x=this.touchDistance.y=0,this.$slides.hasClass("sp-animated")&&(this.isTouchMoving=!0,this._stopMovement(),this.touchStartPosition=this.slidesPosition),a(document).on(this.touchSwipeEvents.moveEvent,a.proxy(this._onTouchMove,this)),a(document).on(this.touchSwipeEvents.endEvent,a.proxy(this._onTouchEnd,this)),this.$slidesMask.removeClass("sp-grab").addClass("sp-grabbing"),this.$slider.addClass("sp-swiping")}},_onTouchMove:function(t){var i=void 0!==t.originalEvent.touches?t.originalEvent.touches[0]:t.originalEvent;this.isTouchMoving=!0,this.touchEndPoint.x=i.pageX||i.clientX,this.touchEndPoint.y=i.pageY||i.clientY,this.touchDistance.x=this.touchEndPoint.x-this.touchStartPoint.x,this.touchDistance.y=this.touchEndPoint.y-this.touchStartPoint.y;var s="horizontal"===this.settings.orientation?this.touchDistance.x:this.touchDistance.y,e="horizontal"===this.settings.orientation?this.touchDistance.y:this.touchDistance.x;Math.abs(s)>Math.abs(e)&&(this.allowOppositeScrolling=!1),!0!==this.allowOppositeScrolling&&(t.preventDefault(),!1===this.settings.loop&&(this.slidesPosition>this.touchStartPosition&&0===this.selectedSlideIndex||this.slidesPosition<this.touchStartPosition&&this.selectedSlideIndex===this.getTotalSlides()-1)&&(s*=.2),this._moveTo(this.touchStartPosition+s,!0))},_onTouchEnd:function(t){var i=this,s="horizontal"===this.settings.orientation?this.touchDistance.x:this.touchDistance.y;if(a(document).off(this.touchSwipeEvents.moveEvent),a(document).off(this.touchSwipeEvents.endEvent),this.allowOppositeScrolling=!0,this.$slidesMask.removeClass("sp-grabbing").addClass("sp-grab"),(!1===this.isTouchMoving||!0===this.isTouchMoving&&Math.abs(this.touchDistance.x)<10&&Math.abs(this.touchDistance.y)<10)&&this.$slider.removeClass("sp-swiping"),setTimeout(function(){i.$slider.removeClass("sp-swiping")},1),!1!==this.isTouchMoving){var e=!(this.isTouchMoving=!1)===this.settings.centerSelectedSlide?Math.round((parseInt(this.$slidesMask.css(this.sizeProperty),10)-this.getSlideAt(this.selectedSlideIndex).getSize()[this.sizeProperty])/2):0,n=-parseInt(this.$slides.find(".sp-slide").eq(this.selectedSlideIndex).css(this.positionProperty),10)+e;if(Math.abs(s)<this.settings.touchSwipeThreshold)this._moveTo(n);else{var o=(!0===this.settings.rightToLeft&&"horizontal"===this.settings.orientation?-1:1)*s/(this.averageSlideSize+this.settings.slideDistance);o=parseInt(o,10)+(0<o?1:-1);var h=this.slidesOrder[a.inArray(this.selectedSlideIndex,this.slidesOrder)-o];!0===this.settings.loop?this.gotoSlide(h):void 0!==h?this.gotoSlide(h):this._moveTo(n)}}},destroyTouchSwipe:function(){this.$slidesMask.off("dragstart."+s),this.$slidesMask.find("a").off("click."+s),this.$slidesMask.off(this.touchSwipeEvents.startEvent),a(document).off(this.touchSwipeEvents.moveEvent),a(document).off(this.touchSwipeEvents.endEvent),this.$slidesMask.removeClass("sp-grab")},touchSwipeDefaults:{touchSwipe:!0,touchSwipeThreshold:50}};a.SliderPro.addModule("TouchSwipe",i)}(window,jQuery),function(t,i){"use strict";var s="Autoplay."+i.SliderPro.namespace,e={autoplayTimer:null,isTimerRunning:!1,isTimerPaused:!1,initAutoplay:function(){this.on("update."+s,i.proxy(this._autoplayOnUpdate,this))},_autoplayOnUpdate:function(t){!0===this.settings.autoplay?(this.on("gotoSlide."+s,i.proxy(this._autoplayOnGotoSlide,this)),this.on("mouseenter."+s,i.proxy(this._autoplayOnMouseEnter,this)),this.on("mouseleave."+s,i.proxy(this._autoplayOnMouseLeave,this)),this.startAutoplay()):(this.off("gotoSlide."+s),this.off("mouseenter."+s),this.off("mouseleave."+s),this.stopAutoplay())},_autoplayOnGotoSlide:function(t){!0===this.isTimerRunning&&this.stopAutoplay(),!1===this.isTimerPaused&&this.startAutoplay()},_autoplayOnMouseEnter:function(t){!this.isTimerRunning||"pause"!==this.settings.autoplayOnHover&&"stop"!==this.settings.autoplayOnHover||(this.stopAutoplay(),this.isTimerPaused=!0)},_autoplayOnMouseLeave:function(t){!0===this.settings.autoplay&&!1===this.isTimerRunning&&"stop"!==this.settings.autoplayOnHover&&(this.startAutoplay(),this.isTimerPaused=!1)},startAutoplay:function(){var t=this;this.isTimerRunning=!0,this.autoplayTimer=setTimeout(function(){"normal"===t.settings.autoplayDirection?t.nextSlide():"backwards"===t.settings.autoplayDirection&&t.previousSlide()},this.settings.autoplayDelay)},stopAutoplay:function(){this.isTimerRunning=!1,this.isTimerPaused=!1,clearTimeout(this.autoplayTimer)},destroyAutoplay:function(){clearTimeout(this.autoplayTimer),this.off("update."+s),this.off("gotoSlide."+s),this.off("mouseenter."+s),this.off("mouseleave."+s)},autoplayDefaults:{autoplay:!0,autoplayDelay:5e3,autoplayDirection:"normal",autoplayOnHover:"pause"}};i.SliderPro.addModule("Autoplay",e)}(window,jQuery),function(t,s){"use strict";var e="Buttons."+s.SliderPro.namespace,i={$buttons:null,initButtons:function(){this.on("update."+e,s.proxy(this._buttonsOnUpdate,this))},_buttonsOnUpdate:function(){this.$buttons=this.$slider.find(".sp-buttons"),!0===this.settings.buttons&&1<this.getTotalSlides()&&0===this.$buttons.length?this._createButtons():!0===this.settings.buttons&&this.getTotalSlides()!==this.$buttons.find(".sp-button").length&&0!==this.$buttons.length?this._adjustButtons():(!1===this.settings.buttons||this.getTotalSlides()<=1&&0!==this.$buttons.length)&&this._removeButtons()},_createButtons:function(){var i=this;this.$buttons=s('<div class="sp-buttons"></div>').appendTo(this.$slider);for(var t=0;t<this.getTotalSlides();t++)s('<div class="sp-button"></div>').appendTo(this.$buttons);this.$buttons.on("click."+e,".sp-button",function(){i.gotoSlide(s(this).index())}),this.$buttons.find(".sp-button").eq(this.selectedSlideIndex).addClass("sp-selected-button"),this.on("gotoSlide."+e,function(t){i.$buttons.find(".sp-selected-button").removeClass("sp-selected-button"),i.$buttons.find(".sp-button").eq(t.index).addClass("sp-selected-button")}),this.$slider.addClass("sp-has-buttons")},_adjustButtons:function(){this.$buttons.empty();for(var t=0;t<this.getTotalSlides();t++)s('<div class="sp-button"></div>').appendTo(this.$buttons);this.$buttons.find(".sp-selected-button").removeClass("sp-selected-button"),this.$buttons.find(".sp-button").eq(this.selectedSlideIndex).addClass("sp-selected-button")},_removeButtons:function(){this.$buttons.off("click."+e,".sp-button"),this.off("gotoSlide."+e),this.$buttons.remove(),this.$slider.removeClass("sp-has-buttons")},destroyButtons:function(){this._removeButtons(),this.off("update."+e)},buttonsDefaults:{buttons:!0}};s.SliderPro.addModule("Buttons",i)}(window,jQuery),function(t,i){"use strict";var s="Arrows."+i.SliderPro.namespace,e={$arrows:null,$previousArrow:null,$nextArrow:null,initArrows:function(){this.on("update."+s,i.proxy(this._arrowsOnUpdate,this)),this.on("gotoSlide."+s,i.proxy(this._checkArrowsVisibility,this))},_arrowsOnUpdate:function(){var t=this;!0===this.settings.arrows&&null===this.$arrows?(this.$arrows=i('<div class="sp-arrows"></div>').appendTo(this.$slidesContainer),this.$previousArrow=i('<div class="sp-arrow sp-previous-arrow"></div>').appendTo(this.$arrows),this.$nextArrow=i('<div class="sp-arrow sp-next-arrow"></div>').appendTo(this.$arrows),this.$previousArrow.on("click."+s,function(){t.previousSlide()}),this.$nextArrow.on("click."+s,function(){t.nextSlide()}),this._checkArrowsVisibility()):!1===this.settings.arrows&&null!==this.$arrows&&this._removeArrows(),!0===this.settings.arrows&&(!0===this.settings.fadeArrows?this.$arrows.addClass("sp-fade-arrows"):!1===this.settings.fadeArrows&&this.$arrows.removeClass("sp-fade-arrows"))},_checkArrowsVisibility:function(){!1!==this.settings.arrows&&!0!==this.settings.loop&&(0===this.selectedSlideIndex?this.$previousArrow.css("display","none"):this.$previousArrow.css("display","block"),this.selectedSlideIndex===this.getTotalSlides()-1?this.$nextArrow.css("display","none"):this.$nextArrow.css("display","block"))},_removeArrows:function(){null!==this.$arrows&&(this.$previousArrow.off("click."+s),this.$nextArrow.off("click."+s),this.$arrows.remove(),this.$arrows=null)},destroyArrows:function(){this._removeArrows(),this.off("update."+s),this.off("gotoSlide."+s)},arrowsDefaults:{arrows:!1,fadeArrows:!0}};i.SliderPro.addModule("Arrows",e)}(window,jQuery);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFsbC5qcyJdLCJuYW1lcyI6WyIkIiwic21hbGxTY3JlZW4iLCJ3aW5kb3ciLCJtYXRjaE1lZGlhIiwibWVkaXVtU2NyZWVuIiwibXlGdW5jdGlvbiIsIngiLCJtYXRjaGVzIiwic2xpZGVyUHJvIiwid2lkdGgiLCJoZWlnaHQiLCJhcnJvd3MiLCJidXR0b25zIiwic2h1ZmZsZSIsInNtYWxsU2l6ZSIsIm1lZGl1bVNpemUiLCJsYXJnZVNpemUiLCJhdXRvcGxheSIsImFkZExpc3RlbmVyIiwid2lkZVNjcmVlbiIsImVhY2giLCJ0aGlzIiwiYXR0ciIsImRhdGFzZXQiLCJnYWxsZXJ5SW1hZ2VXaWRlIiwiZ2FsbGVyeUltYWdlU21hbGwiLCJjbGljayIsInRvZ2dsZUNsYXNzIiwiZG9jdW1lbnQiLCJjcmVhdGVFbGVtZW50IiwiY2FuUGxheVR5cGUiLCJpbmRleCIsInBsYXlpbmciLCJ0cmFja3MiLCJ0cmFjayIsIm5hbWUiLCJsZW5ndGgiLCJmaWxlIiwidHJhY2tDb3VudCIsImF1ZGlvIiwicHJvcCIsIm9uIiwibG9hZFRyYWNrIiwicGxheSIsInBhdXNlIiwiZ2V0IiwiaWQiLCJwYXJzZUludCIsInBsYXlUcmFjayIsInJlbW92ZUNsYXNzIiwiYWRkQ2xhc3MiLCJzcmMiLCJjdXJyZW50V2luZG93IiwibG9jYXRpb24iLCJocmVmIiwic3BsaXQiLCJzbGljZSIsIlNsaWRlclBybyIsIm1vZHVsZXMiLCJhZGRNb2R1bGUiLCJtb2R1bGUiLCJwdXNoIiwiZXh0ZW5kIiwicHJvdG90eXBlIiwiTlMiLCJuYW1lc3BhY2UiLCJpbnN0YW5jZSIsIm9wdGlvbnMiLCIkc2xpZGVyIiwiJHNsaWRlcyIsIiRzbGlkZXNNYXNrIiwiJHNsaWRlc0NvbnRhaW5lciIsInNsaWRlcyIsInNsaWRlc09yZGVyIiwic2V0dGluZ3MiLCJvcmlnaW5hbFNldHRpbmdzIiwib3JpZ2luYWxHb3RvU2xpZGUiLCJzZWxlY3RlZFNsaWRlSW5kZXgiLCJwcmV2aW91c1NsaWRlSW5kZXgiLCJtaWRkbGVTbGlkZVBvc2l0aW9uIiwic3VwcG9ydGVkQW5pbWF0aW9uIiwidmVuZG9yUHJlZml4IiwidHJhbnNpdGlvbkV2ZW50IiwicG9zaXRpb25Qcm9wZXJ0eSIsInNpemVQcm9wZXJ0eSIsImlzSUUiLCJzbGlkZXNQb3NpdGlvbiIsInNsaWRlc1NpemUiLCJhdmVyYWdlU2xpZGVTaXplIiwic2xpZGVXaWR0aCIsInNsaWRlSGVpZ2h0IiwicHJldmlvdXNTbGlkZVdpZHRoIiwicHJldmlvdXNTbGlkZUhlaWdodCIsInByZXZpb3VzV2luZG93V2lkdGgiLCJwcmV2aW91c1dpbmRvd0hlaWdodCIsImFsbG93UmVzaXplIiwidW5pcXVlSWQiLCJEYXRlIiwidmFsdWVPZiIsImJyZWFrcG9pbnRzIiwiY3VycmVudEJyZWFrcG9pbnQiLCJzaHVmZmxlZEluZGV4ZXMiLCJfaW5pdCIsInRoYXQiLCJTbGlkZXJQcm9VdGlscyIsImdldFN1cHBvcnRlZEFuaW1hdGlvbiIsImdldFZlbmRvclByZWZpeCIsImdldFRyYW5zaXRpb25FdmVudCIsImNoZWNrSUUiLCJuYXZpZ2F0b3IiLCJ1c2VyQWdlbnQiLCJtYXRjaCIsImllVmVyc2lvbiIsImV4ZWMiLCJ0b0xvd2VyQ2FzZSIsImFwcGVuZFRvIiwiZmluZCIsImkiLCJkZWZhdWx0cyIsInN1YnN0cmluZyIsImoiLCJnb3RvU2xpZGUiLCJzaXplcyIsInNpemUiLCJwcm9wZXJ0aWVzIiwic29ydCIsImEiLCJiIiwic3RhcnRTbGlkZSIsInNodWZmbGVkU2xpZGVzIiwiayIsImwiLCJNYXRoIiwiZmxvb3IiLCJyYW5kb20iLCJ0ZW1wIiwiZWxlbWVudCIsImVtcHR5IiwiYXBwZW5kIiwibmV3V2luZG93V2lkdGgiLCJuZXdXaW5kb3dIZWlnaHQiLCJzZXRUaW1lb3V0IiwicmVzaXplIiwidXBkYXRlIiwiZXEiLCJ0cmlnZ2VyIiwidHlwZSIsImlzRnVuY3Rpb24iLCJpbml0IiwiY2FsbCIsIm9yaWVudGF0aW9uIiwiY3NzIiwibWF4LWhlaWdodCIsInJpZ2h0VG9MZWZ0Iiwic2xpZGUiLCJvZmYiLCJkZXN0cm95Iiwic3BsaWNlIiwiJHNsaWRlIiwiX2NyZWF0ZVNsaWRlIiwic2V0SW5kZXgiLCJsb29wIiwiX3VwZGF0ZVNsaWRlc09yZGVyIiwiU2xpZGVyUHJvU2xpZGUiLCJldmVudCIsImF1dG9TbGlkZVNpemUiLCJoYXNDbGFzcyIsIl9yZXNldFNsaWRlc1Bvc2l0aW9uIiwiX2NhbGN1bGF0ZVNsaWRlc1NpemUiLCJhdXRvSGVpZ2h0IiwiX3Jlc2l6ZUhlaWdodFRvIiwiZ2V0U2l6ZSIsInNsaWNlZEl0ZW1zIiwiZGlzdGFuY2UiLCJpbkFycmF5IiwiYWJzIiwidW5zaGlmdCIsIl91cGRhdGVTbGlkZXNQb3NpdGlvbiIsIiRzbGlkZUVsZW1lbnQiLCJzbGlkZUluZGV4IiwiZGlyZWN0aW9uTXVsdGlwbGllciIsInNsaWRlU2l6ZSIsInNlbGVjdGVkU2xpZGVQaXhlbFBvc2l0aW9uIiwicHJldmlvdXNQb3NpdGlvbiIsImdldFNsaWRlQXQiLCJzbGlkZURpc3RhbmNlIiwic2VsZWN0ZWRTbGlkZVNpemUiLCJzZWxlY3RlZFNsaWRlT2Zmc2V0IiwiY2VudGVyU2VsZWN0ZWRTbGlkZSIsInJvdW5kIiwibmV3U2xpZGVzUG9zaXRpb24iLCJfbW92ZVRvIiwiZmlyc3RTbGlkZSIsImZpcnN0U2xpZGVQb3NpdGlvbiIsImxhc3RTbGlkZSIsImxhc3RTbGlkZVBvc2l0aW9uIiwiX3NldFByb3BlcnRpZXMiLCJuIiwiZXZlbnRPYmplY3QiLCJicmVha3BvaW50UmVhY2giLCJyZXNwb25zaXZlIiwiZm9yY2VTaXplIiwidmlzaWJsZVNpemUiLCJtYXgtd2lkdGgiLCJtYXJnaW5MZWZ0Iiwib2Zmc2V0IiwibGVmdCIsImFzcGVjdFJhdGlvIiwiaXNOYU4iLCJvdXRlcldpZHRoIiwicGFyZW50IiwiX3Jlc2l6ZVNsaWRlcyIsIl9yZXNpemVIZWlnaHQiLCJzbGlkZXJSZXNpemUiLCJzZXRTaXplIiwic2VsZWN0ZWRTbGlkZSIsInByZXZpb3VzSW5kZXgiLCJnb3RvU2xpZGVDb21wbGV0ZSIsIm5leHRTbGlkZSIsImdldFRvdGFsU2xpZGVzIiwicHJldmlvdXNTbGlkZSIsInBvc2l0aW9uIiwiaW5zdGFudCIsImNhbGxiYWNrIiwiYW5pbWF0ZSIsInNsaWRlQW5pbWF0aW9uRHVyYXRpb24iLCJ0cmFuc2l0aW9uIiwidG9wIiwidGFyZ2V0IiwiY3VycmVudFRhcmdldCIsIl9zdG9wTW92ZW1lbnQiLCJzdG9wIiwibWF0cml4U3RyaW5nIiwibWF0cml4VHlwZSIsImluZGV4T2YiLCJtYXRyaXhBcnJheSIsInJlcGxhY2UiLCJoZWlnaHRBbmltYXRpb25EdXJhdGlvbiIsInJlc2l6ZUhlaWdodENvbXBsZXRlIiwicmVtb3ZlRGF0YSIsInJlbW92ZUF0dHIiLCJwcmVwZW5kVG8iLCJyZW1vdmUiLCJzdG9yZSIsImRhdGEiLCJ0cmlnZ2VySGFuZGxlciIsImdldFNlbGVjdGVkU2xpZGUiLCJpbWFnZVNjYWxlTW9kZSIsImNlbnRlckltYWdlIiwiYWxsb3dTY2FsZVVwIiwiJG1haW5JbWFnZSIsIiRpbWFnZUNvbnRhaW5lciIsImhhc01haW5JbWFnZSIsImlzTWFpbkltYWdlTG9hZGVkIiwiaXNNYWluSW1hZ2VMb2FkaW5nIiwiaGFzSW1hZ2VzIiwiYXJlSW1hZ2VzTG9hZGVkIiwiYXJlSW1hZ2VzTG9hZGluZyIsInJlc2l6ZU1haW5JbWFnZSIsImNoZWNrSW1hZ2VzU3RhdHVzIiwiY2hlY2tJbWFnZXNDb21wbGV0ZSIsImNhbGN1bGF0ZVNpemUiLCJjaGlsZHJlbiIsImNoaWxkIiwiaXMiLCJyZWN0IiwiZ2V0Qm91bmRpbmdDbGllbnRSZWN0IiwiYm90dG9tIiwicmlnaHQiLCJpc05ld0ltYWdlIiwibWF4V2lkdGgiLCJtYXhIZWlnaHQiLCJtYXJnaW5Ub3AiLCJnZXRJbmRleCIsImZuIiwiYXJncyIsIkFycmF5IiwiYXJndW1lbnRzIiwibmV3SW5zdGFuY2UiLCJjdXJyZW50SW5zdGFuY2UiLCJhcHBseSIsIm9iaiIsImVycm9yIiwiZWxlbWVudFN0eWxlIiwiYm9keSIsImRvY3VtZW50RWxlbWVudCIsInN0eWxlIiwiV2Via2l0VHJhbnNpdGlvbiIsIk1velRyYW5zaXRpb24iLCJPVHJhbnNpdGlvbiIsImRpdiIsIldlYmtpdFBlcnNwZWN0aXZlIiwicGVyc3BlY3RpdmUiLCJzdHlsZVdlYmtpdFBlcnNwZWN0aXZlIiwidGV4dENvbnRlbnQiLCJnZXRFbGVtZW50c0J5VGFnTmFtZSIsImFwcGVuZENoaWxkIiwib2Zmc2V0TGVmdCIsIm9mZnNldEhlaWdodCIsInBhcmVudE5vZGUiLCJyZW1vdmVDaGlsZCIsInRyYW5zZm9ybSIsInByZWZpeGVzIiwidHJhbnNpdGlvbnMiLCJzdGF0dXMiLCJjaGVja0ltYWdlcyIsInNldEludGVydmFsIiwiY2xlYXJJbnRlcnZhbCIsImNvbXBsZXRlIiwialF1ZXJ5IiwiQ29uZGl0aW9uYWxJbWFnZXMiLCJwcmV2aW91c0ltYWdlU2l6ZSIsImN1cnJlbnRJbWFnZVNpemUiLCJpc1JldGluYVNjcmVlbiIsImluaXRDb25kaXRpb25hbEltYWdlcyIsIl9pc1JldGluYSIsInByb3h5IiwiX2NvbmRpdGlvbmFsSW1hZ2VzT25VcGRhdGUiLCJfY29uZGl0aW9uYWxJbWFnZXNPblJlc2l6ZSIsIiRpbWFnZSIsImltYWdlU291cmNlIiwiX2xvYWRDb25kaXRpb25hbEltYWdlIiwibmV3SW1hZ2UiLCJpbWFnZSIsInNvdXJjZSIsIkltYWdlIiwidmFsdWUiLCJpbnNlcnRBZnRlciIsImRlc3Ryb3lDb25kaXRpb25hbEltYWdlcyIsImNvbmRpdGlvbmFsSW1hZ2VzRGVmYXVsdHMiLCJUb3VjaFN3aXBlIiwidG91Y2hTdGFydFBvaW50IiwieSIsInRvdWNoRW5kUG9pbnQiLCJ0b3VjaERpc3RhbmNlIiwidG91Y2hTdGFydFBvc2l0aW9uIiwiaXNUb3VjaE1vdmluZyIsInRvdWNoU3dpcGVFdmVudHMiLCJzdGFydEV2ZW50IiwibW92ZUV2ZW50IiwiZW5kRXZlbnQiLCJhbGxvd09wcG9zaXRlU2Nyb2xsaW5nIiwiaW5pdFRvdWNoU3dpcGUiLCJ0b3VjaFN3aXBlIiwiX29uVG91Y2hTdGFydCIsInByZXZlbnREZWZhdWx0Iiwib3JpZ2luYWxFdmVudCIsInRvdWNoZXMiLCJjbG9zZXN0IiwicGFnZVgiLCJjbGllbnRYIiwicGFnZVkiLCJjbGllbnRZIiwiX29uVG91Y2hNb3ZlIiwiX29uVG91Y2hFbmQiLCJvcHBvc2l0ZURpc3RhbmNlIiwib2xkU2xpZGVzUG9zaXRpb24iLCJ0b3VjaFN3aXBlVGhyZXNob2xkIiwic2xpZGVBcnJheURpc3RhbmNlIiwibmV4dFNsaWRlSW5kZXgiLCJkZXN0cm95VG91Y2hTd2lwZSIsInRvdWNoU3dpcGVEZWZhdWx0cyIsIkF1dG9wbGF5IiwiYXV0b3BsYXlUaW1lciIsImlzVGltZXJSdW5uaW5nIiwiaXNUaW1lclBhdXNlZCIsImluaXRBdXRvcGxheSIsIl9hdXRvcGxheU9uVXBkYXRlIiwiX2F1dG9wbGF5T25Hb3RvU2xpZGUiLCJfYXV0b3BsYXlPbk1vdXNlRW50ZXIiLCJfYXV0b3BsYXlPbk1vdXNlTGVhdmUiLCJzdGFydEF1dG9wbGF5Iiwic3RvcEF1dG9wbGF5IiwiYXV0b3BsYXlPbkhvdmVyIiwiYXV0b3BsYXlEaXJlY3Rpb24iLCJhdXRvcGxheURlbGF5IiwiY2xlYXJUaW1lb3V0IiwiZGVzdHJveUF1dG9wbGF5IiwiYXV0b3BsYXlEZWZhdWx0cyIsIkJ1dHRvbnMiLCIkYnV0dG9ucyIsImluaXRCdXR0b25zIiwiX2J1dHRvbnNPblVwZGF0ZSIsIl9jcmVhdGVCdXR0b25zIiwiX2FkanVzdEJ1dHRvbnMiLCJfcmVtb3ZlQnV0dG9ucyIsImRlc3Ryb3lCdXR0b25zIiwiYnV0dG9uc0RlZmF1bHRzIiwiQXJyb3dzIiwiJGFycm93cyIsIiRwcmV2aW91c0Fycm93IiwiJG5leHRBcnJvdyIsImluaXRBcnJvd3MiLCJfYXJyb3dzT25VcGRhdGUiLCJfY2hlY2tBcnJvd3NWaXNpYmlsaXR5IiwiX3JlbW92ZUFycm93cyIsImZhZGVBcnJvd3MiLCJkZXN0cm95QXJyb3dzIiwiYXJyb3dzRGVmYXVsdHMiXSwibWFwcGluZ3Mi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LElBQUssU0FBVzNGLEdBQ3BDM0MsS0FBS2tYLFdBQVc1TyxJQUFLLFNBQVczRixHQUNoQzNDLEtBQUtnWCxRQUFRbkosU0FDYjdOLEtBQUtnWCxRQUFVLE9BSW5CUSxjQUFlLFdBQ2J4WCxLQUFLc1gsZ0JBQ0x0WCxLQUFLc0ksSUFBSyxVQUFZM0YsR0FDdEIzQyxLQUFLc0ksSUFBSyxhQUFlM0YsSUFHM0I4VSxlQUFnQixDQUdkblksUUFBUSxFQUdSaVksWUFBWSxJQUloQjVZLEVBQUV5RCxVQUFVRSxVQUFXLFNBQVV5VSxHQWxHbEMsQ0FvR0dsWSxPQUFRbVQiLCJmaWxlIjoiYWxsLmpzIiwic291cmNlc0NvbnRlbnQiOlsiOyQoZnVuY3Rpb24oKXtcclxuXHQndXNlIHN0cmljdCc7XHJcblxyXG5cclxuXHQvKiBzbGlkZXIgKi9cclxuICAvLyBhc3NpZ24gbWVkaWEgcXVlcnkgdG8gdmFyaWFibGVcclxuICB2YXIgc21hbGxTY3JlZW4gPSB3aW5kb3cubWF0Y2hNZWRpYShcIihtYXgtd2lkdGg6IDUwMHB4KVwiKTtcclxuICB2YXIgbWVkaXVtU2NyZWVuID0gd2luZG93Lm1hdGNoTWVkaWEoXCIobWluLXdpZHRoOiA1MDBweCkgYW5kIChtYXgtd2lkdGg6IDk5MnB4KVwiKTtcclxuXHJcblx0Ly8gc2V0IHNsaWRlciBvcHRpb25zIGZvciBlYWNoIEBtZWRpYSBzY3JlZW4gc2l6ZXNcclxuXHRmdW5jdGlvbiBteUZ1bmN0aW9uKHgpIHtcclxuICAgIGlmIChzbWFsbFNjcmVlbi5tYXRjaGVzKSB7IC8vIElmIG1lZGlhIHF1ZXJ5IG1hdGNoZXNcclxuICAgICAgJCggJyNteS1zbGlkZXInICkuc2xpZGVyUHJvKHtcclxuXHRcdFx0XHR3aWR0aDogNTAwLFxyXG5cdFx0XHRcdGhlaWdodDogNzAwLFxyXG5cdFx0XHRcdGFycm93czogdHJ1ZSxcclxuXHRcdFx0XHRidXR0b25zOiBmYWxzZSxcclxuXHRcdFx0XHRzaHVmZmxlOiB0cnVlLFxyXG5cdFx0XHRcdHNtYWxsU2l6ZTogNTAwLFxyXG5cdFx0XHRcdG1lZGl1bVNpemU6IDEwMDAsXHJcblx0XHRcdFx0bGFyZ2VTaXplOiAzMDAwLFxyXG5cdFx0XHRcdGF1dG9wbGF5OiBmYWxzZSxcclxuXHRcdFx0fSk7XHJcblxyXG4gICAgfSBlbHNlIGlmKG1lZGl1bVNjcmVlbi5tYXRjaGVzKXtcclxuICAgICAgJCggJyNteS1zbGlkZXInICkuc2xpZGVyUHJvKHtcclxuXHRcdFx0XHR3aWR0aDogXCIxMDAlXCIsXHJcblx0XHRcdFx0aGVpZ2h0OiA2NzUsXHJcblx0XHRcdFx0YXJyb3dzOiB0cnVlLFxyXG5cdFx0XHRcdGJ1dHRvbnM6IGZhbHNlLFxyXG5cdFx0XHRcdHNodWZmbGU6IHRydWUsXHJcblx0XHRcdFx0c21hbGxTaXplOiA1MDAsXHJcblx0XHRcdFx0bWVkaXVtU2l6ZTogMTAwMCxcclxuXHRcdFx0XHRsYXJnZVNpemU6IDMwMDAsXHJcblx0XHRcdFx0YXV0b3BsYXk6IGZhbHNlLFxyXG5cdFx0XHRcdC8vIGltYWdlU2NhbGVNb2RlOiBcIm5vbmVcIixcclxuXHRcdFx0fSk7XHJcblxyXG4gICAgfSBlbHNlIHtcclxuICAgICAgJCggJyNteS1zbGlkZXInICkuc2xpZGVyUHJvKHtcclxuXHRcdFx0XHR3aWR0aDogMTIwMCxcclxuXHRcdFx0XHRoZWlnaHQ6IDYwMCxcclxuXHRcdFx0XHRhcnJvd3M6IHRydWUsXHJcblx0XHRcdFx0YnV0dG9uczogZmFsc2UsXHJcblx0XHRcdFx0c2h1ZmZsZTogdHJ1ZSxcclxuXHRcdFx0XHRzbWFsbFNpemU6IDUwMCxcclxuXHRcdFx0XHRtZWRpdW1TaXplOiAxMDAwLFxyXG5cdFx0XHRcdGxhcmdlU2l6ZTogMzAwMCxcclxuXHRcdFx0XHRhdXRvcGxheTogZmFsc2UsXHJcblx0XHRcdFx0Ly8gaW1hZ2VTY2FsZU1vZGU6IFwibm9uZVwiLFxyXG5cdFx0XHR9KTtcclxuICAgIH1cclxuICB9O1xyXG5cclxuICAvLyBDYWxsIGxpc3RlbmVyIGZ1bmN0aW9uIGF0IHJ1biB0aW1lXHJcbiAgbXlGdW5jdGlvbihzbWFsbFNjcmVlbik7XHJcbiAgbXlGdW5jdGlvbihtZWRpdW1TY3JlZW4pO1xyXG5cclxuICAvLyBBdHRhY2ggbGlzdGVuZXIgZnVuY3Rpb24gb24gc3RhdGUgY2hhbmdlc1xyXG4gIHNtYWxsU2NyZWVuLmFkZExpc3RlbmVyKG15RnVuY3Rpb24pO1xyXG4gIG1lZGl1bVNjcmVlbi5hZGRMaXN0ZW5lcihteUZ1bmN0aW9uKTtcclxuXHJcblxyXG4gIC8qIGNoYW5nZSBpbWFnZXMgb24gbGFyZ2Ugc2NyZWVucyBmb3IgZ2FsbGVyeSBwYWdlcyovXHJcbiAgLy8gYXNzaWduIGxpc3RlbmVyIHRvIG1lZGlhIHF1ZXJ5IHN0YXR1cyBjaGFuZ2luZ1xyXG5cdHZhciB3aWRlU2NyZWVuID0gd2luZG93Lm1hdGNoTWVkaWEoXCIobWluLXdpZHRoOiAxMjAwcHgpXCIpO1xyXG4gIHdpZGVTY3JlZW4uYWRkTGlzdGVuZXIobXlGdW5jdGlvbik7XHJcbiAgKGZ1bmN0aW9uKCkge1xyXG4gICAgaWYgKHdpZGVTY3JlZW4ubWF0Y2hlcykge1xyXG4gICAgICAkKCcuZ2FsbGVyeV9faW1hZ2UnKS5lYWNoKGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICQoIHRoaXMgKS5hdHRyKCAnc3JjJywgdGhpcy5kYXRhc2V0LmdhbGxlcnlJbWFnZVdpZGUgKVxyXG4gICAgICB9KVxyXG4gICAgfSBlbHNlIHtcclxuICAgICAgJCgnLmdhbGxlcnlfX2ltYWdlJykuZWFjaChmdW5jdGlvbigpIHtcclxuICAgICAgICAkKCB0aGlzICkuYXR0ciggJ3NyYycsIHRoaXMuZGF0YXNldC5nYWxsZXJ5SW1hZ2VTbWFsbCApO1xyXG4gICAgICB9KVxyXG4gICAgfVxyXG4gIH0pKCk7XHJcblxyXG5cdC8qIG1lbnUgc21hbGwgdG9nZ2xlICovXHJcblx0Ly8gdG9nZ2xlIFwiLm1lbnUtbGlzdC1tb2JpbGVcIiB0byBcIi5tZW51LWxpc3QtbW9iaWxlX29wZW5cIiAgZm9yIG1vYmlsZSBtZW51XHJcblx0JCgnLmhlYWRlcl9fbWVudS1pY29uJykuY2xpY2soZnVuY3Rpb24oKSB7XHJcblx0XHQkKHRoaXMpLnRvZ2dsZUNsYXNzKCdoZWFkZXJfX21lbnUtaWNvbl9vcGVuZWQnKTtcclxuXHRcdCQoJy5tZW51X19saXN0JykudG9nZ2xlQ2xhc3MoJ21lbnVfX2xpc3Rfb3BlbicpO1xyXG5cdH0pO1xyXG5cclxuXHJcbi8qIGF1ZGlvIHBsYXllciAqL1xyXG4vLyBodHRwczovL3N0YWNrb3ZlcmZsb3cuY29tL3F1ZXN0aW9ucy8xODI3NDA2MS9odG1sLTUtYXVkaW8tdGFnLW11bHRpcGxlLWZpbGVzP3V0bV9tZWRpdW09b3JnYW5pYyZ1dG1fc291cmNlPWdvb2dsZV9yaWNoX3FhJnV0bV9jYW1wYWlnbj1nb29nbGVfcmljaF9xYVxyXG4gdmFyIHN1cHBvcnRzQXVkaW8gPSAhIWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2F1ZGlvJykuY2FuUGxheVR5cGU7XHJcbiAgaWYoc3VwcG9ydHNBdWRpbykge1xyXG4gICAgdmFyIGluZGV4ID0gMCxcclxuICAgIHBsYXlpbmcgPSBmYWxzZSxcclxuICAgIG1lZGlhUGF0aCA9ICdtdXNpYy8nLFxyXG4gICAgZXh0ZW5zaW9uID0gJy5tcDMnLFxyXG4gICAgdHJhY2tzID0gW1xyXG4gICAgICB7XCJ0cmFja1wiOjEsXCJuYW1lXCI6XCJCZXR0eSBXaG8gLSBSaWdodCBIZXJlXCIsXCJsZW5ndGhcIjpcIjAzOjU5XCIsXCJmaWxlXCI6XCJCZXR0eV9XaG9fUmlnaHRfSGVyZVwifSxcclxuICAgICAge1widHJhY2tcIjoyLFwibmFtZVwiOlwiSG9sbGV5IE1haGVyIC0gQWx3YXlzIEJlXCIsXCJsZW5ndGhcIjpcIjAzOjUxXCIsXCJmaWxlXCI6XCJIb2xsZXlNYWhlclwifSxcclxuICAgICAge1widHJhY2tcIjozLFwibmFtZVwiOlwiQmV0dHkgV2hvIC0gUmlnaHQgSGVyZVwiLFwibGVuZ3RoXCI6XCIwMzo1OVwiLFwiZmlsZVwiOlwiQmV0dHlfV2hvX1JpZ2h0X0hlcmVcIn0sXHJcbiAgICAgIHtcInRyYWNrXCI6NCxcIm5hbWVcIjpcIkhvbGxleSBNYWhlciAtIEFsd2F5cyBCZVwiLFwibGVuZ3RoXCI6XCIwMzo1MVwiLFwiZmlsZVwiOlwiSG9sbGV5TWFoZXJcIn0sXHJcbiAgICAgIHtcInRyYWNrXCI6NSxcIm5hbWVcIjpcIkhvbGxleSBNYWhlciAtIEFsd2F5cyBCZVwiLFwibGVuZ3RoXCI6XCIwMzo1MVwiLFwiZmlsZVwiOlwiSG9sbGV5TWFoZXJcIn1cclxuICAgIF0sXHJcbiAgICB0cmFja0NvdW50ID0gdHJhY2tzLmxlbmd0aCxcclxuICAgIGF1ZGlvID0gJCgnLmF1ZGlvLWNvbnRhaW5lcl9fdHJhY2stcGxheWVyJykucHJvcCgndm9sdW1lJywgMC41KS5vbigncGxheScsIGZ1bmN0aW9uKCkge1xyXG4gICAgICBwbGF5aW5nID0gdHJ1ZTtcclxuICAgIH0pLm9uKCdwYXVzZScsIGZ1bmN0aW9uKCkge1xyXG4gICAgICBwbGF5aW5nID0gZmFsc2U7XHJcbiAgICB9KS5vbignZW5kZWQnLCBmdW5jdGlvbigpIHtcclxuICAgICAgaWYoKGluZGV4ICsgMSkgPCB0cmFja0NvdW50KSB7XHJcbiAgICAgICAgaW5kZXgrKztcclxuICAgICAgICBsb2FkVHJhY2soaW5kZXgpO1xyXG4gICAgICAgIGF1ZGlvLnBsYXkoKTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICBhdWRpby5wYXVzZSgpO1xyXG4gICAgICAgIGluZGV4ID0gMDtcclxuICAgICAgICBsb2FkVHJhY2soaW5kZXgpO1xyXG4gICAgICB9XHJcbiAgICB9KS5nZXQoMCksXHJcbiAgICBidG5QcmV2ID0gJCgnLmF1ZGlvLWNvbnRhaW5lcl9fYnRuLmJ0bi1wcmV2JykuY2xpY2soZnVuY3Rpb24oKSB7XHJcbiAgICAgIGlmKChpbmRleCAtIDEpID49IDApIHtcclxuICAgICAgICBpbmRleC0tO1xyXG4gICAgICAgIGxvYWRUcmFjayhpbmRleCk7XHJcbiAgICAgICAgaWYocGxheWluZykge1xyXG4gICAgICAgICAgYXVkaW8ucGxheSgpO1xyXG4gICAgICAgIH1cclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICAvLyBhdWRpby5wYXVzZSgpO1xyXG4gICAgICAgIGluZGV4ID0gdHJhY2tDb3VudC0xO1xyXG4gICAgICAgIGxvYWRUcmFjayhpbmRleCk7XHJcbiAgICAgICAgaWYocGxheWluZykge1xyXG4gICAgICAgICAgYXVkaW8ucGxheSgpO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfSksXHJcbiAgICBidG5OZXh0ID0gJCgnLmF1ZGlvLWNvbnRhaW5lcl9fYnRuLmJ0bi1uZXh0JykuY2xpY2soZnVuY3Rpb24oKSB7XHJcbiAgICAgIGlmKChpbmRleCArIDEpIDwgdHJhY2tDb3VudCkge1xyXG4gICAgICAgIGluZGV4Kys7XHJcbiAgICAgICAgbG9hZFRyYWNrKGluZGV4KTtcclxuICAgICAgICBpZihwbGF5aW5nKSB7XHJcbiAgICAgICAgICBhdWRpby5wbGF5KCk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIGF1ZGlvLnBhdXNlKCk7XHJcbiAgICAgICAgaW5kZXggPSAwO1xyXG4gICAgICAgIGxvYWRUcmFjayhpbmRleCk7XHJcbiAgICAgIH1cclxuICAgIH0pLFxyXG4gICAgYnRuUGxheSA9ICQoJy5hdWRpby1jb250YWluZXJfX2J0bi5idG4tcGxheScpLmNsaWNrKGZ1bmN0aW9uKCkge1xyXG4gICAgICBpZihwbGF5aW5nKSB7XHJcbiAgICAgICAgYXVkaW8ucGF1c2UoKTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICBhdWRpby5wbGF5KCk7XHJcbiAgICAgIH1cclxuICAgIH0pLFxyXG5cclxuICAgIGxpID0gJCgnLmF1ZGlvLWNvbnRhaW5lcl9fdHJhY2staXRlbScpLmNsaWNrKGZ1bmN0aW9uKCkge1xyXG4gICAgICB2YXIgaWQgPSBwYXJzZUludCgkKHRoaXMpLmluZGV4KCkpO1xyXG4gICAgICBpZihpZCAhPT0gaW5kZXgpIHtcclxuICAgICAgICBwbGF5VHJhY2soaWQpO1xyXG4gICAgICB9XHJcbiAgICB9KSxcclxuICAgIGxvYWRUcmFjayA9IGZ1bmN0aW9uKGlkKSB7XHJcbiAgICAgICQoJy5hdWRpby1jb250YWluZXJfX3RyYWNrLWl0ZW0nKS5yZW1vdmVDbGFzcygnYXVkaW8tY29udGFpbmVyX190cmFjay1pdGVtX2FjdGl2ZScpO1xyXG4gICAgICAkKCcuYXVkaW8tY29udGFpbmVyX190cmFjay1saXN0IC5hdWRpby1jb250YWluZXJfX3RyYWNrLWl0ZW06ZXEoJyArIGlkICsgJyknKS5hZGRDbGFzcygnYXVkaW8tY29udGFpbmVyX190cmFjay1pdGVtX2FjdGl2ZScpO1xyXG4gICAgICBpbmRleCA9IGlkO1xyXG4gICAgICBhdWRpby5zcmMgPSBtZWRpYVBhdGggKyB0cmFja3NbaWRdLmZpbGUgKyBleHRlbnNpb247XHJcbiAgICB9LFxyXG4gICAgcGxheVRyYWNrID0gZnVuY3Rpb24oaWQpIHtcclxuICAgICAgbG9hZFRyYWNrKGlkKTtcclxuICAgICAgYXVkaW8ucGxheSgpO1xyXG4gICAgfTtcclxuICAgIGxvYWRUcmFjayhpbmRleCk7XHJcbiAgfVxyXG5cclxuXHJcbiAgLyogYWRkICgubWVudV9fbGlua19jdXJyZW50KSBjbGFzcyB0byBtZW51X19pdGVtICovXHJcbiAgdmFyIGN1cnJlbnRXaW5kb3cgPSB3aW5kb3cubG9jYXRpb24uaHJlZi5zcGxpdCgnLycpLnNsaWNlKC0xKVswXTtcclxuXHJcbiAgJCggJy5tZW51X19saW5rJyApLmVhY2goZnVuY3Rpb24oKSB7XHJcbiAgICB2YXIgJHRoYXQgPSB0aGlzO1xyXG4gICAgaWYoICR0aGF0LmhyZWYgPT0gd2luZG93LmxvY2F0aW9uLmhyZWYgKSB7XHJcbiAgICAgICQoICR0aGF0ICkuYWRkQ2xhc3MoICdtZW51X19saW5rX2N1cnJlbnQnICk7XHJcbiAgICB9IGVsc2UgaWYoIGN1cnJlbnRXaW5kb3cgPT0gJ3BvcnRmb2xpb19fb2tzYW5rYSZ2b2xvZHlteXIuaHRtbCcgKSB7XHJcbiAgICAgICQoICcubWVudV9fbGlua1tocmVmID0gXCJwb3J0Zm9saW8uaHRtbFwiXScgKS5hZGRDbGFzcyggJ21lbnVfX2xpbmtfY3VycmVudCcgKTtcclxuICAgIH0gZWxzZSBpZiggY3VycmVudFdpbmRvdyA9PSAnd2FuZGVybHVzdF9fbW91bnRhaW4uaHRtbCcgKSB7XHJcbiAgICAgICQoICcubWVudV9fbGlua1tocmVmID0gXCJ3YW5kZXJsdXN0Lmh0bWxcIl0nICkuYWRkQ2xhc3MoICdtZW51X19saW5rX2N1cnJlbnQnICk7XHJcbiAgICB9XHJcbiAgfSk7XHJcblxyXG59KTsgXHJcblxuLyohXHJcbiogIC0gdjEuNC4wXHJcbiogSG9tZXBhZ2U6IGh0dHA6Ly9icXdvcmtzLmNvbS9zbGlkZXItcHJvL1xyXG4qIEF1dGhvcjogYnF3b3Jrc1xyXG4qIEF1dGhvciBVUkw6IGh0dHA6Ly9icXdvcmtzLmNvbS9cclxuKi9cclxuOyhmdW5jdGlvbiggd2luZG93LCAkICkge1xyXG5cclxuICBcInVzZSBzdHJpY3RcIjtcclxuXHJcbiAgLy8gU3RhdGljIG1ldGhvZHMgZm9yIFNsaWRlciBQcm9cclxuICAkLlNsaWRlclBybyA9IHtcclxuXHJcbiAgICAvLyBMaXN0IG9mIGFkZGVkIG1vZHVsZXNcclxuICAgIG1vZHVsZXM6IFtdLFxyXG5cclxuICAgIC8vIEFkZCBhIG1vZHVsZSBieSBleHRlbmRpbmcgdGhlIGNvcmUgcHJvdG90eXBlXHJcbiAgICBhZGRNb2R1bGU6IGZ1bmN0aW9uKCBuYW1lLCBtb2R1bGUgKSB7XHJcbiAgICAgIHRoaXMubW9kdWxlcy5wdXNoKCBuYW1lICk7XHJcbiAgICAgICQuZXh0ZW5kKCBTbGlkZXJQcm8ucHJvdG90eXBlLCBtb2R1bGUgKTtcclxuICAgIH1cclxuICB9O1xyXG5cclxuICAvLyBuYW1lc3BhY2VcclxuICB2YXIgTlMgPSAkLlNsaWRlclByby5uYW1lc3BhY2UgPSAnU2xpZGVyUHJvJztcclxuXHJcbiAgdmFyIFNsaWRlclBybyA9IGZ1bmN0aW9uKCBpbnN0YW5jZSwgb3B0aW9ucyApIHtcclxuXHJcbiAgICAvLyBSZWZlcmVuY2UgdG8gdGhlIHNsaWRlciBpbnN0YW5jZVxyXG4gICAgdGhpcy5pbnN0YW5jZSA9IGluc3RhbmNlO1xyXG5cclxuICAgIC8vIFJlZmVyZW5jZSB0byB0aGUgc2xpZGVyIGpRdWVyeSBlbGVtZW50XHJcbiAgICB0aGlzLiRzbGlkZXIgPSAkKCB0aGlzLmluc3RhbmNlICk7XHJcblxyXG4gICAgLy8gUmVmZXJlbmNlIHRvIHRoZSBzbGlkZXMgKHNwLXNsaWRlcykgalF1ZXJ5IGVsZW1lbnRcclxuICAgIHRoaXMuJHNsaWRlcyA9IG51bGw7XHJcblxyXG4gICAgLy8gUmVmZXJlbmNlIHRvIHRoZSBtYXNrIChzcC1tYXNrKSBqUXVlcnkgZWxlbWVudFxyXG4gICAgdGhpcy4kc2xpZGVzTWFzayA9IG51bGw7XHJcblxyXG4gICAgLy8gUmVmZXJlbmNlIHRvIHRoZSBzbGlkZXMgKHNwLXNsaWRlcy1jb250YWluZXIpIGpRdWVyeSBlbGVtZW50XHJcbiAgICB0aGlzLiRzbGlkZXNDb250YWluZXIgPSBudWxsO1xyXG5cclxuICAgIC8vIEFycmF5IG9mIFNsaWRlclByb1NsaWRlIG9iamVjdHMsIG9yZGVyZWQgYnkgdGhlaXIgRE9NIGluZGV4XHJcbiAgICB0aGlzLnNsaWRlcyA9IFtdO1xyXG5cclxuICAgIC8vIEFycmF5IG9mIFNsaWRlclByb1NsaWRlIG9iamVjdHMsIG9yZGVyZWQgYnkgdGhlaXIgbGVmdC90b3AgcG9zaXRpb24gaW4gdGhlIHNsaWRlci5cclxuICAgIC8vIFRoaXMgd2lsbCBiZSB1cGRhdGVkIGNvbnRpbnVvdXNseSBpZiB0aGUgc2xpZGVyIGlzIGxvb3BhYmxlLlxyXG4gICAgdGhpcy5zbGlkZXNPcmRlciA9IFtdO1xyXG5cclxuICAgIC8vIEhvbGRzIHRoZSBvcHRpb25zIHBhc3NlZCB0byB0aGUgc2xpZGVyIHdoZW4gaXQgd2FzIGluc3RhbnRpYXRlZFxyXG4gICAgdGhpcy5vcHRpb25zID0gb3B0aW9ucztcclxuXHJcbiAgICAvLyBIb2xkcyB0aGUgZmluYWwgc2V0dGluZ3Mgb2YgdGhlIHNsaWRlciBhZnRlciBtZXJnaW5nIHRoZSBzcGVjaWZpZWRcclxuICAgIC8vIG9uZXMgd2l0aCB0aGUgZGVmYXVsdCBvbmVzLlxyXG4gICAgdGhpcy5zZXR0aW5ncyA9IHt9O1xyXG5cclxuICAgIC8vIEFub3RoZXIgcmVmZXJlbmNlIHRvIHRoZSBzZXR0aW5ncyB3aGljaCB3aWxsIG5vdCBiZSBhbHRlcmVkIGJ5IGJyZWFrcG9pbnRzIG9yIGJ5IG90aGVyIG1lYW5zXHJcbiAgICB0aGlzLm9yaWdpbmFsU2V0dGluZ3MgPSB7fTtcclxuXHJcbiAgICAvLyBSZWZlcmVuY2UgdG8gdGhlIG9yaWdpbmFsICdnb3RvU2xpZGUnIG1ldGhvZFxyXG4gICAgdGhpcy5vcmlnaW5hbEdvdG9TbGlkZSA9IG51bGw7XHJcblxyXG4gICAgLy8gVGhlIGluZGV4IG9mIHRoZSBjdXJyZW50bHkgc2VsZWN0ZWQgc2xpZGUgKHN0YXJ0cyB3aXRoIDApXHJcbiAgICB0aGlzLnNlbGVjdGVkU2xpZGVJbmRleCA9IDA7XHJcblxyXG4gICAgLy8gVGhlIGluZGV4IG9mIHRoZSBwcmV2aW91c2x5IHNlbGVjdGVkIHNsaWRlXHJcbiAgICB0aGlzLnByZXZpb3VzU2xpZGVJbmRleCA9IDA7XHJcblxyXG4gICAgLy8gSW5kaWNhdGVzIHRoZSBwb3NpdGlvbiBvZiB0aGUgc2xpZGUgY29uc2lkZXJlZCB0byBiZSBpbiB0aGUgbWlkZGxlLlxyXG4gICAgLy8gSWYgdGhlcmUgYXJlIDUgc2xpZGVzICgwLCAxLCAyLCAzLCA0KSB0aGUgbWlkZGxlIHBvc2l0aW9uIHdpbGwgYmUgMi5cclxuICAgIC8vIElmIHRoZXJlIGFyZSA2IHNsaWRlcyAoMCwgMSwgMiwgMywgNCwgNSkgdGhlIG1pZGRsZSBwb3NpdGlvbiB3aWxsIGJlIGFwcHJveGltYXRlZCB0byAyLlxyXG4gICAgdGhpcy5taWRkbGVTbGlkZVBvc2l0aW9uID0gMDtcclxuXHJcbiAgICAvLyBJbmRpY2F0ZXMgdGhlIHR5cGUgb2Ygc3VwcG9ydGVkIHRyYW5zaXRpb24gKENTUzMgMkQsIENTUzMgM0Qgb3IgSmF2YVNjcmlwdClcclxuICAgIHRoaXMuc3VwcG9ydGVkQW5pbWF0aW9uID0gbnVsbDtcclxuXHJcbiAgICAvLyBJbmRpY2F0ZXMgdGhlIHJlcXVpcmVkIHZlbmRvciBwcmVmaXggZm9yIENTUyAoaS5lLiwgLXdlYmtpdCwgLW1veiwgZXRjLilcclxuICAgIHRoaXMudmVuZG9yUHJlZml4ID0gbnVsbDtcclxuXHJcbiAgICAvLyBJbmRpY2F0ZXMgdGhlIG5hbWUgb2YgdGhlIENTUyB0cmFuc2l0aW9uJ3MgY29tcGxldGUgZXZlbnQgKGkuZS4sIHRyYW5zaXRpb25lbmQsIHdlYmtpdFRyYW5zaXRpb25FbmQsIGV0Yy4pXHJcbiAgICB0aGlzLnRyYW5zaXRpb25FdmVudCA9IG51bGw7XHJcblxyXG4gICAgLy8gSW5kaWNhdGVzIHRoZSAnbGVmdCcgb3IgJ3RvcCcgcG9zaXRpb24sIGRlcGVuZGluZyBvbiB0aGUgb3JpZW50YXRpb24gb2YgdGhlIHNsaWRlc1xyXG4gICAgdGhpcy5wb3NpdGlvblByb3BlcnR5ID0gbnVsbDtcclxuXHJcbiAgICAvLyBJbmRpY2F0ZXMgdGhlICd3aWR0aCcgb3IgJ2hlaWdodCcsIGRlcGVuZGluZyBvbiB0aGUgb3JpZW50YXRpb24gb2YgdGhlIHNsaWRlc1xyXG4gICAgdGhpcy5zaXplUHJvcGVydHkgPSBudWxsO1xyXG5cclxuICAgIC8vIEluZGljYXRlcyBpZiB0aGUgY3VycmVudCBicm93c2VyIGlzIElFXHJcbiAgICB0aGlzLmlzSUUgPSBudWxsO1xyXG5cclxuICAgIC8vIFRoZSBwb3NpdGlvbiBvZiB0aGUgc2xpZGVzIGNvbnRhaW5lclxyXG4gICAgdGhpcy5zbGlkZXNQb3NpdGlvbiA9IDA7XHJcblxyXG4gICAgLy8gVGhlIHRvdGFsIHdpZHRoL2hlaWdodCBvZiB0aGUgc2xpZGVzXHJcbiAgICB0aGlzLnNsaWRlc1NpemUgPSAwO1xyXG5cclxuICAgIC8vIFRoZSBhdmVyYWdlIHdpZHRoL2hlaWdodCBvZiBhIHNsaWRlXHJcbiAgICB0aGlzLmF2ZXJhZ2VTbGlkZVNpemUgPSAwO1xyXG5cclxuICAgIC8vIFRoZSB3aWR0aCBvZiB0aGUgaW5kaXZpZHVhbCBzbGlkZVxyXG4gICAgdGhpcy5zbGlkZVdpZHRoID0gMDtcclxuXHJcbiAgICAvLyBUaGUgaGVpZ2h0IG9mIHRoZSBpbmRpdmlkdWFsIHNsaWRlXHJcbiAgICB0aGlzLnNsaWRlSGVpZ2h0ID0gMDtcclxuXHJcbiAgICAvLyBSZWZlcmVuY2UgdG8gdGhlIG9sZCBzbGlkZSB3aWR0aCwgdXNlZCB0byBjaGVjayBpZiB0aGUgd2lkdGggaGFzIGNoYW5nZWRcclxuICAgIHRoaXMucHJldmlvdXNTbGlkZVdpZHRoID0gMDtcclxuXHJcbiAgICAvLyBSZWZlcmVuY2UgdG8gdGhlIG9sZCBzbGlkZSBoZWlnaHQsIHVzZWQgdG8gY2hlY2sgaWYgdGhlIGhlaWdodCBoYXMgY2hhbmdlZFxyXG4gICAgdGhpcy5wcmV2aW91c1NsaWRlSGVpZ2h0ID0gMDtcclxuICAgIFxyXG4gICAgLy8gUmVmZXJlbmNlIHRvIHRoZSBvbGQgd2luZG93IHdpZHRoLCB1c2VkIHRvIGNoZWNrIGlmIHRoZSB3aW5kb3cgd2lkdGggaGFzIGNoYW5nZWRcclxuICAgIHRoaXMucHJldmlvdXNXaW5kb3dXaWR0aCA9IDA7XHJcbiAgICBcclxuICAgIC8vIFJlZmVyZW5jZSB0byB0aGUgb2xkIHdpbmRvdyBoZWlnaHQsIHVzZWQgdG8gY2hlY2sgaWYgdGhlIHdpbmRvdyBoZWlnaHQgaGFzIGNoYW5nZWRcclxuICAgIHRoaXMucHJldmlvdXNXaW5kb3dIZWlnaHQgPSAwO1xyXG5cclxuICAgIC8vIFByb3BlcnR5IHVzZWQgZm9yIGRlZmVycmluZyB0aGUgcmVzaXppbmcgb2YgdGhlIHNsaWRlclxyXG4gICAgdGhpcy5hbGxvd1Jlc2l6ZSA9IHRydWU7XHJcblxyXG4gICAgLy8gVW5pcXVlIElEIHRvIGJlIHVzZWQgZm9yIGV2ZW50IGxpc3RlbmluZ1xyXG4gICAgdGhpcy51bmlxdWVJZCA9IG5ldyBEYXRlKCkudmFsdWVPZigpO1xyXG5cclxuICAgIC8vIFN0b3JlcyBzaXplIGJyZWFrcG9pbnRzXHJcbiAgICB0aGlzLmJyZWFrcG9pbnRzID0gW107XHJcblxyXG4gICAgLy8gSW5kaWNhdGVzIHRoZSBjdXJyZW50IHNpemUgYnJlYWtwb2ludFxyXG4gICAgdGhpcy5jdXJyZW50QnJlYWtwb2ludCA9IC0xO1xyXG5cclxuICAgIC8vIEFuIGFycmF5IG9mIHNodWZmbGVkIGluZGV4ZXMsIGJhc2VkIG9uIHdoaWNoIHRoZSBzbGlkZXMgd2lsbCBiZSBzaHVmZmxlZFxyXG4gICAgdGhpcy5zaHVmZmxlZEluZGV4ZXMgPSBbXTtcclxuXHJcbiAgICAvLyBJbml0aWFsaXplIHRoZSBzbGlkZXJcclxuICAgIHRoaXMuX2luaXQoKTtcclxuICB9O1xyXG5cclxuICBTbGlkZXJQcm8ucHJvdG90eXBlID0ge1xyXG5cclxuICAgIC8vIFRoZSBzdGFydGluZyBwbGFjZSBmb3IgdGhlIHNsaWRlclxyXG4gICAgX2luaXQ6IGZ1bmN0aW9uKCkge1xyXG4gICAgICB2YXIgdGhhdCA9IHRoaXM7XHJcblxyXG4gICAgICB0aGlzLnN1cHBvcnRlZEFuaW1hdGlvbiA9IFNsaWRlclByb1V0aWxzLmdldFN1cHBvcnRlZEFuaW1hdGlvbigpO1xyXG4gICAgICB0aGlzLnZlbmRvclByZWZpeCA9IFNsaWRlclByb1V0aWxzLmdldFZlbmRvclByZWZpeCgpO1xyXG4gICAgICB0aGlzLnRyYW5zaXRpb25FdmVudCA9IFNsaWRlclByb1V0aWxzLmdldFRyYW5zaXRpb25FdmVudCgpO1xyXG4gICAgICB0aGlzLmlzSUUgPSBTbGlkZXJQcm9VdGlscy5jaGVja0lFKCk7XHJcblxyXG4gICAgICAvLyBSZW1vdmUgdGhlICdzcC1uby1qcycgd2hlbiB0aGUgc2xpZGVyJ3MgSmF2YVNjcmlwdCBjb2RlIHN0YXJ0cyBydW5uaW5nXHJcbiAgICAgIHRoaXMuJHNsaWRlci5yZW1vdmVDbGFzcyggJ3NwLW5vLWpzJyApO1xyXG5cclxuICAgICAgLy8gQWRkIHRoZSAnaW9zJyBjbGFzcyBpZiBpdCdzIGFuIGlPUyBkZXZpY2VcclxuICAgICAgaWYgKCB3aW5kb3cubmF2aWdhdG9yLnVzZXJBZ2VudC5tYXRjaCggLyhpUGFkfGlQaG9uZXxpUG9kKS9nICkgKSB7XHJcbiAgICAgICAgdGhpcy4kc2xpZGVyLmFkZENsYXNzKCAnaW9zJyApO1xyXG4gICAgICB9XHJcblxyXG4gICAgICAvLyBDaGVjayBpZiBJRSAob2xkZXIgdGhhbiAxMSkgaXMgdXNlZCBhbmQgYWRkIHRoZSB2ZXJzaW9uIG51bWJlciBhcyBhIGNsYXNzIHRvIHRoZSBzbGlkZXIgc2luY2VcclxuICAgICAgLy8gb2xkZXIgSUUgdmVyc2lvbnMgbWlnaHQgbmVlZCBDU1MgdHdlYWtzLlxyXG4gICAgICB2YXIgcm1zaWUgPSAvKG1zaWUpIChbXFx3Ll0rKS8sXHJcbiAgICAgICAgaWVWZXJzaW9uID0gcm1zaWUuZXhlYyggd2luZG93Lm5hdmlnYXRvci51c2VyQWdlbnQudG9Mb3dlckNhc2UoKSApO1xyXG4gICAgICBcclxuICAgICAgaWYgKCB0aGlzLmlzSUUgKSB7XHJcbiAgICAgICAgdGhpcy4kc2xpZGVyLmFkZENsYXNzKCAnaWUnICk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGlmICggaWVWZXJzaW9uICE9PSBudWxsICkge1xyXG4gICAgICAgIHRoaXMuJHNsaWRlci5hZGRDbGFzcyggJ2llJyArIHBhcnNlSW50KCBpZVZlcnNpb25bMl0sIDEwICkgKTtcclxuICAgICAgfVxyXG5cclxuICAgICAgLy8gU2V0IHVwIHRoZSBzbGlkZXMgY29udGFpbmVyc1xyXG4gICAgICAvLyBzbGlkZXItcHJvID4gc3Atc2xpZGVzLWNvbnRhaW5lciA+IHNwLW1hc2sgPiBzcC1zbGlkZXMgPiBzcC1zbGlkZVxyXG4gICAgICB0aGlzLiRzbGlkZXNDb250YWluZXIgPSAkKCAnPGRpdiBjbGFzcz1cInNwLXNsaWRlcy1jb250YWluZXJcIj48L2Rpdj4nICkuYXBwZW5kVG8oIHRoaXMuJHNsaWRlciApO1xyXG4gICAgICB0aGlzLiRzbGlkZXNNYXNrID0gJCggJzxkaXYgY2xhc3M9XCJzcC1tYXNrXCI+PC9kaXY+JyApLmFwcGVuZFRvKCB0aGlzLiRzbGlkZXNDb250YWluZXIgKTtcclxuICAgICAgdGhpcy4kc2xpZGVzID0gdGhpcy4kc2xpZGVyLmZpbmQoICcuc3Atc2xpZGVzJyApLmFwcGVuZFRvKCB0aGlzLiRzbGlkZXNNYXNrICk7XHJcbiAgICAgIHRoaXMuJHNsaWRlci5maW5kKCAnLnNwLXNsaWRlJyApLmFwcGVuZFRvKCB0aGlzLiRzbGlkZXMgKTtcclxuICAgICAgXHJcbiAgICAgIHZhciBtb2R1bGVzID0gJC5TbGlkZXJQcm8ubW9kdWxlcztcclxuXHJcbiAgICAgIC8vIE1lcmdlIHRoZSBtb2R1bGVzJyBkZWZhdWx0IHNldHRpbmdzIHdpdGggdGhlIGNvcmUncyBkZWZhdWx0IHNldHRpbmdzXHJcbiAgICAgIGlmICggdHlwZW9mIG1vZHVsZXMgIT09ICd1bmRlZmluZWQnICkge1xyXG4gICAgICAgIGZvciAoIHZhciBpID0gMDsgaSA8IG1vZHVsZXMubGVuZ3RoOyBpKysgKSB7XHJcbiAgICAgICAgICB2YXIgZGVmYXVsdHMgPSBtb2R1bGVzWyBpIF0uc3Vic3RyaW5nKCAwLCAxICkudG9Mb3dlckNhc2UoKSArIG1vZHVsZXNbIGkgXS5zdWJzdHJpbmcoIDEgKSArICdEZWZhdWx0cyc7XHJcblxyXG4gICAgICAgICAgaWYgKCB0eXBlb2YgdGhpc1sgZGVmYXVsdHMgXSAhPT0gJ3VuZGVmaW5lZCcgKSB7XHJcbiAgICAgICAgICAgICQuZXh0ZW5kKCB0aGlzLmRlZmF1bHRzLCB0aGlzWyBkZWZhdWx0cyBdICk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcblxyXG4gICAgICAvLyBNZXJnZSB0aGUgc3BlY2lmaWVkIHNldHRpbmcgd2l0aCB0aGUgZGVmYXVsdCBvbmVzXHJcbiAgICAgIHRoaXMuc2V0dGluZ3MgPSAkLmV4dGVuZCgge30sIHRoaXMuZGVmYXVsdHMsIHRoaXMub3B0aW9ucyApO1xyXG5cclxuICAgICAgLy8gSW5pdGlhbGl6ZSB0aGUgbW9kdWxlc1xyXG4gICAgICBpZiAoIHR5cGVvZiBtb2R1bGVzICE9PSAndW5kZWZpbmVkJyApIHtcclxuICAgICAgICBmb3IgKCB2YXIgaiA9IDA7IGogPCBtb2R1bGVzLmxlbmd0aDsgaisrICkge1xyXG4gICAgICAgICAgaWYgKCB0eXBlb2YgdGhpc1sgJ2luaXQnICsgbW9kdWxlc1sgaiBdIF0gIT09ICd1bmRlZmluZWQnICkge1xyXG4gICAgICAgICAgICB0aGlzWyAnaW5pdCcgKyBtb2R1bGVzWyBqIF0gXSgpO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG5cclxuICAgICAgLy8gS2VlcCBhIHJlZmVyZW5jZSBvZiB0aGUgb3JpZ2luYWwgc2V0dGluZ3MgYW5kIHVzZSBpdFxyXG4gICAgICAvLyB0byByZXN0b3JlIHRoZSBzZXR0aW5ncyB3aGVuIHRoZSBicmVha3BvaW50cyBhcmUgdXNlZC5cclxuICAgICAgdGhpcy5vcmlnaW5hbFNldHRpbmdzID0gJC5leHRlbmQoIHt9LCB0aGlzLnNldHRpbmdzICk7XHJcblxyXG4gICAgICAvLyBHZXQgdGhlIHJlZmVyZW5jZSB0byB0aGUgJ2dvdG9TbGlkZScgbWV0aG9kXHJcbiAgICAgIHRoaXMub3JpZ2luYWxHb3RvU2xpZGUgPSB0aGlzLmdvdG9TbGlkZTtcclxuXHJcbiAgICAgIC8vIFBhcnNlIHRoZSBicmVha3BvaW50cyBvYmplY3QgYW5kIHN0b3JlIHRoZSB2YWx1ZXMgaW50byBhbiBhcnJheSxcclxuICAgICAgLy8gc29ydGluZyB0aGVtIGluIGFzY2VuZGluZyBvcmRlciBiYXNlZCBvbiB0aGUgc3BlY2lmaWVkIHNpemUuXHJcbiAgICAgIGlmICggdGhpcy5zZXR0aW5ncy5icmVha3BvaW50cyAhPT0gbnVsbCApIHtcclxuICAgICAgICBmb3IgKCB2YXIgc2l6ZXMgaW4gdGhpcy5zZXR0aW5ncy5icmVha3BvaW50cyApIHtcclxuICAgICAgICAgIHRoaXMuYnJlYWtwb2ludHMucHVzaCh7IHNpemU6IHBhcnNlSW50KCBzaXplcywgMTAgKSwgcHJvcGVydGllczp0aGlzLnNldHRpbmdzLmJyZWFrcG9pbnRzWyBzaXplcyBdIH0pO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5icmVha3BvaW50cyA9IHRoaXMuYnJlYWtwb2ludHMuc29ydChmdW5jdGlvbiggYSwgYiApIHtcclxuICAgICAgICAgIHJldHVybiBhLnNpemUgPj0gYi5zaXplID8gMTogLTE7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC8vIFNldCB3aGljaCBzbGlkZSBzaG91bGQgYmUgc2VsZWN0ZWQgaW5pdGlhbGx5XHJcbiAgICAgIHRoaXMuc2VsZWN0ZWRTbGlkZUluZGV4ID0gdGhpcy5zZXR0aW5ncy5zdGFydFNsaWRlO1xyXG5cclxuICAgICAgLy8gU2h1ZmZsZS9yYW5kb21pemUgdGhlIHNsaWRlc1xyXG4gICAgICBpZiAoIHRoaXMuc2V0dGluZ3Muc2h1ZmZsZSA9PT0gdHJ1ZSApIHtcclxuICAgICAgICB2YXIgc2xpZGVzID0gdGhpcy4kc2xpZGVzLmZpbmQoICcuc3Atc2xpZGUnICksXHJcbiAgICAgICAgICBzaHVmZmxlZFNsaWRlcyA9IFtdO1xyXG5cclxuICAgICAgICAvLyBQb3B1bGF0ZSB0aGUgJ3NodWZmbGVkSW5kZXhlcycgd2l0aCBpbmRleCBudW1iZXJzXHJcbiAgICAgICAgc2xpZGVzLmVhY2goZnVuY3Rpb24oIGluZGV4ICkge1xyXG4gICAgICAgICAgdGhhdC5zaHVmZmxlZEluZGV4ZXMucHVzaCggaW5kZXggKTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgZm9yICggdmFyIGsgPSB0aGlzLnNodWZmbGVkSW5kZXhlcy5sZW5ndGggLSAxOyBrID4gMDsgay0tICkge1xyXG4gICAgICAgICAgdmFyIGwgPSBNYXRoLmZsb29yKCBNYXRoLnJhbmRvbSgpICogKCBrICsgMSApICksXHJcbiAgICAgICAgICAgIHRlbXAgPSB0aGlzLnNodWZmbGVkSW5kZXhlc1sgayBdO1xyXG5cclxuICAgICAgICAgIHRoaXMuc2h1ZmZsZWRJbmRleGVzWyBrIF0gPSB0aGlzLnNodWZmbGVkSW5kZXhlc1sgbCBdO1xyXG4gICAgICAgICAgdGhpcy5zaHVmZmxlZEluZGV4ZXNbIGwgXSA9IHRlbXA7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBSZXBvc2l0aW9uIHRoZSBzbGlkZXMgYmFzZWQgb24gdGhlIG9yZGVyIG9mIHRoZSBpbmRleGVzIGluIHRoZVxyXG4gICAgICAgIC8vICdzaHVmZmxlZEluZGV4ZXMnIGFycmF5XHJcbiAgICAgICAgJC5lYWNoKCB0aGlzLnNodWZmbGVkSW5kZXhlcywgZnVuY3Rpb24oIGluZGV4LCBlbGVtZW50ICkge1xyXG4gICAgICAgICAgc2h1ZmZsZWRTbGlkZXMucHVzaCggc2xpZGVzWyBlbGVtZW50IF0gKTtcclxuICAgICAgICB9KTtcclxuICAgICAgICBcclxuICAgICAgICAvLyBBcHBlbmQgdGhlIHNvcnRlZCBzbGlkZXMgdG8gdGhlIHNsaWRlclxyXG4gICAgICAgIHRoaXMuJHNsaWRlcy5lbXB0eSgpLmFwcGVuZCggc2h1ZmZsZWRTbGlkZXMgKSA7XHJcbiAgICAgIH1cclxuICAgICAgXHJcbiAgICAgIC8vIFJlc2l6ZSB0aGUgc2xpZGVyIHdoZW4gdGhlIGJyb3dzZXIgd2luZG93IHJlc2l6ZXMuXHJcbiAgICAgIC8vIEFsc28sIGRlZmZlciB0aGUgcmVzaXppbmcgaW4gb3JkZXIgdG8gbm90IGFsbG93IG11bHRpcGxlXHJcbiAgICAgIC8vIHJlc2l6ZXMgaW4gYSAyMDAgbWlsbGlzZWNvbmRzIGludGVydmFsLlxyXG4gICAgICAkKCB3aW5kb3cgKS5vbiggJ3Jlc2l6ZS4nICsgdGhpcy51bmlxdWVJZCArICcuJyArIE5TLCBmdW5jdGlvbigpIHtcclxuICAgICAgXHJcbiAgICAgICAgLy8gR2V0IHRoZSBjdXJyZW50IHdpZHRoIGFuZCBoZWlnaHQgb2YgdGhlIHdpbmRvd1xyXG4gICAgICAgIHZhciBuZXdXaW5kb3dXaWR0aCA9ICQoIHdpbmRvdyApLndpZHRoKCksXHJcbiAgICAgICAgICBuZXdXaW5kb3dIZWlnaHQgPSAkKCB3aW5kb3cgKS5oZWlnaHQoKTtcclxuICAgICAgICBcclxuICAgICAgICAvLyBJZiB0aGUgcmVzaXplIGlzIG5vdCBhbGxvd2VkIHlldCBvciBpZiB0aGUgd2luZG93IHNpemUgaGFzbid0IGNoYW5nZWQgKHRoaXMgbmVlZHMgdG8gYmUgdmVyaWZpZWRcclxuICAgICAgICAvLyBiZWNhdXNlIGluIElFOCBhbmQgbG93ZXIgdGhlIHJlc2l6ZSBldmVudCBpcyB0cmlnZ2VyZWQgd2hlbmV2ZXIgYW4gZWxlbWVudCBmcm9tIHRoZSBwYWdlIGNoYW5nZXNcclxuICAgICAgICAvLyBpdHMgc2l6ZSkgcmV0dXJuIGVhcmx5LlxyXG4gICAgICAgIGlmICggdGhhdC5hbGxvd1Jlc2l6ZSA9PT0gZmFsc2UgfHxcclxuICAgICAgICAgICggdGhhdC5wcmV2aW91c1dpbmRvd1dpZHRoID09PSBuZXdXaW5kb3dXaWR0aCAmJiB0aGF0LnByZXZpb3VzV2luZG93SGVpZ2h0ID09PSBuZXdXaW5kb3dIZWlnaHQgKSApIHtcclxuICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgXHJcbiAgICAgICAgLy8gQXNzaWduIHRoZSBuZXcgdmFsdWVzIGZvciB0aGUgd2luZG93IHdpZHRoIGFuZCBoZWlnaHRcclxuICAgICAgICB0aGF0LnByZXZpb3VzV2luZG93V2lkdGggPSBuZXdXaW5kb3dXaWR0aDtcclxuICAgICAgICB0aGF0LnByZXZpb3VzV2luZG93SGVpZ2h0ID0gbmV3V2luZG93SGVpZ2h0O1xyXG4gICAgICBcclxuICAgICAgICB0aGF0LmFsbG93UmVzaXplID0gZmFsc2U7XHJcblxyXG4gICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICB0aGF0LnJlc2l6ZSgpO1xyXG4gICAgICAgICAgdGhhdC5hbGxvd1Jlc2l6ZSA9IHRydWU7XHJcbiAgICAgICAgfSwgMjAwICk7XHJcbiAgICAgIH0pO1xyXG5cclxuICAgICAgLy8gUmVzaXplIHRoZSBzbGlkZXIgd2hlbiB0aGUgJ3VwZGF0ZScgbWV0aG9kIGlzIGNhbGxlZC5cclxuICAgICAgdGhpcy5vbiggJ3VwZGF0ZS4nICsgTlMsIGZ1bmN0aW9uKCkge1xyXG5cclxuICAgICAgICAvLyBSZXNldCB0aGUgcHJldmlvdXMgc2xpZGUgd2lkdGhcclxuICAgICAgICB0aGF0LnByZXZpb3VzU2xpZGVXaWR0aCA9IDA7XHJcblxyXG4gICAgICAgIC8vIFNvbWUgdXBkYXRlcyBtaWdodCByZXF1aXJlIGEgcmVzaXplXHJcbiAgICAgICAgdGhhdC5yZXNpemUoKTtcclxuICAgICAgfSk7XHJcblxyXG4gICAgICB0aGlzLnVwZGF0ZSgpO1xyXG5cclxuICAgICAgLy8gYWRkIHRoZSAnc3Atc2VsZWN0ZWQnIGNsYXNzIHRvIHRoZSBpbml0aWFsbHkgc2VsZWN0ZWQgc2xpZGVcclxuICAgICAgdGhpcy4kc2xpZGVzLmZpbmQoICcuc3Atc2xpZGUnICkuZXEoIHRoaXMuc2VsZWN0ZWRTbGlkZUluZGV4ICkuYWRkQ2xhc3MoICdzcC1zZWxlY3RlZCcgKTtcclxuXHJcbiAgICAgIC8vIEZpcmUgdGhlICdpbml0JyBldmVudFxyXG4gICAgICB0aGlzLnRyaWdnZXIoeyB0eXBlOiAnaW5pdCcgfSk7XHJcbiAgICAgIGlmICggJC5pc0Z1bmN0aW9uKCB0aGlzLnNldHRpbmdzLmluaXQgKSApIHtcclxuICAgICAgICB0aGlzLnNldHRpbmdzLmluaXQuY2FsbCggdGhpcywgeyB0eXBlOiAnaW5pdCcgfSk7XHJcbiAgICAgIH1cclxuICAgIH0sXHJcblxyXG4gICAgLy8gVXBkYXRlIHRoZSBzbGlkZXIgYnkgY2hlY2tpbmcgZm9yIHNldHRpbmcgY2hhbmdlcyBhbmQgZm9yIHNsaWRlc1xyXG4gICAgLy8gdGhhdCB3ZXJlbid0IGluaXRpYWxpemVkIHlldC5cclxuICAgIHVwZGF0ZTogZnVuY3Rpb24oKSB7XHJcbiAgICAgIHZhciB0aGF0ID0gdGhpcztcclxuXHJcbiAgICAgIC8vIENoZWNrIHRoZSBjdXJyZW50IHNsaWRlciBvcmllbnRhdGlvbiBhbmQgcmVzZXQgQ1NTIHRoYXQgbWlnaHQgaGF2ZSBiZWVuXHJcbiAgICAgIC8vIGFkZGVkIGZvciBhIGRpZmZlcmVudCBvcmllbnRhdGlvbiwgc2luY2UgdGhlIG9yaWVudGF0aW9uIGNhbiBiZSBjaGFuZ2VkXHJcbiAgICAgIC8vIGF0IHJ1bnRpbWUuXHJcbiAgICAgIGlmICggdGhpcy5zZXR0aW5ncy5vcmllbnRhdGlvbiA9PT0gJ2hvcml6b250YWwnICkge1xyXG4gICAgICAgIHRoaXMuJHNsaWRlci5yZW1vdmVDbGFzcyggJ3NwLXZlcnRpY2FsJyApLmFkZENsYXNzKCAnc3AtaG9yaXpvbnRhbCcgKTtcclxuICAgICAgICB0aGlzLiRzbGlkZXIuY3NzKHsgJ2hlaWdodCc6ICcnLCAnbWF4LWhlaWdodCc6ICcnIH0pO1xyXG4gICAgICAgIHRoaXMuJHNsaWRlcy5maW5kKCAnLnNwLXNsaWRlJyApLmNzcyggJ3RvcCcsICcnICk7XHJcbiAgICAgIH0gZWxzZSBpZiAoIHRoaXMuc2V0dGluZ3Mub3JpZW50YXRpb24gPT09ICd2ZXJ0aWNhbCcgKSB7XHJcbiAgICAgICAgdGhpcy4kc2xpZGVyLnJlbW92ZUNsYXNzKCAnc3AtaG9yaXpvbnRhbCcgKS5hZGRDbGFzcyggJ3NwLXZlcnRpY2FsJyApO1xyXG4gICAgICAgIHRoaXMuJHNsaWRlcy5maW5kKCAnLnNwLXNsaWRlJyApLmNzcyggJ2xlZnQnLCAnJyApO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBpZiAoIHRoaXMuc2V0dGluZ3MucmlnaHRUb0xlZnQgPT09IHRydWUgKSB7XHJcbiAgICAgICAgdGhpcy4kc2xpZGVyLmFkZENsYXNzKCAnc3AtcnRsJyApO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIHRoaXMuJHNsaWRlci5yZW1vdmVDbGFzcyggJ3NwLXJ0bCcgKTtcclxuICAgICAgfVxyXG5cclxuICAgICAgdGhpcy5wb3NpdGlvblByb3BlcnR5ID0gdGhpcy5zZXR0aW5ncy5vcmllbnRhdGlvbiA9PT0gJ2hvcml6b250YWwnID8gJ2xlZnQnIDogJ3RvcCc7XHJcbiAgICAgIHRoaXMuc2l6ZVByb3BlcnR5ID0gdGhpcy5zZXR0aW5ncy5vcmllbnRhdGlvbiA9PT0gJ2hvcml6b250YWwnID8gJ3dpZHRoJyA6ICdoZWlnaHQnO1xyXG5cclxuICAgICAgLy8gUmVzZXQgdGhlICdnb3RvU2xpZGUnIG1ldGhvZFxyXG4gICAgICB0aGlzLmdvdG9TbGlkZSA9IHRoaXMub3JpZ2luYWxHb3RvU2xpZGU7XHJcblxyXG4gICAgICAvLyBMb29wIHRocm91Z2ggdGhlIGFycmF5IG9mIFNsaWRlclByb1NsaWRlIG9iamVjdHMgYW5kIGlmIGEgc3RvcmVkIHNsaWRlIGlzIGZvdW5kXHJcbiAgICAgIC8vIHdoaWNoIGlzIG5vdCBpbiB0aGUgRE9NIGFueW1vcmUsIGRlc3Ryb3kgdGhhdCBzbGlkZS5cclxuICAgICAgZm9yICggdmFyIGkgPSB0aGlzLnNsaWRlcy5sZW5ndGggLSAxOyBpID49IDA7IGktLSApIHtcclxuICAgICAgICBpZiAoIHRoaXMuJHNsaWRlci5maW5kKCAnLnNwLXNsaWRlW2RhdGEtaW5kZXg9XCInICsgaSArICdcIl0nICkubGVuZ3RoID09PSAwICkge1xyXG4gICAgICAgICAgdmFyIHNsaWRlID0gdGhpcy5zbGlkZXNbIGkgXTtcclxuXHJcbiAgICAgICAgICBzbGlkZS5vZmYoICdpbWFnZXNMb2FkZWQuJyArIE5TICk7XHJcbiAgICAgICAgICBzbGlkZS5kZXN0cm95KCk7XHJcbiAgICAgICAgICB0aGlzLnNsaWRlcy5zcGxpY2UoIGksIDEgKTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHRoaXMuc2xpZGVzT3JkZXIubGVuZ3RoID0gMDtcclxuXHJcbiAgICAgIC8vIExvb3AgdGhyb3VnaCB0aGUgbGlzdCBvZiBzbGlkZXMgYW5kIGluaXRpYWxpemUgbmV3bHkgYWRkZWQgc2xpZGVzIGlmIGFueSxcclxuICAgICAgLy8gYW5kIHJlc2V0IHRoZSBpbmRleCBvZiBlYWNoIHNsaWRlLlxyXG4gICAgICB0aGlzLiRzbGlkZXIuZmluZCggJy5zcC1zbGlkZScgKS5lYWNoKGZ1bmN0aW9uKCBpbmRleCApIHtcclxuICAgICAgICB2YXIgJHNsaWRlID0gJCggdGhpcyApO1xyXG5cclxuICAgICAgICBpZiAoIHR5cGVvZiAkc2xpZGUuYXR0ciggJ2RhdGEtaW5pdCcgKSA9PT0gJ3VuZGVmaW5lZCcgKSB7XHJcbiAgICAgICAgICB0aGF0Ll9jcmVhdGVTbGlkZSggaW5kZXgsICRzbGlkZSApO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICB0aGF0LnNsaWRlc1sgaW5kZXggXS5zZXRJbmRleCggaW5kZXggKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoYXQuc2xpZGVzT3JkZXIucHVzaCggaW5kZXggKTtcclxuICAgICAgfSk7XHJcblxyXG4gICAgICAvLyBDYWxjdWxhdGUgdGhlIHBvc2l0aW9uL2luZGV4IG9mIHRoZSBtaWRkbGUgc2xpZGVcclxuICAgICAgdGhpcy5taWRkbGVTbGlkZVBvc2l0aW9uID0gcGFyc2VJbnQoICggdGhhdC5zbGlkZXNPcmRlci5sZW5ndGggLSAxICkgLyAyLCAxMCApO1xyXG5cclxuICAgICAgLy8gQXJyYW5nZSB0aGUgc2xpZGVzIGluIGEgbG9vcFxyXG4gICAgICBpZiAoIHRoaXMuc2V0dGluZ3MubG9vcCA9PT0gdHJ1ZSApIHtcclxuICAgICAgICB0aGlzLl91cGRhdGVTbGlkZXNPcmRlcigpO1xyXG4gICAgICB9XHJcblxyXG4gICAgICAvLyBGaXJlIHRoZSAndXBkYXRlJyBldmVudFxyXG4gICAgICB0aGlzLnRyaWdnZXIoeyB0eXBlOiAndXBkYXRlJyB9KTtcclxuICAgICAgaWYgKCAkLmlzRnVuY3Rpb24oIHRoaXMuc2V0dGluZ3MudXBkYXRlICkgKSB7XHJcbiAgICAgICAgdGhpcy5zZXR0aW5ncy51cGRhdGUuY2FsbCggdGhpcywgeyB0eXBlOiAndXBkYXRlJyB9ICk7XHJcbiAgICAgIH1cclxuICAgIH0sXHJcblxyXG4gICAgLy8gQ3JlYXRlIGEgU2xpZGVyUHJvU2xpZGUgaW5zdGFuY2UgZm9yIHRoZSBzbGlkZSBwYXNzZWQgYXMgYSBqUXVlcnkgZWxlbWVudFxyXG4gICAgX2NyZWF0ZVNsaWRlOiBmdW5jdGlvbiggaW5kZXgsIGVsZW1lbnQgKSB7XHJcbiAgICAgIHZhciB0aGF0ID0gdGhpcyxcclxuICAgICAgICBzbGlkZSA9IG5ldyBTbGlkZXJQcm9TbGlkZSggJCggZWxlbWVudCApLCBpbmRleCwgdGhpcy5zZXR0aW5ncyApO1xyXG5cclxuICAgICAgdGhpcy5zbGlkZXMuc3BsaWNlKCBpbmRleCwgMCwgc2xpZGUgKTtcclxuXHJcbiAgICAgIHNsaWRlLm9uKCAnaW1hZ2VzTG9hZGVkLicgKyBOUywgZnVuY3Rpb24oIGV2ZW50ICkge1xyXG4gICAgICAgIGlmICggdGhhdC5zZXR0aW5ncy5hdXRvU2xpZGVTaXplID09PSB0cnVlICkge1xyXG4gICAgICAgICAgaWYgKCB0aGF0LiRzbGlkZXMuaGFzQ2xhc3MoICdzcC1hbmltYXRlZCcgKSA9PT0gZmFsc2UgKSB7XHJcbiAgICAgICAgICAgIHRoYXQuX3Jlc2V0U2xpZGVzUG9zaXRpb24oKTtcclxuICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICB0aGF0Ll9jYWxjdWxhdGVTbGlkZXNTaXplKCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAoIHRoYXQuc2V0dGluZ3MuYXV0b0hlaWdodCA9PT0gdHJ1ZSAmJiBldmVudC5pbmRleCA9PT0gdGhhdC5zZWxlY3RlZFNsaWRlSW5kZXggKSB7XHJcbiAgICAgICAgICB0aGF0Ll9yZXNpemVIZWlnaHRUbyggc2xpZGUuZ2V0U2l6ZSgpLmhlaWdodCk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9KTtcclxuICAgIH0sXHJcblxyXG4gICAgLy8gQXJyYW5nZSB0aGUgc2xpZGUgZWxlbWVudHMgaW4gYSBsb29wIGluc2lkZSB0aGUgJ3NsaWRlc09yZGVyJyBhcnJheVxyXG4gICAgX3VwZGF0ZVNsaWRlc09yZGVyOiBmdW5jdGlvbigpIHtcclxuICAgICAgdmFyIHNsaWNlZEl0ZW1zLFxyXG4gICAgICAgIGksXHJcblxyXG4gICAgICAgIC8vIENhbGN1bGF0ZSB0aGUgZGlzdGFuY2UgYmV0d2VlbiB0aGUgc2VsZWN0ZWQgZWxlbWVudCBhbmQgdGhlIG1pZGRsZSBwb3NpdGlvblxyXG4gICAgICAgIGRpc3RhbmNlID0gJC5pbkFycmF5KCB0aGlzLnNlbGVjdGVkU2xpZGVJbmRleCwgdGhpcy5zbGlkZXNPcmRlciApIC0gdGhpcy5taWRkbGVTbGlkZVBvc2l0aW9uO1xyXG5cclxuICAgICAgLy8gSWYgdGhlIGRpc3RhbmNlIGlzIG5lZ2F0aXZlIGl0IG1lYW5zIHRoYXQgdGhlIHNlbGVjdGVkIHNsaWRlciBpcyBiZWZvcmUgdGhlIG1pZGRsZSBwb3NpdGlvbiwgc29cclxuICAgICAgLy8gc2xpZGVzIGZyb20gdGhlIGVuZCBvZiB0aGUgYXJyYXkgd2lsbCBiZSBhZGRlZCBhdCB0aGUgYmVnaW5uaW5nLCBpbiBvcmRlciB0byBzaGlmdCB0aGUgc2VsZWN0ZWQgc2xpZGVcclxuICAgICAgLy8gZm9yd2FyZC5cclxuICAgICAgLy8gXHJcbiAgICAgIC8vIElmIHRoZSBkaXN0YW5jZSBpcyBwb3NpdGl2ZSwgc2xpZGVzIGZyb20gdGhlIGJlZ2lubmluZyBvZiB0aGUgYXJyYXkgd2lsbCBiZSBhZGRlZCBhdCB0aGUgZW5kLlxyXG4gICAgICBpZiAoIGRpc3RhbmNlIDwgMCApIHtcclxuICAgICAgICBzbGljZWRJdGVtcyA9IHRoaXMuc2xpZGVzT3JkZXIuc3BsaWNlKCBkaXN0YW5jZSwgTWF0aC5hYnMoIGRpc3RhbmNlICkgKTtcclxuXHJcbiAgICAgICAgZm9yICggaSA9IHNsaWNlZEl0ZW1zLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tICkge1xyXG4gICAgICAgICAgdGhpcy5zbGlkZXNPcmRlci51bnNoaWZ0KCBzbGljZWRJdGVtc1sgaSBdICk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9IGVsc2UgaWYgKCBkaXN0YW5jZSA+IDAgKSB7XHJcbiAgICAgICAgc2xpY2VkSXRlbXMgPSB0aGlzLnNsaWRlc09yZGVyLnNwbGljZSggMCwgZGlzdGFuY2UgKTtcclxuXHJcbiAgICAgICAgZm9yICggaSA9IDA7IGkgPD0gc2xpY2VkSXRlbXMubGVuZ3RoIC0gMTsgaSsrICkge1xyXG4gICAgICAgICAgdGhpcy5zbGlkZXNPcmRlci5wdXNoKCBzbGljZWRJdGVtc1sgaSBdICk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9LFxyXG5cclxuICAgIC8vIFNldCB0aGUgbGVmdC90b3AgcG9zaXRpb24gb2YgdGhlIHNsaWRlcyBiYXNlZCBvbiB0aGVpciBwb3NpdGlvbiBpbiB0aGUgJ3NsaWRlc09yZGVyJyBhcnJheVxyXG4gICAgX3VwZGF0ZVNsaWRlc1Bvc2l0aW9uOiBmdW5jdGlvbigpIHtcclxuICAgICAgdmFyIHNlbGVjdGVkU2xpZGVQaXhlbFBvc2l0aW9uID0gcGFyc2VJbnQoIHRoaXMuJHNsaWRlcy5maW5kKCAnLnNwLXNsaWRlJyApLmVxKCB0aGlzLnNlbGVjdGVkU2xpZGVJbmRleCApLmNzcyggdGhpcy5wb3NpdGlvblByb3BlcnR5ICksIDEwICksXHJcbiAgICAgICAgc2xpZGUsXHJcbiAgICAgICAgJHNsaWRlRWxlbWVudCxcclxuICAgICAgICBzbGlkZUluZGV4LFxyXG4gICAgICAgIHByZXZpb3VzUG9zaXRpb24gPSBzZWxlY3RlZFNsaWRlUGl4ZWxQb3NpdGlvbixcclxuICAgICAgICBkaXJlY3Rpb25NdWx0aXBsaWVyLFxyXG4gICAgICAgIHNsaWRlU2l6ZTtcclxuICAgICAgXHJcbiAgICAgIGlmICggdGhpcy5zZXR0aW5ncy5hdXRvU2xpZGVTaXplID09PSB0cnVlICkge1xyXG4gICAgICAgIGlmICggdGhpcy5zZXR0aW5ncy5yaWdodFRvTGVmdCA9PT0gdHJ1ZSAmJiB0aGlzLnNldHRpbmdzLm9yaWVudGF0aW9uID09PSAnaG9yaXpvbnRhbCcgKSB7XHJcbiAgICAgICAgICBmb3IgKCBzbGlkZUluZGV4ID0gdGhpcy5taWRkbGVTbGlkZVBvc2l0aW9uOyBzbGlkZUluZGV4ID49IDA7IHNsaWRlSW5kZXgtLSApIHtcclxuICAgICAgICAgICAgc2xpZGUgPSB0aGlzLmdldFNsaWRlQXQoIHRoaXMuc2xpZGVzT3JkZXJbIHNsaWRlSW5kZXggXSApO1xyXG4gICAgICAgICAgICAkc2xpZGVFbGVtZW50ID0gc2xpZGUuJHNsaWRlO1xyXG4gICAgICAgICAgICAkc2xpZGVFbGVtZW50LmNzcyggdGhpcy5wb3NpdGlvblByb3BlcnR5LCBwcmV2aW91c1Bvc2l0aW9uICk7XHJcbiAgICAgICAgICAgIHByZXZpb3VzUG9zaXRpb24gPSBwYXJzZUludCggJHNsaWRlRWxlbWVudC5jc3MoIHRoaXMucG9zaXRpb25Qcm9wZXJ0eSApLCAxMCApICsgc2xpZGUuZ2V0U2l6ZSgpWyB0aGlzLnNpemVQcm9wZXJ0eSBdICsgdGhpcy5zZXR0aW5ncy5zbGlkZURpc3RhbmNlO1xyXG4gICAgICAgICAgfVxyXG5cclxuICAgICAgICAgIHByZXZpb3VzUG9zaXRpb24gPSBzZWxlY3RlZFNsaWRlUGl4ZWxQb3NpdGlvbjtcclxuXHJcbiAgICAgICAgICBmb3IgKCBzbGlkZUluZGV4ID0gdGhpcy5taWRkbGVTbGlkZVBvc2l0aW9uICsgMTsgc2xpZGVJbmRleCA8IHRoaXMuc2xpZGVzT3JkZXIubGVuZ3RoOyBzbGlkZUluZGV4KysgKSB7XHJcbiAgICAgICAgICAgIHNsaWRlID0gdGhpcy5nZXRTbGlkZUF0KCB0aGlzLnNsaWRlc09yZGVyWyBzbGlkZUluZGV4IF0gKTtcclxuICAgICAgICAgICAgJHNsaWRlRWxlbWVudCA9IHNsaWRlLiRzbGlkZTtcclxuICAgICAgICAgICAgJHNsaWRlRWxlbWVudC5jc3MoIHRoaXMucG9zaXRpb25Qcm9wZXJ0eSwgcHJldmlvdXNQb3NpdGlvbiAtICggc2xpZGUuZ2V0U2l6ZSgpWyB0aGlzLnNpemVQcm9wZXJ0eSBdICsgdGhpcy5zZXR0aW5ncy5zbGlkZURpc3RhbmNlICkgKTtcclxuICAgICAgICAgICAgcHJldmlvdXNQb3NpdGlvbiA9IHBhcnNlSW50KCAkc2xpZGVFbGVtZW50LmNzcyggdGhpcy5wb3NpdGlvblByb3BlcnR5ICksIDEwICk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIGZvciAoIHNsaWRlSW5kZXggPSB0aGlzLm1pZGRsZVNsaWRlUG9zaXRpb24gLSAxOyBzbGlkZUluZGV4ID49IDA7IHNsaWRlSW5kZXgtLSApIHtcclxuICAgICAgICAgICAgc2xpZGUgPSB0aGlzLmdldFNsaWRlQXQoIHRoaXMuc2xpZGVzT3JkZXJbIHNsaWRlSW5kZXggXSApO1xyXG4gICAgICAgICAgICAkc2xpZGVFbGVtZW50ID0gc2xpZGUuJHNsaWRlO1xyXG4gICAgICAgICAgICAkc2xpZGVFbGVtZW50LmNzcyggdGhpcy5wb3NpdGlvblByb3BlcnR5LCBwcmV2aW91c1Bvc2l0aW9uIC0gKCBzbGlkZS5nZXRTaXplKClbIHRoaXMuc2l6ZVByb3BlcnR5IF0gKyB0aGlzLnNldHRpbmdzLnNsaWRlRGlzdGFuY2UgKSApO1xyXG4gICAgICAgICAgICBwcmV2aW91c1Bvc2l0aW9uID0gcGFyc2VJbnQoICRzbGlkZUVsZW1lbnQuY3NzKCB0aGlzLnBvc2l0aW9uUHJvcGVydHkgKSwgMTAgKTtcclxuICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICBwcmV2aW91c1Bvc2l0aW9uID0gc2VsZWN0ZWRTbGlkZVBpeGVsUG9zaXRpb247XHJcblxyXG4gICAgICAgICAgZm9yICggc2xpZGVJbmRleCA9IHRoaXMubWlkZGxlU2xpZGVQb3NpdGlvbjsgc2xpZGVJbmRleCA8IHRoaXMuc2xpZGVzT3JkZXIubGVuZ3RoOyBzbGlkZUluZGV4KysgKSB7XHJcbiAgICAgICAgICAgIHNsaWRlID0gdGhpcy5nZXRTbGlkZUF0KCB0aGlzLnNsaWRlc09yZGVyWyBzbGlkZUluZGV4IF0gKTtcclxuICAgICAgICAgICAgJHNsaWRlRWxlbWVudCA9IHNsaWRlLiRzbGlkZTtcclxuICAgICAgICAgICAgJHNsaWRlRWxlbWVudC5jc3MoIHRoaXMucG9zaXRpb25Qcm9wZXJ0eSwgcHJldmlvdXNQb3NpdGlvbiApO1xyXG4gICAgICAgICAgICBwcmV2aW91c1Bvc2l0aW9uID0gcGFyc2VJbnQoICRzbGlkZUVsZW1lbnQuY3NzKCB0aGlzLnBvc2l0aW9uUHJvcGVydHkgKSwgMTAgKSArIHNsaWRlLmdldFNpemUoKVsgdGhpcy5zaXplUHJvcGVydHkgXSArIHRoaXMuc2V0dGluZ3Muc2xpZGVEaXN0YW5jZTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgZGlyZWN0aW9uTXVsdGlwbGllciA9ICggdGhpcy5zZXR0aW5ncy5yaWdodFRvTGVmdCA9PT0gdHJ1ZSAmJiB0aGlzLnNldHRpbmdzLm9yaWVudGF0aW9uID09PSAnaG9yaXpvbnRhbCcgKSA/IC0xIDogMTtcclxuICAgICAgICBzbGlkZVNpemUgPSAoIHRoaXMuc2V0dGluZ3Mub3JpZW50YXRpb24gPT09ICdob3Jpem9udGFsJyApID8gdGhpcy5zbGlkZVdpZHRoIDogdGhpcy5zbGlkZUhlaWdodDtcclxuXHJcbiAgICAgICAgZm9yICggc2xpZGVJbmRleCA9IDA7IHNsaWRlSW5kZXggPCB0aGlzLnNsaWRlc09yZGVyLmxlbmd0aDsgc2xpZGVJbmRleCsrICkge1xyXG4gICAgICAgICAgJHNsaWRlRWxlbWVudCA9IHRoaXMuJHNsaWRlcy5maW5kKCAnLnNwLXNsaWRlJyApLmVxKCB0aGlzLnNsaWRlc09yZGVyWyBzbGlkZUluZGV4IF0gKTtcclxuICAgICAgICAgICRzbGlkZUVsZW1lbnQuY3NzKCB0aGlzLnBvc2l0aW9uUHJvcGVydHksIHNlbGVjdGVkU2xpZGVQaXhlbFBvc2l0aW9uICsgZGlyZWN0aW9uTXVsdGlwbGllciAqICggc2xpZGVJbmRleCAtIHRoaXMubWlkZGxlU2xpZGVQb3NpdGlvbiAgKSAqICggc2xpZGVTaXplICsgdGhpcy5zZXR0aW5ncy5zbGlkZURpc3RhbmNlICkgKTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH0sXHJcblxyXG4gICAgLy8gU2V0IHRoZSBsZWZ0L3RvcCBwb3NpdGlvbiBvZiB0aGUgc2xpZGVzIGJhc2VkIG9uIHRoZWlyIHBvc2l0aW9uIGluIHRoZSAnc2xpZGVzT3JkZXInIGFycmF5LFxyXG4gICAgLy8gYW5kIGFsc28gc2V0IHRoZSBwb3NpdGlvbiBvZiB0aGUgc2xpZGVzIGNvbnRhaW5lci5cclxuICAgIF9yZXNldFNsaWRlc1Bvc2l0aW9uOiBmdW5jdGlvbigpIHtcclxuICAgICAgdmFyIHByZXZpb3VzUG9zaXRpb24gPSAwLFxyXG4gICAgICAgIHNsaWRlLFxyXG4gICAgICAgICRzbGlkZUVsZW1lbnQsXHJcbiAgICAgICAgc2xpZGVJbmRleCxcclxuICAgICAgICBzZWxlY3RlZFNsaWRlU2l6ZSxcclxuICAgICAgICBkaXJlY3Rpb25NdWx0aXBsaWVyLFxyXG4gICAgICAgIHNsaWRlU2l6ZTtcclxuXHJcbiAgICAgIGlmICggdGhpcy5zZXR0aW5ncy5hdXRvU2xpZGVTaXplID09PSB0cnVlICkge1xyXG4gICAgICAgIGlmICggdGhpcy5zZXR0aW5ncy5yaWdodFRvTGVmdCA9PT0gdHJ1ZSAmJiB0aGlzLnNldHRpbmdzLm9yaWVudGF0aW9uID09PSAnaG9yaXpvbnRhbCcgKSB7XHJcbiAgICAgICAgICBmb3IgKCBzbGlkZUluZGV4ID0gMDsgc2xpZGVJbmRleCA8IHRoaXMuc2xpZGVzT3JkZXIubGVuZ3RoOyBzbGlkZUluZGV4KysgKSB7XHJcbiAgICAgICAgICAgIHNsaWRlID0gdGhpcy5nZXRTbGlkZUF0KCB0aGlzLnNsaWRlc09yZGVyWyBzbGlkZUluZGV4IF0gKTtcclxuICAgICAgICAgICAgJHNsaWRlRWxlbWVudCA9IHNsaWRlLiRzbGlkZTtcclxuICAgICAgICAgICAgJHNsaWRlRWxlbWVudC5jc3MoIHRoaXMucG9zaXRpb25Qcm9wZXJ0eSwgcHJldmlvdXNQb3NpdGlvbiAtICggc2xpZGUuZ2V0U2l6ZSgpWyB0aGlzLnNpemVQcm9wZXJ0eSBdICsgdGhpcy5zZXR0aW5ncy5zbGlkZURpc3RhbmNlICkgKTtcclxuICAgICAgICAgICAgcHJldmlvdXNQb3NpdGlvbiA9IHBhcnNlSW50KCAkc2xpZGVFbGVtZW50LmNzcyggdGhpcy5wb3NpdGlvblByb3BlcnR5ICksIDEwICk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIGZvciAoIHNsaWRlSW5kZXggPSAwOyBzbGlkZUluZGV4IDwgdGhpcy5zbGlkZXNPcmRlci5sZW5ndGg7IHNsaWRlSW5kZXgrKyApIHtcclxuICAgICAgICAgICAgc2xpZGUgPSB0aGlzLmdldFNsaWRlQXQoIHRoaXMuc2xpZGVzT3JkZXJbIHNsaWRlSW5kZXggXSApO1xyXG4gICAgICAgICAgICAkc2xpZGVFbGVtZW50ID0gc2xpZGUuJHNsaWRlO1xyXG4gICAgICAgICAgICAkc2xpZGVFbGVtZW50LmNzcyggdGhpcy5wb3NpdGlvblByb3BlcnR5LCBwcmV2aW91c1Bvc2l0aW9uICk7XHJcbiAgICAgICAgICAgIHByZXZpb3VzUG9zaXRpb24gPSBwYXJzZUludCggJHNsaWRlRWxlbWVudC5jc3MoIHRoaXMucG9zaXRpb25Qcm9wZXJ0eSApLCAxMCApICsgc2xpZGUuZ2V0U2l6ZSgpWyB0aGlzLnNpemVQcm9wZXJ0eSBdICsgdGhpcy5zZXR0aW5ncy5zbGlkZURpc3RhbmNlO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgc2VsZWN0ZWRTbGlkZVNpemUgPSB0aGlzLmdldFNsaWRlQXQoIHRoaXMuc2VsZWN0ZWRTbGlkZUluZGV4ICkuZ2V0U2l6ZSgpWyB0aGlzLnNpemVQcm9wZXJ0eSBdO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIGRpcmVjdGlvbk11bHRpcGxpZXIgPSAoIHRoaXMuc2V0dGluZ3MucmlnaHRUb0xlZnQgPT09IHRydWUgJiYgdGhpcy5zZXR0aW5ncy5vcmllbnRhdGlvbiA9PT0gJ2hvcml6b250YWwnICkgPT09IHRydWUgPyAtMSA6IDE7XHJcbiAgICAgICAgc2xpZGVTaXplID0gKCB0aGlzLnNldHRpbmdzLm9yaWVudGF0aW9uID09PSAnaG9yaXpvbnRhbCcgKSA/IHRoaXMuc2xpZGVXaWR0aCA6IHRoaXMuc2xpZGVIZWlnaHQ7XHJcbiBcclxuICAgICAgICBmb3IgKCBzbGlkZUluZGV4ID0gMDsgc2xpZGVJbmRleCA8IHRoaXMuc2xpZGVzT3JkZXIubGVuZ3RoOyBzbGlkZUluZGV4KysgKSB7XHJcbiAgICAgICAgICAkc2xpZGVFbGVtZW50ID0gdGhpcy4kc2xpZGVzLmZpbmQoICcuc3Atc2xpZGUnICkuZXEoIHRoaXMuc2xpZGVzT3JkZXJbIHNsaWRlSW5kZXggXSApO1xyXG4gICAgICAgICAgJHNsaWRlRWxlbWVudC5jc3MoIHRoaXMucG9zaXRpb25Qcm9wZXJ0eSwgZGlyZWN0aW9uTXVsdGlwbGllciAqIHNsaWRlSW5kZXggKiAoIHNsaWRlU2l6ZSArIHRoaXMuc2V0dGluZ3Muc2xpZGVEaXN0YW5jZSApICk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBzZWxlY3RlZFNsaWRlU2l6ZSA9IHNsaWRlU2l6ZTtcclxuICAgICAgfVxyXG5cclxuICAgICAgdmFyIHNlbGVjdGVkU2xpZGVPZmZzZXQgPSB0aGlzLnNldHRpbmdzLmNlbnRlclNlbGVjdGVkU2xpZGUgPT09IHRydWUgPyBNYXRoLnJvdW5kKCAoIHBhcnNlSW50KCB0aGlzLiRzbGlkZXNNYXNrLmNzcyggdGhpcy5zaXplUHJvcGVydHkgKSwgMTAgKSAtIHNlbGVjdGVkU2xpZGVTaXplICkgLyAyICkgOiAwLFxyXG4gICAgICAgIG5ld1NsaWRlc1Bvc2l0aW9uID0gLSBwYXJzZUludCggdGhpcy4kc2xpZGVzLmZpbmQoICcuc3Atc2xpZGUnICkuZXEoIHRoaXMuc2VsZWN0ZWRTbGlkZUluZGV4ICkuY3NzKCB0aGlzLnBvc2l0aW9uUHJvcGVydHkgKSwgMTAgKSArIHNlbGVjdGVkU2xpZGVPZmZzZXQ7XHJcbiAgICAgIFxyXG4gICAgICB0aGlzLl9tb3ZlVG8oIG5ld1NsaWRlc1Bvc2l0aW9uLCB0cnVlICk7XHJcbiAgICB9LFxyXG5cclxuICAgIC8vIENhbGN1bGF0ZSB0aGUgdG90YWwgc2l6ZSBvZiB0aGUgc2xpZGVzIGFuZCB0aGUgYXZlcmFnZSBzaXplIG9mIGEgc2luZ2xlIHNsaWRlXHJcbiAgICBfY2FsY3VsYXRlU2xpZGVzU2l6ZTogZnVuY3Rpb24oKSB7XHJcbiAgICAgIGlmICggdGhpcy5zZXR0aW5ncy5hdXRvU2xpZGVTaXplID09PSB0cnVlICkge1xyXG4gICAgICAgIHZhciBmaXJzdFNsaWRlID0gdGhpcy4kc2xpZGVzLmZpbmQoICcuc3Atc2xpZGUnICkuZXEoIHRoaXMuc2xpZGVzT3JkZXJbIDAgXSApLFxyXG4gICAgICAgICAgZmlyc3RTbGlkZVBvc2l0aW9uID0gcGFyc2VJbnQoIGZpcnN0U2xpZGUuY3NzKCB0aGlzLnBvc2l0aW9uUHJvcGVydHkgKSwgMTAgKSxcclxuICAgICAgICAgIGxhc3RTbGlkZSA9IHRoaXMuJHNsaWRlcy5maW5kKCAnLnNwLXNsaWRlJyApLmVxKCB0aGlzLnNsaWRlc09yZGVyWyB0aGlzLnNsaWRlc09yZGVyLmxlbmd0aCAtIDEgXSApLFxyXG4gICAgICAgICAgbGFzdFNsaWRlUG9zaXRpb24gPSBwYXJzZUludCggbGFzdFNsaWRlLmNzcyggdGhpcy5wb3NpdGlvblByb3BlcnR5ICksIDEwICkgKyAoIHRoaXMuc2V0dGluZ3MucmlnaHRUb0xlZnQgPT09IHRydWUgJiYgdGhpcy5zZXR0aW5ncy5vcmllbnRhdGlvbiA9PT0gJ2hvcml6b250YWwnID8gLTEgOiAxICkgKiBwYXJzZUludCggbGFzdFNsaWRlLmNzcyggdGhpcy5zaXplUHJvcGVydHkgKSwgMTAgKTtcclxuICAgICAgICBcclxuICAgICAgICB0aGlzLnNsaWRlc1NpemUgPSBNYXRoLmFicyggbGFzdFNsaWRlUG9zaXRpb24gLSBmaXJzdFNsaWRlUG9zaXRpb24gKTtcclxuICAgICAgICB0aGlzLmF2ZXJhZ2VTbGlkZVNpemUgPSBNYXRoLnJvdW5kKCB0aGlzLnNsaWRlc1NpemUgLyB0aGlzLnNsaWRlcy5sZW5ndGggKTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICB0aGlzLnNsaWRlc1NpemUgPSAoICggdGhpcy5zZXR0aW5ncy5vcmllbnRhdGlvbiA9PT0gJ2hvcml6b250YWwnID8gdGhpcy5zbGlkZVdpZHRoIDogdGhpcy5zbGlkZUhlaWdodCApICsgdGhpcy5zZXR0aW5ncy5zbGlkZURpc3RhbmNlICkgKiB0aGlzLnNsaWRlcy5sZW5ndGggLSB0aGlzLnNldHRpbmdzLnNsaWRlRGlzdGFuY2U7XHJcbiAgICAgICAgdGhpcy5hdmVyYWdlU2xpZGVTaXplID0gdGhpcy5zZXR0aW5ncy5vcmllbnRhdGlvbiA9PT0gJ2hvcml6b250YWwnID8gdGhpcy5zbGlkZVdpZHRoIDogdGhpcy5zbGlkZUhlaWdodDtcclxuICAgICAgfVxyXG4gICAgfSxcclxuXHJcbiAgICAvLyBDYWxsZWQgd2hlbiB0aGUgc2xpZGVyIG5lZWRzIHRvIHJlc2l6ZVxyXG4gICAgcmVzaXplOiBmdW5jdGlvbigpIHtcclxuICAgICAgdmFyIHRoYXQgPSB0aGlzO1xyXG5cclxuICAgICAgLy8gQ2hlY2sgaWYgdGhlIGN1cnJlbnQgd2luZG93IHdpZHRoIGlzIGJpZ2dlciB0aGFuIHRoZSBiaWdnZXN0IGJyZWFrcG9pbnRcclxuICAgICAgLy8gYW5kIGlmIG5lY2Vzc2FyeSByZXNldCB0aGUgcHJvcGVydGllcyB0byB0aGUgb3JpZ2luYWwgc2V0dGluZ3MuXHJcbiAgICAgIC8vIFxyXG4gICAgICAvLyBJZiB0aGUgd2luZG93IHdpZHRoIGlzIHNtYWxsZXIgdGhhbiBhIGNlcnRhaW4gYnJlYWtwb2ludCwgYXBwbHkgdGhlIHNldHRpbmdzIHNwZWNpZmllZFxyXG4gICAgICAvLyBmb3IgdGhhdCBicmVha3BvaW50IGJ1dCBvbmx5IGFmdGVyIG1lcmdpbmcgdGhlbSB3aXRoIHRoZSBvcmlnaW5hbCBzZXR0aW5nc1xyXG4gICAgICAvLyBpbiBvcmRlciB0byBtYWtlIHN1cmUgdGhhdCBvbmx5IHRoZSBzcGVjaWZpZWQgc2V0dGluZ3MgZm9yIHRoZSBicmVha3BvaW50IGFyZSBhcHBsaWVkXHJcbiAgICAgIGlmICggdGhpcy5zZXR0aW5ncy5icmVha3BvaW50cyAhPT0gbnVsbCAmJiB0aGlzLmJyZWFrcG9pbnRzLmxlbmd0aCA+IDAgKSB7XHJcbiAgICAgICAgaWYgKCAkKCB3aW5kb3cgKS53aWR0aCgpID4gdGhpcy5icmVha3BvaW50c1sgdGhpcy5icmVha3BvaW50cy5sZW5ndGggLSAxIF0uc2l6ZSAmJiB0aGlzLmN1cnJlbnRCcmVha3BvaW50ICE9PSAtMSApIHtcclxuICAgICAgICAgIHRoaXMuY3VycmVudEJyZWFrcG9pbnQgPSAtMTtcclxuICAgICAgICAgIHRoaXMuX3NldFByb3BlcnRpZXMoIHRoaXMub3JpZ2luYWxTZXR0aW5ncywgZmFsc2UgKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgZm9yICggdmFyIGkgPSAwLCBuID0gdGhpcy5icmVha3BvaW50cy5sZW5ndGg7IGkgPCBuOyBpKysgKSB7XHJcbiAgICAgICAgICAgIGlmICggJCggd2luZG93ICkud2lkdGgoKSA8PSB0aGlzLmJyZWFrcG9pbnRzWyBpIF0uc2l6ZSApIHtcclxuICAgICAgICAgICAgICBpZiAoIHRoaXMuY3VycmVudEJyZWFrcG9pbnQgIT09IHRoaXMuYnJlYWtwb2ludHNbIGkgXS5zaXplICkge1xyXG4gICAgICAgICAgICAgICAgdmFyIGV2ZW50T2JqZWN0ID0geyB0eXBlOiAnYnJlYWtwb2ludFJlYWNoJywgc2l6ZTogdGhpcy5icmVha3BvaW50c1sgaSBdLnNpemUsIHNldHRpbmdzOiB0aGlzLmJyZWFrcG9pbnRzWyBpIF0ucHJvcGVydGllcyB9O1xyXG4gICAgICAgICAgICAgICAgdGhpcy50cmlnZ2VyKCBldmVudE9iamVjdCApO1xyXG4gICAgICAgICAgICAgICAgaWYgKCAkLmlzRnVuY3Rpb24oIHRoaXMuc2V0dGluZ3MuYnJlYWtwb2ludFJlYWNoICkgKVxyXG4gICAgICAgICAgICAgICAgICB0aGlzLnNldHRpbmdzLmJyZWFrcG9pbnRSZWFjaC5jYWxsKCB0aGlzLCBldmVudE9iamVjdCApO1xyXG5cclxuICAgICAgICAgICAgICAgIHRoaXMuY3VycmVudEJyZWFrcG9pbnQgPSB0aGlzLmJyZWFrcG9pbnRzWyBpIF0uc2l6ZTtcclxuICAgICAgICAgICAgICAgIHZhciBzZXR0aW5ncyA9ICQuZXh0ZW5kKCB7fSwgdGhpcy5vcmlnaW5hbFNldHRpbmdzLCB0aGlzLmJyZWFrcG9pbnRzWyBpIF0ucHJvcGVydGllcyApO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fc2V0UHJvcGVydGllcyggc2V0dGluZ3MsIGZhbHNlICk7XHJcbiAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcblxyXG4gICAgICAvLyBTZXQgdGhlIHdpZHRoIG9mIHRoZSBtYWluIHNsaWRlciBjb250YWluZXIgYmFzZWQgb24gd2hldGhlciBvciBub3QgdGhlIHNsaWRlciBpcyByZXNwb25zaXZlLFxyXG4gICAgICAvLyBmdWxsIHdpZHRoIG9yIGZ1bGwgc2l6ZVxyXG4gICAgICBpZiAoIHRoaXMuc2V0dGluZ3MucmVzcG9uc2l2ZSA9PT0gdHJ1ZSApIHtcclxuICAgICAgICBpZiAoICggdGhpcy5zZXR0aW5ncy5mb3JjZVNpemUgPT09ICdmdWxsV2lkdGgnIHx8IHRoaXMuc2V0dGluZ3MuZm9yY2VTaXplID09PSAnZnVsbFdpbmRvdycgKSAmJlxyXG4gICAgICAgICAgKCB0aGlzLnNldHRpbmdzLnZpc2libGVTaXplID09PSAnYXV0bycgfHwgdGhpcy5zZXR0aW5ncy52aXNpYmxlU2l6ZSAhPT0gJ2F1dG8nICYmIHRoaXMuc2V0dGluZ3Mub3JpZW50YXRpb24gPT09ICd2ZXJ0aWNhbCcgKVxyXG4gICAgICAgICkge1xyXG4gICAgICAgICAgdGhpcy4kc2xpZGVyLmNzcyggJ21hcmdpbicsIDAgKTtcclxuICAgICAgICAgIHRoaXMuJHNsaWRlci5jc3MoeyAnd2lkdGgnOiAkKCB3aW5kb3cgKS53aWR0aCgpLCAnbWF4LXdpZHRoJzogJycsICdtYXJnaW5MZWZ0JzogLSB0aGlzLiRzbGlkZXIub2Zmc2V0KCkubGVmdCB9KTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgdGhpcy4kc2xpZGVyLmNzcyh7ICd3aWR0aCc6ICcxMDAlJywgJ21heC13aWR0aCc6IHRoaXMuc2V0dGluZ3Mud2lkdGgsICdtYXJnaW5MZWZ0JzogJycgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIHRoaXMuJHNsaWRlci5jc3MoeyAnd2lkdGgnOiB0aGlzLnNldHRpbmdzLndpZHRoIH0pO1xyXG4gICAgICB9XHJcblxyXG4gICAgICAvLyBDYWxjdWxhdGUgdGhlIGFzcGVjdCByYXRpbyBvZiB0aGUgc2xpZGVyXHJcbiAgICAgIGlmICggdGhpcy5zZXR0aW5ncy5hc3BlY3RSYXRpbyA9PT0gLTEgKSB7XHJcbiAgICAgICAgdGhpcy5zZXR0aW5ncy5hc3BlY3RSYXRpbyA9IHRoaXMuc2V0dGluZ3Mud2lkdGggLyB0aGlzLnNldHRpbmdzLmhlaWdodDtcclxuICAgICAgfVxyXG4gICAgICBcclxuICAgICAgLy8gSW5pdGlhbGx5IHNldCB0aGUgc2xpZGUgd2lkdGggdG8gdGhlIHNpemUgb2YgdGhlIHNsaWRlci5cclxuICAgICAgLy8gTGF0ZXIsIHRoaXMgd2lsbCBiZSBzZXQgdG8gbGVzcyBpZiB0aGVyZSBhcmUgbXVsdGlwbGUgdmlzaWJsZSBzbGlkZXMuXHJcbiAgICAgIHRoaXMuc2xpZGVXaWR0aCA9IHRoaXMuJHNsaWRlci53aWR0aCgpO1xyXG5cclxuICAgICAgLy8gU2V0IHRoZSBoZWlnaHQgdG8gdGhlIHNhbWUgc2l6ZSBhcyB0aGUgYnJvd3NlciB3aW5kb3cgaWYgdGhlIHNsaWRlciBpcyBzZXQgdG8gYmUgJ2Z1bGxXaW5kb3cnLFxyXG4gICAgICAvLyBvciBjYWxjdWxhdGUgdGhlIGhlaWdodCBiYXNlZCBvbiB0aGUgd2lkdGggYW5kIHRoZSBhc3BlY3QgcmF0aW8uXHJcbiAgICAgIGlmICggdGhpcy5zZXR0aW5ncy5mb3JjZVNpemUgPT09ICdmdWxsV2luZG93JyApIHtcclxuICAgICAgICB0aGlzLnNsaWRlSGVpZ2h0ID0gJCggd2luZG93ICkuaGVpZ2h0KCk7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgdGhpcy5zbGlkZUhlaWdodCA9IGlzTmFOKCB0aGlzLnNldHRpbmdzLmFzcGVjdFJhdGlvICkgPyB0aGlzLnNldHRpbmdzLmhlaWdodCA6IHRoaXMuc2xpZGVXaWR0aCAvIHRoaXMuc2V0dGluZ3MuYXNwZWN0UmF0aW87XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC8vIFJlc2l6ZSB0aGUgc2xpZGVyIG9ubHkgaWYgdGhlIHNpemUgb2YgdGhlIHNsaWRlciBoYXMgY2hhbmdlZFxyXG4gICAgICAvLyBJZiBpdCBoYXNuJ3QsIHJldHVybi5cclxuICAgICAgaWYgKCB0aGlzLnByZXZpb3VzU2xpZGVXaWR0aCAhPT0gdGhpcy5zbGlkZVdpZHRoIHx8XHJcbiAgICAgICAgdGhpcy5wcmV2aW91c1NsaWRlSGVpZ2h0ICE9PSB0aGlzLnNsaWRlSGVpZ2h0IHx8XHJcbiAgICAgICAgdGhpcy5zZXR0aW5ncy52aXNpYmxlU2l6ZSAhPT0gJ2F1dG8nIHx8XHJcbiAgICAgICAgdGhpcy4kc2xpZGVyLm91dGVyV2lkdGgoKSA+IHRoaXMuJHNsaWRlci5wYXJlbnQoKS53aWR0aCgpIHx8XHJcbiAgICAgICAgdGhpcy4kc2xpZGVyLndpZHRoKCkgIT09IHRoaXMuJHNsaWRlc01hc2sud2lkdGgoKVxyXG4gICAgICApIHtcclxuICAgICAgICB0aGlzLnByZXZpb3VzU2xpZGVXaWR0aCA9IHRoaXMuc2xpZGVXaWR0aDtcclxuICAgICAgICB0aGlzLnByZXZpb3VzU2xpZGVIZWlnaHQgPSB0aGlzLnNsaWRlSGVpZ2h0O1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIHJldHVybjtcclxuICAgICAgfVxyXG5cclxuICAgICAgdGhpcy5fcmVzaXplU2xpZGVzKCk7XHJcblxyXG4gICAgICAvLyBTZXQgdGhlIGluaXRpYWwgc2l6ZSBvZiB0aGUgbWFzayBjb250YWluZXIgdG8gdGhlIHNpemUgb2YgYW4gaW5kaXZpZHVhbCBzbGlkZVxyXG4gICAgICB0aGlzLiRzbGlkZXNNYXNrLmNzcyh7ICd3aWR0aCc6IHRoaXMuc2xpZGVXaWR0aCwgJ2hlaWdodCc6IHRoaXMuc2xpZGVIZWlnaHQgfSk7XHJcblxyXG4gICAgICAvLyBBZGp1c3QgdGhlIGhlaWdodCBpZiBpdCdzIHNldCB0byAnYXV0bydcclxuICAgICAgaWYgKCB0aGlzLnNldHRpbmdzLmF1dG9IZWlnaHQgPT09IHRydWUgKSB7XHJcblxyXG4gICAgICAgIC8vIERlbGF5IHRoZSByZXNpemluZyBvZiB0aGUgaGVpZ2h0IHRvIGFsbG93IGZvciBvdGhlciByZXNpemUgaGFuZGxlcnNcclxuICAgICAgICAvLyB0byBleGVjdXRlIGZpcnN0IGJlZm9yZSBjYWxjdWxhdGluZyB0aGUgZmluYWwgaGVpZ2h0IG9mIHRoZSBzbGlkZVxyXG4gICAgICAgIHNldFRpbWVvdXQoIGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgdGhhdC5fcmVzaXplSGVpZ2h0KCk7XHJcbiAgICAgICAgfSwgMSApO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIHRoaXMuJHNsaWRlc01hc2suY3NzKCB0aGlzLnZlbmRvclByZWZpeCArICd0cmFuc2l0aW9uJywgJycgKTtcclxuICAgICAgfVxyXG5cclxuICAgICAgLy8gVGhlICd2aXNpYmxlU2l6ZScgb3B0aW9uIGNhbiBiZSBzZXQgdG8gZml4ZWQgb3IgcGVyY2VudGFnZSBzaXplIHRvIG1ha2UgbW9yZSBzbGlkZXNcclxuICAgICAgLy8gdmlzaWJsZSBhdCBhIHRpbWUuXHJcbiAgICAgIC8vIEJ5IGRlZmF1bHQgaXQncyBzZXQgdG8gJ2F1dG8nLlxyXG4gICAgICBpZiAoIHRoaXMuc2V0dGluZ3MudmlzaWJsZVNpemUgIT09ICdhdXRvJyApIHtcclxuICAgICAgICBpZiAoIHRoaXMuc2V0dGluZ3Mub3JpZW50YXRpb24gPT09ICdob3Jpem9udGFsJyApIHtcclxuXHJcbiAgICAgICAgICAvLyBJZiB0aGUgc2l6ZSBpcyBmb3JjZWQgdG8gZnVsbCB3aWR0aCBvciBmdWxsIHdpbmRvdywgdGhlICd2aXNpYmxlU2l6ZScgb3B0aW9uIHdpbGwgYmVcclxuICAgICAgICAgIC8vIGlnbm9yZWQgYW5kIHRoZSBzbGlkZXIgd2lsbCBiZWNvbWUgYXMgd2lkZSBhcyB0aGUgYnJvd3NlciB3aW5kb3cuXHJcbiAgICAgICAgICBpZiAoIHRoaXMuc2V0dGluZ3MuZm9yY2VTaXplID09PSAnZnVsbFdpZHRoJyB8fCB0aGlzLnNldHRpbmdzLmZvcmNlU2l6ZSA9PT0gJ2Z1bGxXaW5kb3cnICkge1xyXG4gICAgICAgICAgICB0aGlzLiRzbGlkZXIuY3NzKCAnbWFyZ2luJywgMCApO1xyXG4gICAgICAgICAgICB0aGlzLiRzbGlkZXIuY3NzKHsgJ3dpZHRoJzogJCggd2luZG93ICkud2lkdGgoKSwgJ21heC13aWR0aCc6ICcnLCAnbWFyZ2luTGVmdCc6IC0gdGhpcy4kc2xpZGVyLm9mZnNldCgpLmxlZnQgfSk7XHJcbiAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLiRzbGlkZXIuY3NzKHsgJ3dpZHRoJzogdGhpcy5zZXR0aW5ncy52aXNpYmxlU2l6ZSwgJ21heC13aWR0aCc6ICcxMDAlJywgJ21hcmdpbkxlZnQnOiAwIH0pO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgXHJcbiAgICAgICAgICB0aGlzLiRzbGlkZXNNYXNrLmNzcyggJ3dpZHRoJywgdGhpcy4kc2xpZGVyLndpZHRoKCkgKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG5cclxuICAgICAgICAgIC8vIElmIHRoZSBzaXplIGlzIGZvcmNlZCB0byBmdWxsIHdpbmRvdywgdGhlICd2aXNpYmxlU2l6ZScgb3B0aW9uIHdpbGwgYmVcclxuICAgICAgICAgIC8vIGlnbm9yZWQgYW5kIHRoZSBzbGlkZXIgd2lsbCBiZWNvbWUgYXMgaGlnaCBhcyB0aGUgYnJvd3NlciB3aW5kb3cuXHJcbiAgICAgICAgICBpZiAoIHRoaXMuc2V0dGluZ3MuZm9yY2VTaXplID09PSAnZnVsbFdpbmRvdycgKSB7XHJcbiAgICAgICAgICAgIHRoaXMuJHNsaWRlci5jc3MoeyAnaGVpZ2h0JzogJCggd2luZG93ICkuaGVpZ2h0KCksICdtYXgtaGVpZ2h0JzogJycgfSk7XHJcbiAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLiRzbGlkZXIuY3NzKHsgJ2hlaWdodCc6IHRoaXMuc2V0dGluZ3MudmlzaWJsZVNpemUsICdtYXgtaGVpZ2h0JzogJzEwMCUnIH0pO1xyXG4gICAgICAgICAgfVxyXG5cclxuICAgICAgICAgIHRoaXMuJHNsaWRlc01hc2suY3NzKCAnaGVpZ2h0JywgdGhpcy4kc2xpZGVyLmhlaWdodCgpICk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcblxyXG4gICAgICB0aGlzLl9yZXNldFNsaWRlc1Bvc2l0aW9uKCk7XHJcbiAgICAgIHRoaXMuX2NhbGN1bGF0ZVNsaWRlc1NpemUoKTtcclxuXHJcbiAgICAgIC8vIEZpcmUgdGhlICdzbGlkZXJSZXNpemUnIGV2ZW50XHJcbiAgICAgIHRoaXMudHJpZ2dlcih7IHR5cGU6ICdzbGlkZXJSZXNpemUnIH0pO1xyXG4gICAgICBpZiAoICQuaXNGdW5jdGlvbiggdGhpcy5zZXR0aW5ncy5zbGlkZXJSZXNpemUgKSApIHtcclxuICAgICAgICB0aGlzLnNldHRpbmdzLnNsaWRlclJlc2l6ZS5jYWxsKCB0aGlzLCB7IHR5cGU6ICdzbGlkZXJSZXNpemUnIH0pO1xyXG4gICAgICB9XHJcbiAgICB9LFxyXG5cclxuICAgIC8vIFJlc2l6ZSBlYWNoIGluZGl2aWR1YWwgc2xpZGVcclxuICAgIF9yZXNpemVTbGlkZXM6IGZ1bmN0aW9uKCkge1xyXG4gICAgICB2YXIgc2xpZGVXaWR0aCA9IHRoaXMuc2xpZGVXaWR0aCxcclxuICAgICAgICBzbGlkZUhlaWdodCA9IHRoaXMuc2xpZGVIZWlnaHQ7XHJcblxyXG4gICAgICBpZiAoIHRoaXMuc2V0dGluZ3MuYXV0b1NsaWRlU2l6ZSA9PT0gdHJ1ZSApIHtcclxuICAgICAgICBpZiAoIHRoaXMuc2V0dGluZ3Mub3JpZW50YXRpb24gPT09ICdob3Jpem9udGFsJyApIHtcclxuICAgICAgICAgIHNsaWRlV2lkdGggPSAnYXV0byc7XHJcbiAgICAgICAgfSBlbHNlIGlmICggdGhpcy5zZXR0aW5ncy5vcmllbnRhdGlvbiA9PT0gJ3ZlcnRpY2FsJyApIHtcclxuICAgICAgICAgIHNsaWRlSGVpZ2h0ID0gJ2F1dG8nO1xyXG4gICAgICAgIH1cclxuICAgICAgfSBlbHNlIGlmICggdGhpcy5zZXR0aW5ncy5hdXRvSGVpZ2h0ID09PSB0cnVlICkge1xyXG4gICAgICAgIHNsaWRlSGVpZ2h0ID0gJ2F1dG8nO1xyXG4gICAgICB9XHJcblxyXG4gICAgICAvLyBMb29wIHRocm91Z2ggdGhlIGV4aXN0aW5nIHNsaWRlcyBhbmQgcmVzZXQgdGhlaXIgc2l6ZS5cclxuICAgICAgJC5lYWNoKCB0aGlzLnNsaWRlcywgZnVuY3Rpb24oIGluZGV4LCBlbGVtZW50ICkge1xyXG4gICAgICAgIGVsZW1lbnQuc2V0U2l6ZSggc2xpZGVXaWR0aCwgc2xpZGVIZWlnaHQgKTtcclxuICAgICAgfSk7XHJcbiAgICB9LFxyXG5cclxuICAgIC8vIFJlc2l6ZSB0aGUgaGVpZ2h0IG9mIHRoZSBzbGlkZXIgdG8gdGhlIGhlaWdodCBvZiB0aGUgc2VsZWN0ZWQgc2xpZGUuXHJcbiAgICAvLyBJdCdzIHVzZWQgd2hlbiB0aGUgJ2F1dG9IZWlnaHQnIG9wdGlvbiBpcyBzZXQgdG8gJ3RydWUnLlxyXG4gICAgX3Jlc2l6ZUhlaWdodDogZnVuY3Rpb24oKSB7XHJcbiAgICAgIHZhciB0aGF0ID0gdGhpcyxcclxuICAgICAgICBzZWxlY3RlZFNsaWRlID0gdGhpcy5nZXRTbGlkZUF0KCB0aGlzLnNlbGVjdGVkU2xpZGVJbmRleCApO1xyXG5cclxuICAgICAgdGhpcy5fcmVzaXplSGVpZ2h0VG8oIHNlbGVjdGVkU2xpZGUuZ2V0U2l6ZSgpLmhlaWdodCApO1xyXG4gICAgfSxcclxuXHJcbiAgICAvLyBPcGVuIHRoZSBzbGlkZSBhdCB0aGUgc3BlY2lmaWVkIGluZGV4XHJcbiAgICBnb3RvU2xpZGU6IGZ1bmN0aW9uKCBpbmRleCApIHtcclxuICAgICAgaWYgKCBpbmRleCA9PT0gdGhpcy5zZWxlY3RlZFNsaWRlSW5kZXggfHwgdHlwZW9mIHRoaXMuc2xpZGVzWyBpbmRleCBdID09PSAndW5kZWZpbmVkJyApIHtcclxuICAgICAgICByZXR1cm47XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHZhciB0aGF0ID0gdGhpcztcclxuXHJcbiAgICAgIHRoaXMucHJldmlvdXNTbGlkZUluZGV4ID0gdGhpcy5zZWxlY3RlZFNsaWRlSW5kZXg7XHJcbiAgICAgIHRoaXMuc2VsZWN0ZWRTbGlkZUluZGV4ID0gaW5kZXg7XHJcblxyXG4gICAgICAvLyBSZS1hc3NpZ24gdGhlICdzcC1zZWxlY3RlZCcgY2xhc3MgdG8gdGhlIGN1cnJlbnRseSBzZWxlY3RlZCBzbGlkZVxyXG4gICAgICB0aGlzLiRzbGlkZXMuZmluZCggJy5zcC1zZWxlY3RlZCcgKS5yZW1vdmVDbGFzcyggJ3NwLXNlbGVjdGVkJyApO1xyXG4gICAgICB0aGlzLiRzbGlkZXMuZmluZCggJy5zcC1zbGlkZScgKS5lcSggdGhpcy5zZWxlY3RlZFNsaWRlSW5kZXggKS5hZGRDbGFzcyggJ3NwLXNlbGVjdGVkJyApO1xyXG5cclxuICAgICAgLy8gSWYgdGhlIHNsaWRlciBpcyBsb29wYWJsZSByZW9yZGVyIHRoZSBzbGlkZXMgdG8gaGF2ZSB0aGUgc2VsZWN0ZWQgc2xpZGUgaW4gdGhlIG1pZGRsZVxyXG4gICAgICAvLyBhbmQgdXBkYXRlIHRoZSBzbGlkZXMnIHBvc2l0aW9uLlxyXG4gICAgICBpZiAoIHRoaXMuc2V0dGluZ3MubG9vcCA9PT0gdHJ1ZSApIHtcclxuICAgICAgICB0aGlzLl91cGRhdGVTbGlkZXNPcmRlcigpO1xyXG4gICAgICAgIHRoaXMuX3VwZGF0ZVNsaWRlc1Bvc2l0aW9uKCk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC8vIEFkanVzdCB0aGUgaGVpZ2h0IG9mIHRoZSBzbGlkZXJcclxuICAgICAgaWYgKCB0aGlzLnNldHRpbmdzLmF1dG9IZWlnaHQgPT09IHRydWUgKSB7XHJcbiAgICAgICAgdGhpcy5fcmVzaXplSGVpZ2h0KCk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHZhciBzZWxlY3RlZFNsaWRlT2Zmc2V0ID0gdGhpcy5zZXR0aW5ncy5jZW50ZXJTZWxlY3RlZFNsaWRlID09PSB0cnVlID8gTWF0aC5yb3VuZCggKCBwYXJzZUludCggdGhpcy4kc2xpZGVzTWFzay5jc3MoIHRoaXMuc2l6ZVByb3BlcnR5ICksIDEwICkgLSB0aGlzLmdldFNsaWRlQXQoIHRoaXMuc2VsZWN0ZWRTbGlkZUluZGV4ICkuZ2V0U2l6ZSgpWyB0aGlzLnNpemVQcm9wZXJ0eSBdICkgLyAyICkgOiAwLFxyXG4gICAgICAgIG5ld1NsaWRlc1Bvc2l0aW9uID0gLSBwYXJzZUludCggdGhpcy4kc2xpZGVzLmZpbmQoICcuc3Atc2xpZGUnICkuZXEoIHRoaXMuc2VsZWN0ZWRTbGlkZUluZGV4ICkuY3NzKCB0aGlzLnBvc2l0aW9uUHJvcGVydHkgKSwgMTAgKSArIHNlbGVjdGVkU2xpZGVPZmZzZXQ7XHJcblxyXG4gICAgICAvLyBNb3ZlIHRoZSBzbGlkZXMgY29udGFpbmVyIHRvIHRoZSBuZXcgcG9zaXRpb25cclxuICAgICAgdGhpcy5fbW92ZVRvKCBuZXdTbGlkZXNQb3NpdGlvbiwgZmFsc2UsIGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIHRoYXQuX3Jlc2V0U2xpZGVzUG9zaXRpb24oKTtcclxuXHJcbiAgICAgICAgLy8gRmlyZSB0aGUgJ2dvdG9TbGlkZUNvbXBsZXRlJyBldmVudFxyXG4gICAgICAgIHRoYXQudHJpZ2dlcih7IHR5cGU6ICdnb3RvU2xpZGVDb21wbGV0ZScsIGluZGV4OiBpbmRleCwgcHJldmlvdXNJbmRleDogdGhhdC5wcmV2aW91c1NsaWRlSW5kZXggfSk7XHJcbiAgICAgICAgaWYgKCAkLmlzRnVuY3Rpb24oIHRoYXQuc2V0dGluZ3MuZ290b1NsaWRlQ29tcGxldGUgKSApIHtcclxuICAgICAgICAgIHRoYXQuc2V0dGluZ3MuZ290b1NsaWRlQ29tcGxldGUuY2FsbCggdGhhdCwgeyB0eXBlOiAnZ290b1NsaWRlQ29tcGxldGUnLCBpbmRleDogaW5kZXgsIHByZXZpb3VzSW5kZXg6IHRoYXQucHJldmlvdXNTbGlkZUluZGV4IH0gKTtcclxuICAgICAgICB9XHJcbiAgICAgIH0pO1xyXG5cclxuICAgICAgLy8gRmlyZSB0aGUgJ2dvdG9TbGlkZScgZXZlbnRcclxuICAgICAgdGhpcy50cmlnZ2VyKHsgdHlwZTogJ2dvdG9TbGlkZScsIGluZGV4OiBpbmRleCwgcHJldmlvdXNJbmRleDogdGhpcy5wcmV2aW91c1NsaWRlSW5kZXggfSk7XHJcbiAgICAgIGlmICggJC5pc0Z1bmN0aW9uKCB0aGlzLnNldHRpbmdzLmdvdG9TbGlkZSApICkge1xyXG4gICAgICAgIHRoaXMuc2V0dGluZ3MuZ290b1NsaWRlLmNhbGwoIHRoaXMsIHsgdHlwZTogJ2dvdG9TbGlkZScsIGluZGV4OiBpbmRleCwgcHJldmlvdXNJbmRleDogdGhpcy5wcmV2aW91c1NsaWRlSW5kZXggfSApO1xyXG4gICAgICB9XHJcbiAgICB9LFxyXG5cclxuICAgIC8vIE9wZW4gdGhlIG5leHQgc2xpZGVcclxuICAgIG5leHRTbGlkZTogZnVuY3Rpb24oKSB7XHJcbiAgICAgIHZhciBpbmRleCA9ICggdGhpcy5zZWxlY3RlZFNsaWRlSW5kZXggPj0gdGhpcy5nZXRUb3RhbFNsaWRlcygpIC0gMSApID8gMCA6ICggdGhpcy5zZWxlY3RlZFNsaWRlSW5kZXggKyAxICk7XHJcbiAgICAgIHRoaXMuZ290b1NsaWRlKCBpbmRleCApO1xyXG4gICAgfSxcclxuXHJcbiAgICAvLyBPcGVuIHRoZSBwcmV2aW91cyBzbGlkZVxyXG4gICAgcHJldmlvdXNTbGlkZTogZnVuY3Rpb24oKSB7XHJcbiAgICAgIHZhciBpbmRleCA9IHRoaXMuc2VsZWN0ZWRTbGlkZUluZGV4IDw9IDAgPyAoIHRoaXMuZ2V0VG90YWxTbGlkZXMoKSAtIDEgKSA6ICggdGhpcy5zZWxlY3RlZFNsaWRlSW5kZXggLSAxICk7XHJcbiAgICAgIHRoaXMuZ290b1NsaWRlKCBpbmRleCApO1xyXG4gICAgfSxcclxuXHJcbiAgICAvLyBNb3ZlIHRoZSBzbGlkZXMgY29udGFpbmVyIHRvIHRoZSBzcGVjaWZpZWQgcG9zaXRpb24uXHJcbiAgICAvLyBUaGUgbW92ZW1lbnQgY2FuIGJlIGluc3RhbnQgb3IgYW5pbWF0ZWQuXHJcbiAgICBfbW92ZVRvOiBmdW5jdGlvbiggcG9zaXRpb24sIGluc3RhbnQsIGNhbGxiYWNrICkge1xyXG4gICAgICB2YXIgdGhhdCA9IHRoaXMsXHJcbiAgICAgICAgY3NzID0ge307XHJcblxyXG4gICAgICBpZiAoIHBvc2l0aW9uID09PSB0aGlzLnNsaWRlc1Bvc2l0aW9uICkge1xyXG4gICAgICAgIHJldHVybjtcclxuICAgICAgfVxyXG4gICAgICBcclxuICAgICAgdGhpcy5zbGlkZXNQb3NpdGlvbiA9IHBvc2l0aW9uO1xyXG4gICAgICBcclxuICAgICAgaWYgKCAoIHRoaXMuc3VwcG9ydGVkQW5pbWF0aW9uID09PSAnY3NzLTNkJyB8fCB0aGlzLnN1cHBvcnRlZEFuaW1hdGlvbiA9PT0gJ2Nzcy0yZCcgKSAmJiB0aGlzLmlzSUUgPT09IGZhbHNlICkge1xyXG4gICAgICAgIHZhciB0cmFuc2l0aW9uLFxyXG4gICAgICAgICAgbGVmdCA9IHRoaXMuc2V0dGluZ3Mub3JpZW50YXRpb24gPT09ICdob3Jpem9udGFsJyA/IHBvc2l0aW9uIDogMCxcclxuICAgICAgICAgIHRvcCA9IHRoaXMuc2V0dGluZ3Mub3JpZW50YXRpb24gPT09ICdob3Jpem9udGFsJyA/IDAgOiBwb3NpdGlvbjtcclxuXHJcbiAgICAgICAgaWYgKCB0aGlzLnN1cHBvcnRlZEFuaW1hdGlvbiA9PT0gJ2Nzcy0zZCcgKSB7XHJcbiAgICAgICAgICBjc3NbIHRoaXMudmVuZG9yUHJlZml4ICsgJ3RyYW5zZm9ybScgXSA9ICd0cmFuc2xhdGUzZCgnICsgbGVmdCArICdweCwgJyArIHRvcCArICdweCwgMCknO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICBjc3NbIHRoaXMudmVuZG9yUHJlZml4ICsgJ3RyYW5zZm9ybScgXSA9ICd0cmFuc2xhdGUoJyArIGxlZnQgKyAncHgsICcgKyB0b3AgKyAncHgpJztcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmICggdHlwZW9mIGluc3RhbnQgIT09ICd1bmRlZmluZWQnICYmIGluc3RhbnQgPT09IHRydWUgKSB7XHJcbiAgICAgICAgICB0cmFuc2l0aW9uID0gJyc7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIHRoaXMuJHNsaWRlcy5hZGRDbGFzcyggJ3NwLWFuaW1hdGVkJyApO1xyXG4gICAgICAgICAgdHJhbnNpdGlvbiA9IHRoaXMudmVuZG9yUHJlZml4ICsgJ3RyYW5zZm9ybSAnICsgdGhpcy5zZXR0aW5ncy5zbGlkZUFuaW1hdGlvbkR1cmF0aW9uIC8gMTAwMCArICdzJztcclxuXHJcbiAgICAgICAgICB0aGlzLiRzbGlkZXMub24oIHRoaXMudHJhbnNpdGlvbkV2ZW50LCBmdW5jdGlvbiggZXZlbnQgKSB7XHJcbiAgICAgICAgICAgIGlmICggZXZlbnQudGFyZ2V0ICE9PSBldmVudC5jdXJyZW50VGFyZ2V0ICkge1xyXG4gICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgdGhhdC4kc2xpZGVzLm9mZiggdGhhdC50cmFuc2l0aW9uRXZlbnQgKTtcclxuICAgICAgICAgICAgdGhhdC4kc2xpZGVzLnJlbW92ZUNsYXNzKCAnc3AtYW5pbWF0ZWQnICk7XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICBpZiAoIHR5cGVvZiBjYWxsYmFjayA9PT0gJ2Z1bmN0aW9uJyApIHtcclxuICAgICAgICAgICAgICBjYWxsYmFjaygpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGNzc1sgdGhpcy52ZW5kb3JQcmVmaXggKyAndHJhbnNpdGlvbicgXSA9IHRyYW5zaXRpb247XHJcblxyXG4gICAgICAgIHRoaXMuJHNsaWRlcy5jc3MoIGNzcyApO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIGNzc1sgJ21hcmdpbi0nICsgdGhpcy5wb3NpdGlvblByb3BlcnR5IF0gPSBwb3NpdGlvbjtcclxuXHJcbiAgICAgICAgaWYgKCB0eXBlb2YgaW5zdGFudCAhPT0gJ3VuZGVmaW5lZCcgJiYgaW5zdGFudCA9PT0gdHJ1ZSApIHtcclxuICAgICAgICAgIHRoaXMuJHNsaWRlcy5jc3MoIGNzcyApO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICB0aGlzLiRzbGlkZXMuYWRkQ2xhc3MoICdzcC1hbmltYXRlZCcgKTtcclxuICAgICAgICAgIHRoaXMuJHNsaWRlcy5hbmltYXRlKCBjc3MsIHRoaXMuc2V0dGluZ3Muc2xpZGVBbmltYXRpb25EdXJhdGlvbiwgZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIHRoYXQuJHNsaWRlcy5yZW1vdmVDbGFzcyggJ3NwLWFuaW1hdGVkJyApO1xyXG5cclxuICAgICAgICAgICAgaWYgKCB0eXBlb2YgY2FsbGJhY2sgPT09ICdmdW5jdGlvbicgKSB7XHJcbiAgICAgICAgICAgICAgY2FsbGJhY2soKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9LFxyXG5cclxuICAgIC8vIFN0b3AgdGhlIG1vdmVtZW50IG9mIHRoZSBzbGlkZXNcclxuICAgIF9zdG9wTW92ZW1lbnQ6IGZ1bmN0aW9uKCkge1xyXG4gICAgICB2YXIgY3NzID0ge307XHJcblxyXG4gICAgICBpZiAoICggdGhpcy5zdXBwb3J0ZWRBbmltYXRpb24gPT09ICdjc3MtM2QnIHx8IHRoaXMuc3VwcG9ydGVkQW5pbWF0aW9uID09PSAnY3NzLTJkJyApICYmIHRoaXMuaXNJRSA9PT0gZmFsc2UpIHtcclxuXHJcbiAgICAgICAgLy8gR2V0IHRoZSBjdXJyZW50IHBvc2l0aW9uIG9mIHRoZSBzbGlkZXMgYnkgcGFyc2luZyB0aGUgJ3RyYW5zZm9ybScgcHJvcGVydHlcclxuICAgICAgICB2YXIgbWF0cml4U3RyaW5nID0gdGhpcy4kc2xpZGVzLmNzcyggdGhpcy52ZW5kb3JQcmVmaXggKyAndHJhbnNmb3JtJyApLFxyXG4gICAgICAgICAgbWF0cml4VHlwZSA9IG1hdHJpeFN0cmluZy5pbmRleE9mKCAnbWF0cml4M2QnICkgIT09IC0xID8gJ21hdHJpeDNkJyA6ICdtYXRyaXgnLFxyXG4gICAgICAgICAgbWF0cml4QXJyYXkgPSBtYXRyaXhTdHJpbmcucmVwbGFjZSggbWF0cml4VHlwZSwgJycgKS5tYXRjaCggLy0/WzAtOVxcLl0rL2cgKSxcclxuICAgICAgICAgIGxlZnQgPSBtYXRyaXhUeXBlID09PSAnbWF0cml4M2QnID8gcGFyc2VJbnQoIG1hdHJpeEFycmF5WyAxMiBdLCAxMCApIDogcGFyc2VJbnQoIG1hdHJpeEFycmF5WyA0IF0sIDEwICksXHJcbiAgICAgICAgICB0b3AgPSBtYXRyaXhUeXBlID09PSAnbWF0cml4M2QnID8gcGFyc2VJbnQoIG1hdHJpeEFycmF5WyAxMyBdLCAxMCApIDogcGFyc2VJbnQoIG1hdHJpeEFycmF5WyA1IF0sIDEwICk7XHJcbiAgICAgICAgICBcclxuICAgICAgICAvLyBTZXQgdGhlIHRyYW5zZm9ybSBwcm9wZXJ0eSB0byB0aGUgdmFsdWUgdGhhdCB0aGUgdHJhbnNmb3JtIGhhZCB3aGVuIHRoZSBmdW5jdGlvbiB3YXMgY2FsbGVkXHJcbiAgICAgICAgaWYgKCB0aGlzLnN1cHBvcnRlZEFuaW1hdGlvbiA9PT0gJ2Nzcy0zZCcgKSB7XHJcbiAgICAgICAgICBjc3NbIHRoaXMudmVuZG9yUHJlZml4ICsgJ3RyYW5zZm9ybScgXSA9ICd0cmFuc2xhdGUzZCgnICsgbGVmdCArICdweCwgJyArIHRvcCArICdweCwgMCknO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICBjc3NbIHRoaXMudmVuZG9yUHJlZml4ICsgJ3RyYW5zZm9ybScgXSA9ICd0cmFuc2xhdGUoJyArIGxlZnQgKyAncHgsICcgKyB0b3AgKyAncHgpJztcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGNzc1sgdGhpcy52ZW5kb3JQcmVmaXggKyAndHJhbnNpdGlvbicgXSA9ICcnO1xyXG5cclxuICAgICAgICB0aGlzLiRzbGlkZXMuY3NzKCBjc3MgKTtcclxuICAgICAgICB0aGlzLiRzbGlkZXMub2ZmKCB0aGlzLnRyYW5zaXRpb25FdmVudCApO1xyXG4gICAgICAgIHRoaXMuc2xpZGVzUG9zaXRpb24gPSB0aGlzLnNldHRpbmdzLm9yaWVudGF0aW9uID09PSAnaG9yaXpvbnRhbCcgPyBsZWZ0IDogdG9wO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIHRoaXMuJHNsaWRlcy5zdG9wKCk7XHJcbiAgICAgICAgdGhpcy5zbGlkZXNQb3NpdGlvbiA9IHBhcnNlSW50KCB0aGlzLiRzbGlkZXMuY3NzKCAnbWFyZ2luLScgKyB0aGlzLnBvc2l0aW9uUHJvcGVydHkgKSwgMTAgKTtcclxuICAgICAgfVxyXG5cclxuICAgICAgdGhpcy4kc2xpZGVzLnJlbW92ZUNsYXNzKCAnc3AtYW5pbWF0ZWQnICk7XHJcbiAgICB9LFxyXG5cclxuICAgIC8vIFJlc2l6ZSB0aGUgaGVpZ2h0IG9mIHRoZSBzbGlkZXIgdG8gdGhlIHNwZWNpZmllZCB2YWx1ZVxyXG4gICAgX3Jlc2l6ZUhlaWdodFRvOiBmdW5jdGlvbiggaGVpZ2h0ICkge1xyXG4gICAgICB2YXIgdGhhdCA9IHRoaXMsXHJcbiAgICAgICAgY3NzID0geyAnaGVpZ2h0JzogaGVpZ2h0IH07XHJcblxyXG4gICAgICBpZiAoIHRoaXMuc3VwcG9ydGVkQW5pbWF0aW9uID09PSAnY3NzLTNkJyB8fCB0aGlzLnN1cHBvcnRlZEFuaW1hdGlvbiA9PT0gJ2Nzcy0yZCcgKSB7XHJcbiAgICAgICAgY3NzWyB0aGlzLnZlbmRvclByZWZpeCArICd0cmFuc2l0aW9uJyBdID0gJ2hlaWdodCAnICsgdGhpcy5zZXR0aW5ncy5oZWlnaHRBbmltYXRpb25EdXJhdGlvbiAvIDEwMDAgKyAncyc7XHJcblxyXG4gICAgICAgIHRoaXMuJHNsaWRlc01hc2sub2ZmKCB0aGlzLnRyYW5zaXRpb25FdmVudCApO1xyXG4gICAgICAgIHRoaXMuJHNsaWRlc01hc2sub24oIHRoaXMudHJhbnNpdGlvbkV2ZW50LCBmdW5jdGlvbiggZXZlbnQgKSB7XHJcbiAgICAgICAgICBpZiAoIGV2ZW50LnRhcmdldCAhPT0gZXZlbnQuY3VycmVudFRhcmdldCApIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgfVxyXG5cclxuICAgICAgICAgIHRoYXQuJHNsaWRlc01hc2sub2ZmKCB0aGF0LnRyYW5zaXRpb25FdmVudCApO1xyXG5cclxuICAgICAgICAgIC8vIEZpcmUgdGhlICdyZXNpemVIZWlnaHRDb21wbGV0ZScgZXZlbnRcclxuICAgICAgICAgIHRoYXQudHJpZ2dlcih7IHR5cGU6ICdyZXNpemVIZWlnaHRDb21wbGV0ZScgfSk7XHJcbiAgICAgICAgICBpZiAoICQuaXNGdW5jdGlvbiggdGhhdC5zZXR0aW5ncy5yZXNpemVIZWlnaHRDb21wbGV0ZSApICkge1xyXG4gICAgICAgICAgICB0aGF0LnNldHRpbmdzLnJlc2l6ZUhlaWdodENvbXBsZXRlLmNhbGwoIHRoYXQsIHsgdHlwZTogJ3Jlc2l6ZUhlaWdodENvbXBsZXRlJyB9ICk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHRoaXMuJHNsaWRlc01hc2suY3NzKCBjc3MgKTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICB0aGlzLiRzbGlkZXNNYXNrLnN0b3AoKS5hbmltYXRlKCBjc3MsIHRoaXMuc2V0dGluZ3MuaGVpZ2h0QW5pbWF0aW9uRHVyYXRpb24sIGZ1bmN0aW9uKCBldmVudCApIHtcclxuICAgICAgICAgIC8vIEZpcmUgdGhlICdyZXNpemVIZWlnaHRDb21wbGV0ZScgZXZlbnRcclxuICAgICAgICAgIHRoYXQudHJpZ2dlcih7IHR5cGU6ICdyZXNpemVIZWlnaHRDb21wbGV0ZScgfSk7XHJcbiAgICAgICAgICBpZiAoICQuaXNGdW5jdGlvbiggdGhhdC5zZXR0aW5ncy5yZXNpemVIZWlnaHRDb21wbGV0ZSApICkge1xyXG4gICAgICAgICAgICB0aGF0LnNldHRpbmdzLnJlc2l6ZUhlaWdodENvbXBsZXRlLmNhbGwoIHRoYXQsIHsgdHlwZTogJ3Jlc2l6ZUhlaWdodENvbXBsZXRlJyB9ICk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICAgIH1cclxuICAgIH0sXHJcblxyXG4gICAgLy8gRGVzdHJveSB0aGUgc2xpZGVyIGluc3RhbmNlXHJcbiAgICBkZXN0cm95OiBmdW5jdGlvbigpIHtcclxuICAgICAgLy8gUmVtb3ZlIHRoZSBzdG9yZWQgcmVmZXJlbmNlIHRvIHRoaXMgaW5zdGFuY2VcclxuICAgICAgdGhpcy4kc2xpZGVyLnJlbW92ZURhdGEoICdzbGlkZXJQcm8nICk7XHJcbiAgICAgIFxyXG4gICAgICAvLyBDbGVhbiB0aGUgQ1NTXHJcbiAgICAgIHRoaXMuJHNsaWRlci5yZW1vdmVBdHRyKCAnc3R5bGUnICk7XHJcbiAgICAgIHRoaXMuJHNsaWRlcy5yZW1vdmVBdHRyKCAnc3R5bGUnICk7XHJcblxyXG4gICAgICAvLyBSZW1vdmUgZXZlbnQgbGlzdGVuZXJzXHJcbiAgICAgIHRoaXMub2ZmKCAndXBkYXRlLicgKyBOUyApO1xyXG4gICAgICAkKCB3aW5kb3cgKS5vZmYoICdyZXNpemUuJyArIHRoaXMudW5pcXVlSWQgKyAnLicgKyBOUyApO1xyXG5cclxuICAgICAgLy8gRGVzdHJveSBtb2R1bGVzXHJcbiAgICAgIHZhciBtb2R1bGVzID0gJC5TbGlkZXJQcm8ubW9kdWxlcztcclxuXHJcbiAgICAgIGlmICggdHlwZW9mIG1vZHVsZXMgIT09ICd1bmRlZmluZWQnICkge1xyXG4gICAgICAgIGZvciAoIHZhciBpID0gMDsgaSA8IG1vZHVsZXMubGVuZ3RoOyBpKysgKSB7XHJcbiAgICAgICAgICBpZiAoIHR5cGVvZiB0aGlzWyAnZGVzdHJveScgKyBtb2R1bGVzWyBpIF0gXSAhPT0gJ3VuZGVmaW5lZCcgKSB7XHJcbiAgICAgICAgICAgIHRoaXNbICdkZXN0cm95JyArIG1vZHVsZXNbIGkgXSBdKCk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcblxyXG4gICAgICAvLyBEZXN0cm95IGFsbCBzbGlkZXNcclxuICAgICAgJC5lYWNoKCB0aGlzLnNsaWRlcywgZnVuY3Rpb24oIGluZGV4LCBlbGVtZW50ICkge1xyXG4gICAgICAgIGVsZW1lbnQuZGVzdHJveSgpO1xyXG4gICAgICB9KTtcclxuXHJcbiAgICAgIHRoaXMuc2xpZGVzLmxlbmd0aCA9IDA7XHJcblxyXG4gICAgICAvLyBNb3ZlIHRoZSBzbGlkZXMgdG8gdGhlaXIgaW5pdGlhbCBwb3NpdGlvbiBpbiB0aGUgRE9NIGFuZCBcclxuICAgICAgLy8gcmVtb3ZlIHRoZSBjb250YWluZXIgZWxlbWVudHMgY3JlYXRlZCBkeW5hbWljYWxseS5cclxuICAgICAgdGhpcy4kc2xpZGVzLnByZXBlbmRUbyggdGhpcy4kc2xpZGVyICk7XHJcbiAgICAgIHRoaXMuJHNsaWRlc0NvbnRhaW5lci5yZW1vdmUoKTtcclxuICAgIH0sXHJcblxyXG4gICAgLy8gU2V0IHByb3BlcnRpZXMgb24gcnVudGltZVxyXG4gICAgX3NldFByb3BlcnRpZXM6IGZ1bmN0aW9uKCBwcm9wZXJ0aWVzLCBzdG9yZSApIHtcclxuICAgICAgLy8gUGFyc2UgdGhlIHByb3BlcnRpZXMgcGFzc2VkIGFzIGFuIG9iamVjdFxyXG4gICAgICBmb3IgKCB2YXIgcHJvcCBpbiBwcm9wZXJ0aWVzICkge1xyXG4gICAgICAgIHRoaXMuc2V0dGluZ3NbIHByb3AgXSA9IHByb3BlcnRpZXNbIHByb3AgXTtcclxuXHJcbiAgICAgICAgLy8gQWx0ZXIgdGhlIG9yaWdpbmFsIHNldHRpbmdzIGFzIHdlbGwgdW5sZXNzICdmYWxzZScgaXMgcGFzc2VkIHRvIHRoZSAnc3RvcmUnIHBhcmFtZXRlclxyXG4gICAgICAgIGlmICggc3RvcmUgIT09IGZhbHNlICkge1xyXG4gICAgICAgICAgdGhpcy5vcmlnaW5hbFNldHRpbmdzWyBwcm9wIF0gPSBwcm9wZXJ0aWVzWyBwcm9wIF07XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcblxyXG4gICAgICB0aGlzLnVwZGF0ZSgpO1xyXG4gICAgfSxcclxuXHJcbiAgICAvLyBBdHRhY2ggYW4gZXZlbnQgaGFuZGxlciB0byB0aGUgc2xpZGVyXHJcbiAgICBvbjogZnVuY3Rpb24oIHR5cGUsIGNhbGxiYWNrICkge1xyXG4gICAgICByZXR1cm4gdGhpcy4kc2xpZGVyLm9uKCB0eXBlLCBjYWxsYmFjayApO1xyXG4gICAgfSxcclxuXHJcbiAgICAvLyBEZXRhY2ggYW4gZXZlbnQgaGFuZGxlclxyXG4gICAgb2ZmOiBmdW5jdGlvbiggdHlwZSApIHtcclxuICAgICAgcmV0dXJuIHRoaXMuJHNsaWRlci5vZmYoIHR5cGUgKTtcclxuICAgIH0sXHJcblxyXG4gICAgLy8gVHJpZ2dlciBhbiBldmVudCBvbiB0aGUgc2xpZGVyXHJcbiAgICB0cmlnZ2VyOiBmdW5jdGlvbiggZGF0YSApIHtcclxuICAgICAgcmV0dXJuIHRoaXMuJHNsaWRlci50cmlnZ2VySGFuZGxlciggZGF0YSApO1xyXG4gICAgfSxcclxuXHJcbiAgICAvLyBSZXR1cm4gdGhlIHNsaWRlIGF0IHRoZSBzcGVjaWZpZWQgaW5kZXhcclxuICAgIGdldFNsaWRlQXQ6IGZ1bmN0aW9uKCBpbmRleCApIHtcclxuICAgICAgcmV0dXJuIHRoaXMuc2xpZGVzWyBpbmRleCBdO1xyXG4gICAgfSxcclxuXHJcbiAgICAvLyBSZXR1cm4gdGhlIGluZGV4IG9mIHRoZSBjdXJyZW50bHkgb3BlbmVkIHNsaWRlXHJcbiAgICBnZXRTZWxlY3RlZFNsaWRlOiBmdW5jdGlvbigpIHtcclxuICAgICAgcmV0dXJuIHRoaXMuc2VsZWN0ZWRTbGlkZUluZGV4O1xyXG4gICAgfSxcclxuXHJcbiAgICAvLyBSZXR1cm4gdGhlIHRvdGFsIGFtb3VudCBvZiBzbGlkZXNcclxuICAgIGdldFRvdGFsU2xpZGVzOiBmdW5jdGlvbigpIHtcclxuICAgICAgcmV0dXJuIHRoaXMuc2xpZGVzLmxlbmd0aDtcclxuICAgIH0sXHJcblxyXG4gICAgLy8gVGhlIGRlZmF1bHQgb3B0aW9ucyBvZiB0aGUgc2xpZGVyXHJcbiAgICBkZWZhdWx0czoge1xyXG4gICAgICAvLyBXaWR0aCBvZiB0aGUgc2xpZGVcclxuICAgICAgd2lkdGg6IDUwMCxcclxuXHJcbiAgICAgIC8vIEhlaWdodCBvZiB0aGUgc2xpZGVcclxuICAgICAgaGVpZ2h0OiAzMDAsXHJcblxyXG4gICAgICAvLyBJbmRpY2F0ZXMgaWYgdGhlIHNsaWRlciBpcyByZXNwb25zaXZlXHJcbiAgICAgIHJlc3BvbnNpdmU6IHRydWUsXHJcblxyXG4gICAgICAvLyBUaGUgYXNwZWN0IHJhdGlvIG9mIHRoZSBzbGlkZXIgKHdpZHRoL2hlaWdodClcclxuICAgICAgYXNwZWN0UmF0aW86IC0xLFxyXG5cclxuICAgICAgLy8gVGhlIHNjYWxlIG1vZGUgZm9yIGltYWdlcyAoY292ZXIsIGNvbnRhaW4sIGV4YWN0IGFuZCBub25lKVxyXG4gICAgICBpbWFnZVNjYWxlTW9kZTogJ2NvdmVyJyxcclxuXHJcbiAgICAgIC8vIEluZGljYXRlcyBpZiB0aGUgaW1hZ2Ugd2lsbCBiZSBjZW50ZXJlZFxyXG4gICAgICBjZW50ZXJJbWFnZTogdHJ1ZSxcclxuXHJcbiAgICAgIC8vIEluZGljYXRlcyBpZiB0aGUgaW1hZ2UgY2FuIGJlIHNjYWxlZCB1cCBtb3JlIHRoYW4gaXRzIG9yaWdpbmFsIHNpemVcclxuICAgICAgYWxsb3dTY2FsZVVwOiB0cnVlLFxyXG5cclxuICAgICAgLy8gSW5kaWNhdGVzIGlmIGhlaWdodCBvZiB0aGUgc2xpZGVyIHdpbGwgYmUgYWRqdXN0ZWQgdG8gdGhlXHJcbiAgICAgIC8vIGhlaWdodCBvZiB0aGUgc2VsZWN0ZWQgc2xpZGVcclxuICAgICAgYXV0b0hlaWdodDogZmFsc2UsXHJcblxyXG4gICAgICAvLyBXaWxsIG1haW50YWluIGFsbCB0aGUgc2xpZGVzIGF0IHRoZSBzYW1lIGhlaWdodCwgYnV0IHdpbGwgYWxsb3cgdGhlIHdpZHRoXHJcbiAgICAgIC8vIG9mIHRoZSBzbGlkZXMgdG8gYmUgdmFyaWFibGUgaWYgdGhlIG9yaWVudGF0aW9uIG9mIHRoZSBzbGlkZXMgaXMgaG9yaXpvbnRhbFxyXG4gICAgICAvLyBhbmQgdmljZS12ZXJzYSBpZiB0aGUgb3JpZW50YXRpb24gaXMgdmVydGljYWxcclxuICAgICAgYXV0b1NsaWRlU2l6ZTogZmFsc2UsXHJcblxyXG4gICAgICAvLyBJbmRpY2F0ZXMgdGhlIGluaXRpYWxseSBzZWxlY3RlZCBzbGlkZVxyXG4gICAgICBzdGFydFNsaWRlOiAwLFxyXG5cclxuICAgICAgLy8gSW5kaWNhdGVzIGlmIHRoZSBzbGlkZXMgd2lsbCBiZSBzaHVmZmxlZFxyXG4gICAgICBzaHVmZmxlOiBmYWxzZSxcclxuXHJcbiAgICAgIC8vIEluZGljYXRlcyB3aGV0aGVyIHRoZSBzbGlkZXMgd2lsbCBiZSBhcnJhbmdlZCBob3Jpem9udGFsbHlcclxuICAgICAgLy8gb3IgdmVydGljYWxseS4gQ2FuIGJlIHNldCB0byAnaG9yaXpvbnRhbCcgb3IgJ3ZlcnRpY2FsJy5cclxuICAgICAgb3JpZW50YXRpb246ICdob3Jpem9udGFsJyxcclxuXHJcbiAgICAgIC8vIEluZGljYXRlcyBpZiB0aGUgc2l6ZSBvZiB0aGUgc2xpZGVyIHdpbGwgYmUgZm9yY2VkIHRvICdmdWxsV2lkdGgnIG9yICdmdWxsV2luZG93J1xyXG4gICAgICBmb3JjZVNpemU6ICdub25lJyxcclxuXHJcbiAgICAgIC8vIEluZGljYXRlcyBpZiB0aGUgc2xpZGVyIHdpbGwgYmUgbG9vcGFibGVcclxuICAgICAgbG9vcDogdHJ1ZSxcclxuXHJcbiAgICAgIC8vIFRoZSBkaXN0YW5jZSBiZXR3ZWVuIHNsaWRlc1xyXG4gICAgICBzbGlkZURpc3RhbmNlOiAxMCxcclxuXHJcbiAgICAgIC8vIFRoZSBkdXJhdGlvbiBvZiB0aGUgc2xpZGUgYW5pbWF0aW9uXHJcbiAgICAgIHNsaWRlQW5pbWF0aW9uRHVyYXRpb246IDcwMCxcclxuXHJcbiAgICAgIC8vIFRoZSBkdXJhdGlvbiBvZiB0aGUgaGVpZ2h0IGFuaW1hdGlvblxyXG4gICAgICBoZWlnaHRBbmltYXRpb25EdXJhdGlvbjogNzAwLFxyXG5cclxuICAgICAgLy8gU2V0cyB0aGUgc2l6ZSBvZiB0aGUgdmlzaWJsZSBhcmVhLCBhbGxvd2luZyB0aGUgaW5jcmVhc2Ugb2YgaXQgaW4gb3JkZXJcclxuICAgICAgLy8gdG8gbWFrZSBtb3JlIHNsaWRlcyB2aXNpYmxlLlxyXG4gICAgICAvLyBCeSBkZWZhdWx0LCBvbmx5IHRoZSBzZWxlY3RlZCBzbGlkZSB3aWxsIGJlIHZpc2libGUuIFxyXG4gICAgICB2aXNpYmxlU2l6ZTogJ2F1dG8nLFxyXG5cclxuICAgICAgLy8gSW5kaWNhdGVzIHdoZXRoZXIgdGhlIHNlbGVjdGVkIHNsaWRlIHdpbGwgYmUgaW4gdGhlIGNlbnRlciBvZiB0aGUgc2xpZGVyLCB3aGVuIHRoZXJlXHJcbiAgICAgIC8vIGFyZSBtb3JlIHNsaWRlcyB2aXNpYmxlIGF0IGEgdGltZS4gSWYgc2V0IHRvIGZhbHNlLCB0aGUgc2VsZWN0ZWQgc2xpZGUgd2lsbCBiZSBpbiB0aGVcclxuICAgICAgLy8gbGVmdCBzaWRlIG9mIHRoZSBzbGlkZXIuXHJcbiAgICAgIGNlbnRlclNlbGVjdGVkU2xpZGU6IHRydWUsXHJcblxyXG4gICAgICAvLyBJbmRpY2F0ZXMgaWYgdGhlIGRpcmVjdGlvbiBvZiB0aGUgc2xpZGVyIHdpbGwgYmUgZnJvbSByaWdodCB0byBsZWZ0LFxyXG4gICAgICAvLyBpbnN0ZWFkIG9mIHRoZSBkZWZhdWx0IGxlZnQgdG8gcmlnaHRcclxuICAgICAgcmlnaHRUb0xlZnQ6IGZhbHNlLFxyXG5cclxuICAgICAgLy8gQnJlYWtwb2ludHMgZm9yIGFsbG93aW5nIHRoZSBzbGlkZXIncyBvcHRpb25zIHRvIGJlIGNoYW5nZWRcclxuICAgICAgLy8gYmFzZWQgb24gdGhlIHNpemUgb2YgdGhlIHdpbmRvdy5cclxuICAgICAgYnJlYWtwb2ludHM6IG51bGwsXHJcblxyXG4gICAgICAvLyBDYWxsZWQgd2hlbiB0aGUgc2xpZGVyIGlzIGluaXRpYWxpemVkXHJcbiAgICAgIGluaXQ6IGZ1bmN0aW9uKCkge30sXHJcblxyXG4gICAgICAvLyBDYWxsZWQgd2hlbiB0aGUgc2xpZGVyIGlzIHVwZGF0ZXNcclxuICAgICAgdXBkYXRlOiBmdW5jdGlvbigpIHt9LFxyXG5cclxuICAgICAgLy8gQ2FsbGVkIHdoZW4gdGhlIHNsaWRlciBpcyByZXNpemVkXHJcbiAgICAgIHNsaWRlclJlc2l6ZTogZnVuY3Rpb24oKSB7fSxcclxuXHJcbiAgICAgIC8vIENhbGxlZCB3aGVuIGEgbmV3IHNsaWRlIGlzIHNlbGVjdGVkXHJcbiAgICAgIGdvdG9TbGlkZTogZnVuY3Rpb24oKSB7fSxcclxuXHJcbiAgICAgIC8vIENhbGxlZCB3aGVuIHRoZSBuYXZpZ2F0aW9uIHRvIHRoZSBuZXdseSBzZWxlY3RlZCBzbGlkZSBpcyBjb21wbGV0ZVxyXG4gICAgICBnb3RvU2xpZGVDb21wbGV0ZTogZnVuY3Rpb24oKSB7fSxcclxuXHJcbiAgICAgIC8vIENhbGxlZCB3aGVuIHRoZSBoZWlnaHQgYW5pbWF0aW9uIG9mIHRoZSBzbGlkZXIgaXMgY29tcGxldGVcclxuICAgICAgcmVzaXplSGVpZ2h0Q29tcGxldGU6IGZ1bmN0aW9uKCkge30sXHJcblxyXG4gICAgICAvLyBDYWxsZWQgd2hlbiBhIGJyZWFrcG9pbnQgaXMgcmVhY2hlZFxyXG4gICAgICBicmVha3BvaW50UmVhY2g6IGZ1bmN0aW9uKCkge31cclxuICAgIH1cclxuICB9O1xyXG5cclxuICB2YXIgU2xpZGVyUHJvU2xpZGUgPSBmdW5jdGlvbiggc2xpZGUsIGluZGV4LCBzZXR0aW5ncyApIHtcclxuXHJcbiAgICAvLyBSZWZlcmVuY2UgdG8gdGhlIHNsaWRlIGpRdWVyeSBlbGVtZW50XHJcbiAgICB0aGlzLiRzbGlkZSA9IHNsaWRlO1xyXG5cclxuICAgIC8vIFJlZmVyZW5jZSB0byB0aGUgbWFpbiBzbGlkZSBpbWFnZVxyXG4gICAgdGhpcy4kbWFpbkltYWdlID0gbnVsbDtcclxuXHJcbiAgICAvLyBSZWZlcmVuY2UgdG8gdGhlIGNvbnRhaW5lciB0aGF0IHdpbGwgaG9sZCB0aGUgbWFpbiBpbWFnZVxyXG4gICAgdGhpcy4kaW1hZ2VDb250YWluZXIgPSBudWxsO1xyXG5cclxuICAgIC8vIEluZGljYXRlcyB3aGV0aGVyIHRoZSBzbGlkZSBoYXMgYSBtYWluIGltYWdlXHJcbiAgICB0aGlzLmhhc01haW5JbWFnZSA9IGZhbHNlO1xyXG5cclxuICAgIC8vIEluZGljYXRlcyB3aGV0aGVyIHRoZSBtYWluIGltYWdlIGlzIGxvYWRlZFxyXG4gICAgdGhpcy5pc01haW5JbWFnZUxvYWRlZCA9IGZhbHNlO1xyXG5cclxuICAgIC8vIEluZGljYXRlcyB3aGV0aGVyIHRoZSBtYWluIGltYWdlIGlzIGluIHRoZSBwcm9jZXNzIG9mIGJlaW5nIGxvYWRlZFxyXG4gICAgdGhpcy5pc01haW5JbWFnZUxvYWRpbmcgPSBmYWxzZTtcclxuXHJcbiAgICAvLyBJbmRpY2F0ZXMgd2hldGhlciB0aGUgc2xpZGUgaGFzIGFueSBpbWFnZS4gVGhlcmUgY291bGQgYmUgb3RoZXIgaW1hZ2VzIChpLmUuLCBpbiBsYXllcnMpXHJcbiAgICAvLyBiZXNpZGVzIHRoZSBtYWluIHNsaWRlIGltYWdlLlxyXG4gICAgdGhpcy5oYXNJbWFnZXMgPSBmYWxzZTtcclxuXHJcbiAgICAvLyBJbmRpY2F0ZXMgaWYgYWxsIHRoZSBpbWFnZXMgaW4gdGhlIHNsaWRlIGFyZSBsb2FkZWRcclxuICAgIHRoaXMuYXJlSW1hZ2VzTG9hZGVkID0gZmFsc2U7XHJcblxyXG4gICAgLy8gSW5kaWNhdGVzIGlmIHRoZSBpbWFnZXMgaW5zaWRlIHRoZSBzbGlkZSBhcmUgaW4gdGhlIHByb2Nlc3Mgb2YgYmVpbmcgbG9hZGVkXHJcbiAgICB0aGlzLmFyZUltYWdlc0xvYWRpbmcgPSBmYWxzZTtcclxuXHJcbiAgICAvLyBUaGUgd2lkdGggYW5kIGhlaWdodCBvZiB0aGUgc2xpZGVcclxuICAgIHRoaXMud2lkdGggPSAwO1xyXG4gICAgdGhpcy5oZWlnaHQgPSAwO1xyXG5cclxuICAgIC8vIFJlZmVyZW5jZSB0byB0aGUgZ2xvYmFsIHNldHRpbmdzIG9mIHRoZSBzbGlkZXJcclxuICAgIHRoaXMuc2V0dGluZ3MgPSBzZXR0aW5ncztcclxuXHJcbiAgICAvLyBTZXQgdGhlIGluZGV4IG9mIHRoZSBzbGlkZVxyXG4gICAgdGhpcy5zZXRJbmRleCggaW5kZXggKTtcclxuXHJcbiAgICAvLyBJbml0aWFsaXplIHRoZSBzbGlkZVxyXG4gICAgdGhpcy5faW5pdCgpO1xyXG4gIH07XHJcblxyXG4gIFNsaWRlclByb1NsaWRlLnByb3RvdHlwZSA9IHtcclxuXHJcbiAgICAvLyBUaGUgc3RhcnRpbmcgcG9pbnQgZm9yIHRoZSBzbGlkZVxyXG4gICAgX2luaXQ6IGZ1bmN0aW9uKCkge1xyXG4gICAgICB2YXIgdGhhdCA9IHRoaXM7XHJcblxyXG4gICAgICAvLyBNYXJrIHRoZSBzbGlkZSBhcyBpbml0aWFsaXplZFxyXG4gICAgICB0aGlzLiRzbGlkZS5hdHRyKCAnZGF0YS1pbml0JywgdHJ1ZSApO1xyXG5cclxuICAgICAgLy8gR2V0IHRoZSBtYWluIHNsaWRlIGltYWdlIGlmIHRoZXJlIGlzIG9uZVxyXG4gICAgICB0aGlzLiRtYWluSW1hZ2UgPSB0aGlzLiRzbGlkZS5maW5kKCAnLnNwLWltYWdlJyApLmxlbmd0aCAhPT0gMCA/IHRoaXMuJHNsaWRlLmZpbmQoICcuc3AtaW1hZ2UnICkgOiBudWxsO1xyXG5cclxuICAgICAgLy8gSWYgdGhlcmUgaXMgYSBtYWluIHNsaWRlIGltYWdlLCBjcmVhdGUgYSBjb250YWluZXIgZm9yIGl0IGFuZCBhZGQgdGhlIGltYWdlIHRvIHRoaXMgY29udGFpbmVyLlxyXG4gICAgICAvLyBUaGUgY29udGFpbmVyIHdpbGwgYWxsb3cgdGhlIGlzb2xhdGlvbiBvZiB0aGUgaW1hZ2UgZnJvbSB0aGUgcmVzdCBvZiB0aGUgc2xpZGUncyBjb250ZW50LiBUaGlzIGlzXHJcbiAgICAgIC8vIGhlbHBmdWwgd2hlbiB5b3Ugd2FudCB0byBzaG93IHNvbWUgY29udGVudCBiZWxvdyB0aGUgaW1hZ2UgYW5kIG5vdCBjb3ZlciBpdC5cclxuICAgICAgaWYgKCB0aGlzLiRtYWluSW1hZ2UgIT09IG51bGwgKSB7XHJcbiAgICAgICAgdGhpcy5oYXNNYWluSW1hZ2UgPSB0cnVlO1xyXG5cclxuICAgICAgICB0aGlzLiRpbWFnZUNvbnRhaW5lciA9ICQoICc8ZGl2IGNsYXNzPVwic3AtaW1hZ2UtY29udGFpbmVyXCI+PC9kaXY+JyApLnByZXBlbmRUbyggdGhpcy4kc2xpZGUgKTtcclxuXHJcbiAgICAgICAgaWYgKCB0aGlzLiRtYWluSW1hZ2UucGFyZW50KCAnYScgKS5sZW5ndGggIT09IDAgKSB7XHJcbiAgICAgICAgICB0aGlzLiRtYWluSW1hZ2UucGFyZW50KCAnYScgKS5hcHBlbmRUbyggdGhpcy4kaW1hZ2VDb250YWluZXIgKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgdGhpcy4kbWFpbkltYWdlLmFwcGVuZFRvKCB0aGlzLiRpbWFnZUNvbnRhaW5lciApO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG5cclxuICAgICAgdGhpcy5oYXNJbWFnZXMgPSB0aGlzLiRzbGlkZS5maW5kKCAnaW1nJyApLmxlbmd0aCAhPT0gMCA/IHRydWUgOiBmYWxzZTtcclxuICAgIH0sXHJcblxyXG4gICAgLy8gU2V0IHRoZSBzaXplIG9mIHRoZSBzbGlkZVxyXG4gICAgc2V0U2l6ZTogZnVuY3Rpb24oIHdpZHRoLCBoZWlnaHQgKSB7XHJcbiAgICAgIHZhciB0aGF0ID0gdGhpcztcclxuXHJcbiAgICAgIHRoaXMud2lkdGggPSB3aWR0aDtcclxuICAgICAgdGhpcy5oZWlnaHQgPSBoZWlnaHQ7XHJcblxyXG4gICAgICB0aGlzLiRzbGlkZS5jc3Moe1xyXG4gICAgICAgICd3aWR0aCc6IHRoaXMud2lkdGgsXHJcbiAgICAgICAgJ2hlaWdodCc6IHRoaXMuaGVpZ2h0XHJcbiAgICAgIH0pO1xyXG5cclxuICAgICAgaWYgKCB0aGlzLmhhc01haW5JbWFnZSA9PT0gdHJ1ZSApIHtcclxuXHJcbiAgICAgICAgLy8gSW5pdGlhbGx5IHNldCB0aGUgd2lkdGggYW5kIGhlaWdodCBvZiB0aGUgY29udGFpbmVyIHRvIHRoZSB3aWR0aCBhbmQgaGVpZ2h0XHJcbiAgICAgICAgLy8gc3BlY2lmaWVkIGluIHRoZSBzZXR0aW5ncy4gVGhpcyB3aWxsIHByZXZlbnQgY29udGVudCBvdmVyZmxvd2luZyBpZiB0aGUgd2lkdGggb3IgaGVpZ2h0XHJcbiAgICAgICAgLy8gYXJlICdhdXRvJy4gVGhlICdhdXRvJyB2YWx1ZSB3aWxsIGJlIHBhc3NlZCBvbmx5IGFmdGVyIHRoZSBpbWFnZSBpcyBsb2FkZWQuXHJcbiAgICAgICAgdGhpcy4kaW1hZ2VDb250YWluZXIuY3NzKHtcclxuICAgICAgICAgICd3aWR0aCc6IHRoaXMuc2V0dGluZ3Mud2lkdGgsXHJcbiAgICAgICAgICAnaGVpZ2h0JzogdGhpcy5zZXR0aW5ncy5oZWlnaHRcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgLy8gUmVzaXplIHRoZSBtYWluIGltYWdlIGlmIGl0J3MgbG9hZGVkLiBJZiB0aGUgJ2RhdGEtc3JjJyBhdHRyaWJ1dGUgaXMgcHJlc2VudCBpdCBtZWFuc1xyXG4gICAgICAgIC8vIHRoYXQgdGhlIGltYWdlIHdpbGwgYmUgbGF6eS1sb2FkZWRcclxuICAgICAgICBpZiAoIHR5cGVvZiB0aGlzLiRtYWluSW1hZ2UuYXR0ciggJ2RhdGEtc3JjJyApID09PSAndW5kZWZpbmVkJyApIHtcclxuICAgICAgICAgIHRoaXMucmVzaXplTWFpbkltYWdlKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9LFxyXG5cclxuICAgIC8vIEdldCB0aGUgc2l6ZSAod2lkdGggYW5kIGhlaWdodCkgb2YgdGhlIHNsaWRlXHJcbiAgICBnZXRTaXplOiBmdW5jdGlvbigpIHtcclxuICAgICAgdmFyIHRoYXQgPSB0aGlzLFxyXG4gICAgICAgIHNpemU7XHJcblxyXG4gICAgICAvLyBDaGVjayBpZiBhbGwgaW1hZ2VzIGhhdmUgbG9hZGVkLCBhbmQgaWYgdGhleSBoYXZlLCByZXR1cm4gdGhlIHNpemUsIGVsc2UsIHJldHVyblxyXG4gICAgICAvLyB0aGUgb3JpZ2luYWwgd2lkdGggYW5kIGhlaWdodCBvZiB0aGUgc2xpZGVcclxuICAgICAgaWYgKCB0aGlzLmhhc0ltYWdlcyA9PT0gdHJ1ZSAmJiB0aGlzLmFyZUltYWdlc0xvYWRlZCA9PT0gZmFsc2UgJiYgdGhpcy5hcmVJbWFnZXNMb2FkaW5nID09PSBmYWxzZSApIHtcclxuICAgICAgICB0aGlzLmFyZUltYWdlc0xvYWRpbmcgPSB0cnVlO1xyXG4gICAgICAgIFxyXG4gICAgICAgIHZhciBzdGF0dXMgPSBTbGlkZXJQcm9VdGlscy5jaGVja0ltYWdlc1N0YXR1cyggdGhpcy4kc2xpZGUgKTtcclxuXHJcbiAgICAgICAgaWYgKCBzdGF0dXMgIT09ICdjb21wbGV0ZScgKSB7XHJcbiAgICAgICAgICBTbGlkZXJQcm9VdGlscy5jaGVja0ltYWdlc0NvbXBsZXRlKCB0aGlzLiRzbGlkZSwgZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIHRoYXQuYXJlSW1hZ2VzTG9hZGVkID0gdHJ1ZTtcclxuICAgICAgICAgICAgdGhhdC5hcmVJbWFnZXNMb2FkaW5nID0gZmFsc2U7XHJcbiAgICAgICAgICAgIHRoYXQudHJpZ2dlcih7IHR5cGU6ICdpbWFnZXNMb2FkZWQuJyArIE5TLCBpbmRleDogdGhhdC5pbmRleCB9KTtcclxuICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgIC8vIGlmIHRoZSBpbWFnZSBpcyBub3QgbG9hZGVkIHlldCwgcmV0dXJuIHRoZSBvcmlnaW5hbCB3aWR0aCBhbmQgaGVpZ2h0IG9mIHRoZSBzbGlkZXJcclxuICAgICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgICd3aWR0aCc6IHRoaXMuc2V0dGluZ3Mud2lkdGgsXHJcbiAgICAgICAgICAgICdoZWlnaHQnOiB0aGlzLnNldHRpbmdzLmhlaWdodFxyXG4gICAgICAgICAgfTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHNpemUgPSB0aGlzLmNhbGN1bGF0ZVNpemUoKTtcclxuXHJcbiAgICAgIHJldHVybiB7XHJcbiAgICAgICAgJ3dpZHRoJzogc2l6ZS53aWR0aCxcclxuICAgICAgICAnaGVpZ2h0Jzogc2l6ZS5oZWlnaHRcclxuICAgICAgfTtcclxuICAgIH0sXHJcblxyXG4gICAgLy8gQ2FsY3VsYXRlIHRoZSB3aWR0aCBhbmQgaGVpZ2h0IG9mIHRoZSBzbGlkZSBieSBnb2luZ1xyXG4gICAgLy8gdGhyb3VnaCBhbGwgdGhlIGNoaWxkIGVsZW1lbnRzIGFuZCBtZWFzdXJpbmcgdGhlaXIgJ2JvdHRvbSdcclxuICAgIC8vIGFuZCAncmlnaHQnIHByb3BlcnRpZXMuIFRoZSBlbGVtZW50IHdpdGggdGhlIGJpZ2dlc3RcclxuICAgIC8vICdyaWdodCcvJ2JvdHRvbScgcHJvcGVydHkgd2lsbCBkZXRlcm1pbmUgdGhlIHNsaWRlJ3NcclxuICAgIC8vIHdpZHRoL2hlaWdodC5cclxuICAgIGNhbGN1bGF0ZVNpemU6IGZ1bmN0aW9uKCkge1xyXG4gICAgICB2YXIgd2lkdGggPSB0aGlzLiRzbGlkZS53aWR0aCgpLFxyXG4gICAgICAgIGhlaWdodCA9IHRoaXMuJHNsaWRlLmhlaWdodCgpO1xyXG5cclxuICAgICAgdGhpcy4kc2xpZGUuY2hpbGRyZW4oKS5lYWNoKGZ1bmN0aW9uKCBpbmRleCwgZWxlbWVudCApIHtcclxuICAgICAgICB2YXIgY2hpbGQgPSAkKCBlbGVtZW50ICk7XHJcblxyXG4gICAgICAgIGlmICggY2hpbGQuaXMoICc6aGlkZGVuJyApID09PSB0cnVlICkge1xyXG4gICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdmFyIHJlY3QgPSBlbGVtZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLFxyXG4gICAgICAgICAgYm90dG9tID0gY2hpbGQucG9zaXRpb24oKS50b3AgKyAoIHJlY3QuYm90dG9tIC0gcmVjdC50b3AgKSxcclxuICAgICAgICAgIHJpZ2h0ID0gY2hpbGQucG9zaXRpb24oKS5sZWZ0ICsgKCByZWN0LnJpZ2h0IC0gcmVjdC5sZWZ0ICk7XHJcblxyXG4gICAgICAgIGlmICggYm90dG9tID4gaGVpZ2h0ICkge1xyXG4gICAgICAgICAgaGVpZ2h0ID0gYm90dG9tO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKCByaWdodCA+IHdpZHRoICkge1xyXG4gICAgICAgICAgd2lkdGggPSByaWdodDtcclxuICAgICAgICB9XHJcbiAgICAgIH0pO1xyXG5cclxuICAgICAgcmV0dXJuIHtcclxuICAgICAgICB3aWR0aDogd2lkdGgsXHJcbiAgICAgICAgaGVpZ2h0OiBoZWlnaHRcclxuICAgICAgfTtcclxuICAgIH0sXHJcblxyXG4gICAgLy8gUmVzaXplIHRoZSBtYWluIGltYWdlLlxyXG4gICAgLy8gXHJcbiAgICAvLyBDYWxsIHRoaXMgd2hlbiB0aGUgc2xpZGUgcmVzaXplcyBvciB3aGVuIHRoZSBtYWluIGltYWdlIGhhcyBjaGFuZ2VkIHRvIGEgZGlmZmVyZW50IGltYWdlLlxyXG4gICAgcmVzaXplTWFpbkltYWdlOiBmdW5jdGlvbiggaXNOZXdJbWFnZSApIHtcclxuICAgICAgdmFyIHRoYXQgPSB0aGlzO1xyXG5cclxuICAgICAgLy8gSWYgdGhlIG1haW4gaW1hZ2UgaGFzIGNoYW5nZWQsIHJlc2V0IHRoZSAnZmxhZ3MnXHJcbiAgICAgIGlmICggaXNOZXdJbWFnZSA9PT0gdHJ1ZSApIHtcclxuICAgICAgICB0aGlzLmlzTWFpbkltYWdlTG9hZGVkID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy5pc01haW5JbWFnZUxvYWRpbmcgPSBmYWxzZTtcclxuICAgICAgfVxyXG5cclxuICAgICAgLy8gSWYgdGhlIGltYWdlIHdhcyBub3QgbG9hZGVkIHlldCBhbmQgaXQncyBub3QgaW4gdGhlIHByb2Nlc3Mgb2YgYmVpbmcgbG9hZGVkLCBsb2FkIGl0XHJcbiAgICAgIGlmICggdGhpcy5pc01haW5JbWFnZUxvYWRlZCA9PT0gZmFsc2UgJiYgdGhpcy5pc01haW5JbWFnZUxvYWRpbmcgPT09IGZhbHNlICkge1xyXG4gICAgICAgIHRoaXMuaXNNYWluSW1hZ2VMb2FkaW5nID0gdHJ1ZTtcclxuXHJcbiAgICAgICAgU2xpZGVyUHJvVXRpbHMuY2hlY2tJbWFnZXNDb21wbGV0ZSggdGhpcy4kbWFpbkltYWdlLCBmdW5jdGlvbigpIHtcclxuICAgICAgICAgIHRoYXQuaXNNYWluSW1hZ2VMb2FkZWQgPSB0cnVlO1xyXG4gICAgICAgICAgdGhhdC5pc01haW5JbWFnZUxvYWRpbmcgPSBmYWxzZTtcclxuICAgICAgICAgIHRoYXQucmVzaXplTWFpbkltYWdlKCk7XHJcbiAgICAgICAgICB0aGF0LnRyaWdnZXIoeyB0eXBlOiAnaW1hZ2VzTG9hZGVkLicgKyBOUywgaW5kZXg6IHRoYXQuaW5kZXggfSk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHJldHVybjtcclxuICAgICAgfVxyXG5cclxuICAgICAgLy8gU2V0IHRoZSBzaXplIG9mIHRoZSBpbWFnZSBjb250YWluZXIgZWxlbWVudCB0byB0aGUgcHJvcGVyICd3aWR0aCcgYW5kICdoZWlnaHQnXHJcbiAgICAgIC8vIHZhbHVlcywgYXMgdGhleSB3ZXJlIGNhbGN1bGF0ZWQuIFByZXZpb3VzIHZhbHVlcyB3ZXJlIHRoZSAnd2lkdGgnIGFuZCAnaGVpZ2h0J1xyXG4gICAgICAvLyBmcm9tIHRoZSBzZXR0aW5ncy4gXHJcbiAgICAgIHRoaXMuJGltYWdlQ29udGFpbmVyLmNzcyh7XHJcbiAgICAgICAgJ3dpZHRoJzogdGhpcy53aWR0aCxcclxuICAgICAgICAnaGVpZ2h0JzogdGhpcy5oZWlnaHRcclxuICAgICAgfSk7XHJcblxyXG4gICAgICBpZiAoIHRoaXMuc2V0dGluZ3MuYWxsb3dTY2FsZVVwID09PSBmYWxzZSApIHtcclxuICAgICAgICAvLyByZXNldCB0aGUgaW1hZ2UgdG8gaXRzIG5hdHVyYWwgc2l6ZVxyXG4gICAgICAgIHRoaXMuJG1haW5JbWFnZS5jc3MoeyAnd2lkdGgnOiAnJywgJ2hlaWdodCc6ICcnLCAnbWF4V2lkdGgnOiAnJywgJ21heEhlaWdodCc6ICcnIH0pO1xyXG5cclxuICAgICAgICAvLyBzZXQgdGhlIGJvdW5kYXJpZXNcclxuICAgICAgICB0aGlzLiRtYWluSW1hZ2UuY3NzKHsgJ21heFdpZHRoJzogdGhpcy4kbWFpbkltYWdlLndpZHRoKCksICdtYXhIZWlnaHQnOiB0aGlzLiRtYWluSW1hZ2UuaGVpZ2h0KCkgfSk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC8vIEFmdGVyIHRoZSBtYWluIGltYWdlIGhhcyBsb2FkZWQsIHJlc2l6ZSBpdFxyXG4gICAgICBpZiAoIHRoaXMuc2V0dGluZ3MuYXV0b1NsaWRlU2l6ZSA9PT0gdHJ1ZSApIHtcclxuICAgICAgICBpZiAoIHRoaXMuc2V0dGluZ3Mub3JpZW50YXRpb24gPT09ICdob3Jpem9udGFsJyApIHtcclxuICAgICAgICAgIHRoaXMuJG1haW5JbWFnZS5jc3MoeyB3aWR0aDogJ2F1dG8nLCBoZWlnaHQ6ICcxMDAlJyB9KTtcclxuXHJcbiAgICAgICAgICAvLyByZXNpemUgdGhlIHNsaWRlJ3Mgd2lkdGggdG8gYSBmaXhlZCB2YWx1ZSBpbnN0ZWFkIG9mICdhdXRvJywgdG9cclxuICAgICAgICAgIC8vIHByZXZlbnQgaW5jb3JyZWN0IHNpemluZyBjYXVzZWQgYnkgbGlua3MgYWRkZWQgdG8gdGhlIG1haW4gaW1hZ2VcclxuICAgICAgICAgIHRoaXMuJHNsaWRlLmNzcyggJ3dpZHRoJywgdGhpcy4kbWFpbkltYWdlLndpZHRoKCkgKTtcclxuICAgICAgICB9IGVsc2UgaWYgKCB0aGlzLnNldHRpbmdzLm9yaWVudGF0aW9uID09PSAndmVydGljYWwnICkge1xyXG4gICAgICAgICAgdGhpcy4kbWFpbkltYWdlLmNzcyh7IHdpZHRoOiAnMTAwJScsIGhlaWdodDogJ2F1dG8nIH0pO1xyXG5cclxuICAgICAgICAgIC8vIHJlc2l6ZSB0aGUgc2xpZGUncyBoZWlnaHQgdG8gYSBmaXhlZCB2YWx1ZSBpbnN0ZWFkIG9mICdhdXRvJywgdG9cclxuICAgICAgICAgIC8vIHByZXZlbnQgaW5jb3JyZWN0IHNpemluZyBjYXVzZWQgYnkgbGlua3MgYWRkZWQgdG8gdGhlIG1haW4gaW1hZ2VcclxuICAgICAgICAgIHRoaXMuJHNsaWRlLmNzcyggJ2hlaWdodCcsIHRoaXMuJG1haW5JbWFnZS5oZWlnaHQoKSApO1xyXG4gICAgICAgIH1cclxuICAgICAgfSBlbHNlIGlmICggdGhpcy5zZXR0aW5ncy5hdXRvSGVpZ2h0ID09PSB0cnVlICkge1xyXG4gICAgICAgIHRoaXMuJG1haW5JbWFnZS5jc3MoeyB3aWR0aDogJzEwMCUnLCBoZWlnaHQ6ICdhdXRvJyB9KTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICBpZiAoIHRoaXMuc2V0dGluZ3MuaW1hZ2VTY2FsZU1vZGUgPT09ICdjb3ZlcicgKSB7XHJcbiAgICAgICAgICBpZiAoIHRoaXMuJG1haW5JbWFnZS53aWR0aCgpIC8gdGhpcy4kbWFpbkltYWdlLmhlaWdodCgpIDw9IHRoaXMud2lkdGggLyB0aGlzLmhlaWdodCApIHtcclxuICAgICAgICAgICAgdGhpcy4kbWFpbkltYWdlLmNzcyh7IHdpZHRoOiAnMTAwJScsIGhlaWdodDogJ2F1dG8nIH0pO1xyXG4gICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgdGhpcy4kbWFpbkltYWdlLmNzcyh7IHdpZHRoOiAnYXV0bycsIGhlaWdodDogJzEwMCUnIH0pO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH0gZWxzZSBpZiAoIHRoaXMuc2V0dGluZ3MuaW1hZ2VTY2FsZU1vZGUgPT09ICdjb250YWluJyApIHtcclxuICAgICAgICAgIGlmICggdGhpcy4kbWFpbkltYWdlLndpZHRoKCkgLyB0aGlzLiRtYWluSW1hZ2UuaGVpZ2h0KCkgPj0gdGhpcy53aWR0aCAvIHRoaXMuaGVpZ2h0ICkge1xyXG4gICAgICAgICAgICB0aGlzLiRtYWluSW1hZ2UuY3NzKHsgd2lkdGg6ICcxMDAlJywgaGVpZ2h0OiAnYXV0bycgfSk7XHJcbiAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLiRtYWluSW1hZ2UuY3NzKHsgd2lkdGg6ICdhdXRvJywgaGVpZ2h0OiAnMTAwJScgfSk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfSBlbHNlIGlmICggdGhpcy5zZXR0aW5ncy5pbWFnZVNjYWxlTW9kZSA9PT0gJ2V4YWN0JyApIHtcclxuICAgICAgICAgIHRoaXMuJG1haW5JbWFnZS5jc3MoeyB3aWR0aDogJzEwMCUnLCBoZWlnaHQ6ICcxMDAlJyB9KTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmICggdGhpcy5zZXR0aW5ncy5jZW50ZXJJbWFnZSA9PT0gdHJ1ZSApIHtcclxuICAgICAgICAgIHRoaXMuJG1haW5JbWFnZS5jc3MoeyAnbWFyZ2luTGVmdCc6ICggdGhpcy4kaW1hZ2VDb250YWluZXIud2lkdGgoKSAtIHRoaXMuJG1haW5JbWFnZS53aWR0aCgpICkgKiAwLjUsICdtYXJnaW5Ub3AnOiAoIHRoaXMuJGltYWdlQ29udGFpbmVyLmhlaWdodCgpIC0gdGhpcy4kbWFpbkltYWdlLmhlaWdodCgpICkgKiAwLjUgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9LFxyXG5cclxuICAgIC8vIERlc3Ryb3kgdGhlIHNsaWRlXHJcbiAgICBkZXN0cm95OiBmdW5jdGlvbigpIHtcclxuICAgICAgLy8gQ2xlYW4gdGhlIHNsaWRlIGVsZW1lbnQgZnJvbSBhdHRhY2hlZCBzdHlsZXMgYW5kIGRhdGFcclxuICAgICAgdGhpcy4kc2xpZGUucmVtb3ZlQXR0ciggJ3N0eWxlJyApO1xyXG4gICAgICB0aGlzLiRzbGlkZS5yZW1vdmVBdHRyKCAnZGF0YS1pbml0JyApO1xyXG4gICAgICB0aGlzLiRzbGlkZS5yZW1vdmVBdHRyKCAnZGF0YS1pbmRleCcgKTtcclxuICAgICAgdGhpcy4kc2xpZGUucmVtb3ZlQXR0ciggJ2RhdGEtbG9hZGVkJyApO1xyXG5cclxuICAgICAgLy8gSWYgdGhlcmUgaXMgYSBtYWluIGltYWdlLCByZW1vdmUgaXRzIGNvbnRhaW5lclxyXG4gICAgICBpZiAoIHRoaXMuaGFzTWFpbkltYWdlID09PSB0cnVlICkge1xyXG4gICAgICAgIHRoaXMuJHNsaWRlLmZpbmQoICcuc3AtaW1hZ2UnIClcclxuICAgICAgICAgIC5yZW1vdmVBdHRyKCAnc3R5bGUnIClcclxuICAgICAgICAgIC5hcHBlbmRUbyggdGhpcy4kc2xpZGUgKTtcclxuXHJcbiAgICAgICAgdGhpcy4kc2xpZGUuZmluZCggJy5zcC1pbWFnZS1jb250YWluZXInICkucmVtb3ZlKCk7XHJcbiAgICAgIH1cclxuICAgIH0sXHJcblxyXG4gICAgLy8gUmV0dXJuIHRoZSBpbmRleCBvZiB0aGUgc2xpZGVcclxuICAgIGdldEluZGV4OiBmdW5jdGlvbigpIHtcclxuICAgICAgcmV0dXJuIHRoaXMuaW5kZXg7XHJcbiAgICB9LFxyXG5cclxuICAgIC8vIFNldCB0aGUgaW5kZXggb2YgdGhlIHNsaWRlXHJcbiAgICBzZXRJbmRleDogZnVuY3Rpb24oIGluZGV4ICkge1xyXG4gICAgICB0aGlzLmluZGV4ID0gaW5kZXg7XHJcbiAgICAgIHRoaXMuJHNsaWRlLmF0dHIoICdkYXRhLWluZGV4JywgdGhpcy5pbmRleCApO1xyXG4gICAgfSxcclxuXHJcbiAgICAvLyBBdHRhY2ggYW4gZXZlbnQgaGFuZGxlciB0byB0aGUgc2xpZGVcclxuICAgIG9uOiBmdW5jdGlvbiggdHlwZSwgY2FsbGJhY2sgKSB7XHJcbiAgICAgIHJldHVybiB0aGlzLiRzbGlkZS5vbiggdHlwZSwgY2FsbGJhY2sgKTtcclxuICAgIH0sXHJcblxyXG4gICAgLy8gRGV0YWNoIGFuIGV2ZW50IGhhbmRsZXIgdG8gdGhlIHNsaWRlXHJcbiAgICBvZmY6IGZ1bmN0aW9uKCB0eXBlICkge1xyXG4gICAgICByZXR1cm4gdGhpcy4kc2xpZGUub2ZmKCB0eXBlICk7XHJcbiAgICB9LFxyXG5cclxuICAgIC8vIFRyaWdnZXIgYW4gZXZlbnQgb24gdGhlIHNsaWRlXHJcbiAgICB0cmlnZ2VyOiBmdW5jdGlvbiggZGF0YSApIHtcclxuICAgICAgcmV0dXJuIHRoaXMuJHNsaWRlLnRyaWdnZXJIYW5kbGVyKCBkYXRhICk7XHJcbiAgICB9XHJcbiAgfTtcclxuXHJcbiAgd2luZG93LlNsaWRlclBybyA9IFNsaWRlclBybztcclxuICB3aW5kb3cuU2xpZGVyUHJvU2xpZGUgPSBTbGlkZXJQcm9TbGlkZTtcclxuXHJcbiAgJC5mbi5zbGlkZXJQcm8gPSBmdW5jdGlvbiggb3B0aW9ucyApIHtcclxuICAgIHZhciBhcmdzID0gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoIGFyZ3VtZW50cywgMSApO1xyXG5cclxuICAgIHJldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oKSB7XHJcbiAgICAgIC8vIEluc3RhbnRpYXRlIHRoZSBzbGlkZXIgb3IgYWx0ZXIgaXRcclxuICAgICAgaWYgKCB0eXBlb2YgJCggdGhpcyApLmRhdGEoICdzbGlkZXJQcm8nICkgPT09ICd1bmRlZmluZWQnICkge1xyXG4gICAgICAgIHZhciBuZXdJbnN0YW5jZSA9IG5ldyBTbGlkZXJQcm8oIHRoaXMsIG9wdGlvbnMgKTtcclxuXHJcbiAgICAgICAgLy8gU3RvcmUgYSByZWZlcmVuY2UgdG8gdGhlIGluc3RhbmNlIGNyZWF0ZWRcclxuICAgICAgICAkKCB0aGlzICkuZGF0YSggJ3NsaWRlclBybycsIG5ld0luc3RhbmNlICk7XHJcbiAgICAgIH0gZWxzZSBpZiAoIHR5cGVvZiBvcHRpb25zICE9PSAndW5kZWZpbmVkJyApIHtcclxuICAgICAgICB2YXIgY3VycmVudEluc3RhbmNlID0gJCggdGhpcyApLmRhdGEoICdzbGlkZXJQcm8nICk7XHJcblxyXG4gICAgICAgIC8vIENoZWNrIHRoZSB0eXBlIG9mIGFyZ3VtZW50IHBhc3NlZFxyXG4gICAgICAgIGlmICggdHlwZW9mIGN1cnJlbnRJbnN0YW5jZVsgb3B0aW9ucyBdID09PSAnZnVuY3Rpb24nICkge1xyXG4gICAgICAgICAgY3VycmVudEluc3RhbmNlWyBvcHRpb25zIF0uYXBwbHkoIGN1cnJlbnRJbnN0YW5jZSwgYXJncyApO1xyXG4gICAgICAgIH0gZWxzZSBpZiAoIHR5cGVvZiBjdXJyZW50SW5zdGFuY2Uuc2V0dGluZ3NbIG9wdGlvbnMgXSAhPT0gJ3VuZGVmaW5lZCcgKSB7XHJcbiAgICAgICAgICB2YXIgb2JqID0ge307XHJcbiAgICAgICAgICBvYmpbIG9wdGlvbnMgXSA9IGFyZ3NbIDAgXTtcclxuICAgICAgICAgIGN1cnJlbnRJbnN0YW5jZS5fc2V0UHJvcGVydGllcyggb2JqICk7XHJcbiAgICAgICAgfSBlbHNlIGlmICggdHlwZW9mIG9wdGlvbnMgPT09ICdvYmplY3QnICkge1xyXG4gICAgICAgICAgY3VycmVudEluc3RhbmNlLl9zZXRQcm9wZXJ0aWVzKCBvcHRpb25zICk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICQuZXJyb3IoIG9wdGlvbnMgKyAnIGRvZXMgbm90IGV4aXN0IGluIHNsaWRlclByby4nICk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9KTtcclxuICB9O1xyXG5cclxuICAvLyBDb250YWlucyB1c2VmdWwgdXRpbGl0eSBmdW5jdGlvbnNcclxuICB2YXIgU2xpZGVyUHJvVXRpbHMgPSB7XHJcblxyXG4gICAgLy8gSW5kaWNhdGVzIHdoYXQgdHlwZSBvZiBhbmltYXRpb25zIGFyZSBzdXBwb3J0ZWQgaW4gdGhlIGN1cnJlbnQgYnJvd3NlclxyXG4gICAgLy8gQ2FuIGJlIENTUyAzRCwgQ1NTIDJEIG9yIEphdmFTY3JpcHRcclxuICAgIHN1cHBvcnRlZEFuaW1hdGlvbjogbnVsbCxcclxuXHJcbiAgICAvLyBJbmRpY2F0ZXMgdGhlIHJlcXVpcmVkIHZlbmRvciBwcmVmaXggZm9yIHRoZSBjdXJyZW50IGJyb3dzZXJcclxuICAgIHZlbmRvclByZWZpeDogbnVsbCxcclxuXHJcbiAgICAvLyBJbmRpY2F0ZXMgdGhlIG5hbWUgb2YgdGhlIHRyYW5zaXRpb24ncyBjb21wbGV0ZSBldmVudCBmb3IgdGhlIGN1cnJlbnQgYnJvd3NlclxyXG4gICAgdHJhbnNpdGlvbkV2ZW50OiBudWxsLFxyXG5cclxuICAgIC8vIEluZGljYXRlcyBpZiB0aGUgY3VycmVudCBicm93c2VyIGlzIEludGVybmV0IEV4cGxvcmVyIChhbnkgdmVyc2lvbilcclxuICAgIGlzSUU6IG51bGwsXHJcblxyXG4gICAgLy8gQ2hlY2sgd2hldGhlciBDU1MzIDNEIG9yIDJEIHRyYW5zZm9ybXMgYXJlIHN1cHBvcnRlZC4gSWYgdGhleSBhcmVuJ3QsIHVzZSBKYXZhU2NyaXB0IGFuaW1hdGlvbnNcclxuICAgIGdldFN1cHBvcnRlZEFuaW1hdGlvbjogZnVuY3Rpb24oKSB7XHJcbiAgICAgIGlmICggdGhpcy5zdXBwb3J0ZWRBbmltYXRpb24gIT09IG51bGwgKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuc3VwcG9ydGVkQW5pbWF0aW9uO1xyXG4gICAgICB9XHJcblxyXG4gICAgICB2YXIgZWxlbWVudCA9IGRvY3VtZW50LmJvZHkgfHwgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LFxyXG4gICAgICAgIGVsZW1lbnRTdHlsZSA9IGVsZW1lbnQuc3R5bGUsXHJcbiAgICAgICAgaXNDU1NUcmFuc2l0aW9ucyA9IHR5cGVvZiBlbGVtZW50U3R5bGUudHJhbnNpdGlvbiAhPT0gJ3VuZGVmaW5lZCcgfHxcclxuICAgICAgICAgICAgICAgICAgdHlwZW9mIGVsZW1lbnRTdHlsZS5XZWJraXRUcmFuc2l0aW9uICE9PSAndW5kZWZpbmVkJyB8fFxyXG4gICAgICAgICAgICAgICAgICB0eXBlb2YgZWxlbWVudFN0eWxlLk1velRyYW5zaXRpb24gIT09ICd1bmRlZmluZWQnIHx8XHJcbiAgICAgICAgICAgICAgICAgIHR5cGVvZiBlbGVtZW50U3R5bGUuT1RyYW5zaXRpb24gIT09ICd1bmRlZmluZWQnO1xyXG5cclxuICAgICAgaWYgKCBpc0NTU1RyYW5zaXRpb25zID09PSB0cnVlICkge1xyXG4gICAgICAgIHZhciBkaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCAnZGl2JyApO1xyXG5cclxuICAgICAgICAvLyBDaGVjayBpZiAzRCB0cmFuc2Zvcm1zIGFyZSBzdXBwb3J0ZWRcclxuICAgICAgICBpZiAoIHR5cGVvZiBkaXYuc3R5bGUuV2Via2l0UGVyc3BlY3RpdmUgIT09ICd1bmRlZmluZWQnIHx8IHR5cGVvZiBkaXYuc3R5bGUucGVyc3BlY3RpdmUgIT09ICd1bmRlZmluZWQnICkge1xyXG4gICAgICAgICAgdGhpcy5zdXBwb3J0ZWRBbmltYXRpb24gPSAnY3NzLTNkJztcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIEFkZGl0aW9uYWwgY2hlY2tzIGZvciBXZWJraXRcclxuICAgICAgICBpZiAoIHRoaXMuc3VwcG9ydGVkQW5pbWF0aW9uID09PSAnY3NzLTNkJyAmJiB0eXBlb2YgZGl2LnN0eWxlV2Via2l0UGVyc3BlY3RpdmUgIT09ICd1bmRlZmluZWQnICkge1xyXG4gICAgICAgICAgdmFyIHN0eWxlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCggJ3N0eWxlJyApO1xyXG4gICAgICAgICAgc3R5bGUudGV4dENvbnRlbnQgPSAnQG1lZGlhICh0cmFuc2Zvcm0tM2QpLCgtd2Via2l0LXRyYW5zZm9ybS0zZCl7I3Rlc3QtM2R7bGVmdDo5cHg7cG9zaXRpb246YWJzb2x1dGU7aGVpZ2h0OjVweDttYXJnaW46MDtwYWRkaW5nOjA7Ym9yZGVyOjA7fX0nO1xyXG4gICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoICdoZWFkJyApWzBdLmFwcGVuZENoaWxkKCBzdHlsZSApO1xyXG5cclxuICAgICAgICAgIGRpdi5pZCA9ICd0ZXN0LTNkJztcclxuICAgICAgICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoIGRpdiApO1xyXG5cclxuICAgICAgICAgIGlmICggISAoIGRpdi5vZmZzZXRMZWZ0ID09PSA5ICYmIGRpdi5vZmZzZXRIZWlnaHQgPT09IDUgKSApIHtcclxuICAgICAgICAgICAgdGhpcy5zdXBwb3J0ZWRBbmltYXRpb24gPSBudWxsO1xyXG4gICAgICAgICAgfVxyXG5cclxuICAgICAgICAgIHN0eWxlLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoIHN0eWxlICk7XHJcbiAgICAgICAgICBkaXYucGFyZW50Tm9kZS5yZW1vdmVDaGlsZCggZGl2ICk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBJZiBDU1MgM0QgdHJhbnNmb3JtcyBhcmUgbm90IHN1cHBvcnRlZCwgY2hlY2sgaWYgMkQgdHJhbnNmb3JtcyBhcmUgc3VwcG9ydGVkXHJcbiAgICAgICAgaWYgKCB0aGlzLnN1cHBvcnRlZEFuaW1hdGlvbiA9PT0gbnVsbCAmJiAoIHR5cGVvZiBkaXYuc3R5bGVbJy13ZWJraXQtdHJhbnNmb3JtJ10gIT09ICd1bmRlZmluZWQnIHx8IHR5cGVvZiBkaXYuc3R5bGUudHJhbnNmb3JtICE9PSAndW5kZWZpbmVkJyApICkge1xyXG4gICAgICAgICAgdGhpcy5zdXBwb3J0ZWRBbmltYXRpb24gPSAnY3NzLTJkJztcclxuICAgICAgICB9XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgdGhpcy5zdXBwb3J0ZWRBbmltYXRpb24gPSAnamF2YXNjcmlwdCc7XHJcbiAgICAgIH1cclxuICAgICAgXHJcbiAgICAgIHJldHVybiB0aGlzLnN1cHBvcnRlZEFuaW1hdGlvbjtcclxuICAgIH0sXHJcblxyXG4gICAgLy8gQ2hlY2sgd2hhdCB2ZW5kb3IgcHJlZml4IHNob3VsZCBiZSB1c2VkIGluIHRoZSBjdXJyZW50IGJyb3dzZXJcclxuICAgIGdldFZlbmRvclByZWZpeDogZnVuY3Rpb24oKSB7XHJcbiAgICAgIGlmICggdGhpcy52ZW5kb3JQcmVmaXggIT09IG51bGwgKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMudmVuZG9yUHJlZml4O1xyXG4gICAgICB9XHJcblxyXG4gICAgICB2YXIgZGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCggJ2RpdicgKSxcclxuICAgICAgICBwcmVmaXhlcyA9IFsgJ1dlYmtpdCcsICdNb3onLCAnbXMnLCAnTycgXTtcclxuICAgICAgXHJcbiAgICAgIGlmICggJ3RyYW5zZm9ybScgaW4gZGl2LnN0eWxlICkge1xyXG4gICAgICAgIHRoaXMudmVuZG9yUHJlZml4ID0gJyc7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMudmVuZG9yUHJlZml4O1xyXG4gICAgICB9XHJcbiAgICAgIFxyXG4gICAgICBmb3IgKCB2YXIgaSA9IDA7IGkgPCBwcmVmaXhlcy5sZW5ndGg7IGkrKyApIHtcclxuICAgICAgICBpZiAoICggcHJlZml4ZXNbIGkgXSArICdUcmFuc2Zvcm0nICkgaW4gZGl2LnN0eWxlICkge1xyXG4gICAgICAgICAgdGhpcy52ZW5kb3JQcmVmaXggPSAnLScgKyBwcmVmaXhlc1sgaSBdLnRvTG93ZXJDYXNlKCkgKyAnLSc7XHJcbiAgICAgICAgICBicmVhaztcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgICAgXHJcbiAgICAgIHJldHVybiB0aGlzLnZlbmRvclByZWZpeDtcclxuICAgIH0sXHJcblxyXG4gICAgLy8gQ2hlY2sgdGhlIG5hbWUgb2YgdGhlIHRyYW5zaXRpb24ncyBjb21wbGV0ZSBldmVudCBpbiB0aGUgY3VycmVudCBicm93c2VyXHJcbiAgICBnZXRUcmFuc2l0aW9uRXZlbnQ6IGZ1bmN0aW9uKCkge1xyXG4gICAgICBpZiAoIHRoaXMudHJhbnNpdGlvbkV2ZW50ICE9PSBudWxsICkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLnRyYW5zaXRpb25FdmVudDtcclxuICAgICAgfVxyXG5cclxuICAgICAgdmFyIGRpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoICdkaXYnICksXHJcbiAgICAgICAgdHJhbnNpdGlvbnMgPSB7XHJcbiAgICAgICAgICAndHJhbnNpdGlvbic6ICd0cmFuc2l0aW9uZW5kJyxcclxuICAgICAgICAgICdXZWJraXRUcmFuc2l0aW9uJzogJ3dlYmtpdFRyYW5zaXRpb25FbmQnLFxyXG4gICAgICAgICAgJ01velRyYW5zaXRpb24nOiAndHJhbnNpdGlvbmVuZCcsXHJcbiAgICAgICAgICAnT1RyYW5zaXRpb24nOiAnb1RyYW5zaXRpb25FbmQnXHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgIGZvciAoIHZhciB0cmFuc2l0aW9uIGluIHRyYW5zaXRpb25zICkge1xyXG4gICAgICAgIGlmICggdHJhbnNpdGlvbiBpbiBkaXYuc3R5bGUgKSB7XHJcbiAgICAgICAgICB0aGlzLnRyYW5zaXRpb25FdmVudCA9IHRyYW5zaXRpb25zWyB0cmFuc2l0aW9uIF07XHJcbiAgICAgICAgICBicmVhaztcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHJldHVybiB0aGlzLnRyYW5zaXRpb25FdmVudDtcclxuICAgIH0sXHJcblxyXG4gICAgLy8gSWYgYSBzaW5nbGUgaW1hZ2UgaXMgcGFzc2VkLCBjaGVjayBpZiBpdCdzIGxvYWRlZC5cclxuICAgIC8vIElmIGEgZGlmZmVyZW50IGVsZW1lbnQgaXMgcGFzc2VkLCBjaGVjayBpZiB0aGVyZSBhcmUgaW1hZ2VzXHJcbiAgICAvLyBpbnNpZGUgaXQsIGFuZCBjaGVjayBpZiB0aGVzZSBpbWFnZXMgYXJlIGxvYWRlZC5cclxuICAgIGNoZWNrSW1hZ2VzQ29tcGxldGU6IGZ1bmN0aW9uKCB0YXJnZXQsIGNhbGxiYWNrICkge1xyXG4gICAgICB2YXIgdGhhdCA9IHRoaXMsXHJcblxyXG4gICAgICAgIC8vIENoZWNrIHRoZSBpbml0aWFsIHN0YXR1cyBvZiB0aGUgaW1hZ2UocylcclxuICAgICAgICBzdGF0dXMgPSB0aGlzLmNoZWNrSW1hZ2VzU3RhdHVzKCB0YXJnZXQgKTtcclxuXHJcbiAgICAgIC8vIElmIHRoZXJlIGFyZSBsb2FkaW5nIGltYWdlcywgd2FpdCBmb3IgdGhlbSB0byBsb2FkLlxyXG4gICAgICAvLyBJZiB0aGUgaW1hZ2VzIGFyZSBsb2FkZWQsIGNhbGwgdGhlIGNhbGxiYWNrIGZ1bmN0aW9uIGRpcmVjdGx5LlxyXG4gICAgICBpZiAoIHN0YXR1cyA9PT0gJ2xvYWRpbmcnICkge1xyXG4gICAgICAgIHZhciBjaGVja0ltYWdlcyA9IHNldEludGVydmFsKGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgc3RhdHVzID0gdGhhdC5jaGVja0ltYWdlc1N0YXR1cyggdGFyZ2V0ICk7XHJcblxyXG4gICAgICAgICAgaWYgKCBzdGF0dXMgPT09ICdjb21wbGV0ZScgKSB7XHJcbiAgICAgICAgICAgIGNsZWFySW50ZXJ2YWwoIGNoZWNrSW1hZ2VzICk7XHJcblxyXG4gICAgICAgICAgICBpZiAoIHR5cGVvZiBjYWxsYmFjayA9PT0gJ2Z1bmN0aW9uJyApIHtcclxuICAgICAgICAgICAgICBjYWxsYmFjaygpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfSwgMTAwICk7XHJcbiAgICAgIH0gZWxzZSBpZiAoIHR5cGVvZiBjYWxsYmFjayA9PT0gJ2Z1bmN0aW9uJyApIHtcclxuICAgICAgICBjYWxsYmFjaygpO1xyXG4gICAgICB9XHJcblxyXG4gICAgICByZXR1cm4gc3RhdHVzO1xyXG4gICAgfSxcclxuXHJcbiAgICBjaGVja0ltYWdlc1N0YXR1czogZnVuY3Rpb24oIHRhcmdldCApIHtcclxuICAgICAgdmFyIHN0YXR1cyA9ICdjb21wbGV0ZSc7XHJcblxyXG4gICAgICBpZiAoIHRhcmdldC5pcyggJ2ltZycgKSAmJiB0YXJnZXRbMF0uY29tcGxldGUgPT09IGZhbHNlICkge1xyXG4gICAgICAgIHN0YXR1cyA9ICdsb2FkaW5nJztcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICB0YXJnZXQuZmluZCggJ2ltZycgKS5lYWNoKGZ1bmN0aW9uKCBpbmRleCApIHtcclxuICAgICAgICAgIHZhciBpbWFnZSA9ICQoIHRoaXMgKVswXTtcclxuXHJcbiAgICAgICAgICBpZiAoIGltYWdlLmNvbXBsZXRlID09PSBmYWxzZSApIHtcclxuICAgICAgICAgICAgc3RhdHVzID0gJ2xvYWRpbmcnO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgICB9XHJcblxyXG4gICAgICByZXR1cm4gc3RhdHVzO1xyXG4gICAgfSxcclxuXHJcbiAgICBjaGVja0lFOiBmdW5jdGlvbigpIHtcclxuICAgICAgaWYgKCB0aGlzLmlzSUUgIT09IG51bGwgKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuaXNJRTtcclxuICAgICAgfVxyXG5cclxuICAgICAgdmFyIHVzZXJBZ2VudCA9IHdpbmRvdy5uYXZpZ2F0b3IudXNlckFnZW50LFxyXG4gICAgICAgIG1zaWUgPSB1c2VyQWdlbnQuaW5kZXhPZiggJ01TSUUnICk7XHJcblxyXG4gICAgICBpZiAoIHVzZXJBZ2VudC5pbmRleE9mKCAnTVNJRScgKSAhPT0gLTEgfHwgdXNlckFnZW50Lm1hdGNoKCAvVHJpZGVudC4qcnZcXDoxMVxcLi8gKSApIHtcclxuICAgICAgICB0aGlzLmlzSUUgPSB0cnVlO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIHRoaXMuaXNJRSA9IGZhbHNlO1xyXG4gICAgICB9XHJcblxyXG4gICAgICByZXR1cm4gdGhpcy5pc0lFO1xyXG4gICAgfVxyXG4gIH07XHJcblxyXG4gIHdpbmRvdy5TbGlkZXJQcm9VdGlscyA9IFNsaWRlclByb1V0aWxzO1xyXG5cclxufSkoIHdpbmRvdywgalF1ZXJ5ICk7XHJcblxyXG4vLyBDb25kaXRpb25hbEltYWdlcyBtb2R1bGUgZm9yIFNsaWRlciBQcm8uXHJcbi8vIFxyXG4vLyBBZGRzIHRoZSBwb3NzaWJpbGl0eSB0byBzcGVjaWZ5IG11bHRpcGxlIHNvdXJjZXMgZm9yIGVhY2ggaW1hZ2UgYW5kXHJcbi8vIGxvYWQgdGhlIGltYWdlIHRoYXQncyB0aGUgbW9zdCBhcHByb3ByaWF0ZSBmb3IgdGhlIHNpemUgb2YgdGhlIHNsaWRlci5cclxuLy8gRm9yIGV4YW1wbGUsIGluc3RlYWQgb2YgbG9hZGluZyBhIGxhcmdlIGltYWdlIGV2ZW4gaWYgdGhlIHNsaWRlciB3aWxsIGJlIHNtYWxsXHJcbi8vIHlvdSBjYW4gc3BlY2lmeSBhIHNtYWxsZXIgaW1hZ2UgdGhhdCB3aWxsIGJlIGxvYWRlZCBpbnN0ZWFkLlxyXG47KGZ1bmN0aW9uKCB3aW5kb3csICQgKSB7XHJcblxyXG4gIFwidXNlIHN0cmljdFwiO1xyXG5cclxuICB2YXIgTlMgPSAnQ29uZGl0aW9uYWxJbWFnZXMuJyArICQuU2xpZGVyUHJvLm5hbWVzcGFjZTtcclxuXHJcbiAgdmFyIENvbmRpdGlvbmFsSW1hZ2VzID0ge1xyXG5cclxuICAgIC8vIFJlZmVyZW5jZSB0byB0aGUgcHJldmlvdXMgc2l6ZVxyXG4gICAgcHJldmlvdXNJbWFnZVNpemU6IG51bGwsXHJcblxyXG4gICAgLy8gUmVmZXJlbmNlIHRvIHRoZSBjdXJyZW50IHNpemVcclxuICAgIGN1cnJlbnRJbWFnZVNpemU6IG51bGwsXHJcblxyXG4gICAgLy8gSW5kaWNhdGVzIGlmIHRoZSBjdXJyZW50IGRpc3BsYXkgc3VwcG9ydHMgaGlnaCBQUElcclxuICAgIGlzUmV0aW5hU2NyZWVuOiBmYWxzZSxcclxuXHJcbiAgICBpbml0Q29uZGl0aW9uYWxJbWFnZXM6IGZ1bmN0aW9uKCkge1xyXG4gICAgICB0aGlzLmN1cnJlbnRJbWFnZVNpemUgPSB0aGlzLnByZXZpb3VzSW1hZ2VTaXplID0gJ2RlZmF1bHQnO1xyXG4gICAgICB0aGlzLmlzUmV0aW5hU2NyZWVuID0gKCB0eXBlb2YgdGhpcy5faXNSZXRpbmEgIT09ICd1bmRlZmluZWQnICkgJiYgKCB0aGlzLl9pc1JldGluYSgpID09PSB0cnVlICk7XHJcblxyXG4gICAgICB0aGlzLm9uKCAndXBkYXRlLicgKyBOUywgJC5wcm94eSggdGhpcy5fY29uZGl0aW9uYWxJbWFnZXNPblVwZGF0ZSwgdGhpcyApICk7XHJcbiAgICAgIHRoaXMub24oICdzbGlkZXJSZXNpemUuJyArIE5TLCAkLnByb3h5KCB0aGlzLl9jb25kaXRpb25hbEltYWdlc09uUmVzaXplLCB0aGlzICkgKTtcclxuICAgIH0sXHJcblxyXG4gICAgLy8gTG9vcCB0aHJvdWdoIGFsbCB0aGUgZXhpc3RpbmcgaW1hZ2VzIGFuZCBzcGVjaWZ5IHRoZSBvcmlnaW5hbCBwYXRoIG9mIHRoZSBpbWFnZVxyXG4gICAgLy8gaW5zaWRlIHRoZSAnZGF0YS1kZWZhdWx0JyBhdHRyaWJ1dGUuXHJcbiAgICBfY29uZGl0aW9uYWxJbWFnZXNPblVwZGF0ZTogZnVuY3Rpb24oKSB7XHJcbiAgICAgICQuZWFjaCggdGhpcy5zbGlkZXMsIGZ1bmN0aW9uKCBpbmRleCwgZWxlbWVudCApIHtcclxuICAgICAgICB2YXIgJHNsaWRlID0gZWxlbWVudC4kc2xpZGU7XHJcblxyXG4gICAgICAgICRzbGlkZS5maW5kKCAnaW1nOm5vdChbIGRhdGEtZGVmYXVsdCBdKScgKS5lYWNoKGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgdmFyICRpbWFnZSA9ICQoIHRoaXMgKTtcclxuXHJcbiAgICAgICAgICBpZiAoIHR5cGVvZiAkaW1hZ2UuYXR0ciggJ2RhdGEtc3JjJyApICE9PSAndW5kZWZpbmVkJyApIHtcclxuICAgICAgICAgICAgJGltYWdlLmF0dHIoICdkYXRhLWRlZmF1bHQnLCAkaW1hZ2UuYXR0ciggJ2RhdGEtc3JjJyApICk7XHJcbiAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAkaW1hZ2UuYXR0ciggJ2RhdGEtZGVmYXVsdCcsICRpbWFnZS5hdHRyKCAnc3JjJyApICk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICAgIH0pO1xyXG4gICAgfSxcclxuXHJcbiAgICAvLyBXaGVuIHRoZSB3aW5kb3cgcmVzaXplcywgaWRlbnRpZnkgdGhlIGFwcGx5YWJsZSBpbWFnZSBzaXplIGJhc2VkIG9uIHRoZSBjdXJyZW50IHNpemUgb2YgdGhlIHNsaWRlclxyXG4gICAgLy8gYW5kIGFwcGx5IGl0IHRvIGFsbCBpbWFnZXMgdGhhdCBoYXZlIGEgdmVyc2lvbiBvZiB0aGUgaW1hZ2Ugc3BlY2lmaWVkIGZvciB0aGlzIHNpemUuXHJcbiAgICBfY29uZGl0aW9uYWxJbWFnZXNPblJlc2l6ZTogZnVuY3Rpb24oKSB7XHJcbiAgICAgIGlmICggdGhpcy5zbGlkZVdpZHRoIDw9IHRoaXMuc2V0dGluZ3Muc21hbGxTaXplICkge1xyXG4gICAgICAgIHRoaXMuY3VycmVudEltYWdlU2l6ZSA9ICdzbWFsbCc7XHJcbiAgICAgIH0gZWxzZSBpZiAoIHRoaXMuc2xpZGVXaWR0aCA8PSB0aGlzLnNldHRpbmdzLm1lZGl1bVNpemUgKSB7XHJcbiAgICAgICAgdGhpcy5jdXJyZW50SW1hZ2VTaXplID0gJ21lZGl1bSc7XHJcbiAgICAgIH0gZWxzZSBpZiAoIHRoaXMuc2xpZGVXaWR0aCA8PSB0aGlzLnNldHRpbmdzLmxhcmdlU2l6ZSApIHtcclxuICAgICAgICB0aGlzLmN1cnJlbnRJbWFnZVNpemUgPSAnbGFyZ2UnO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIHRoaXMuY3VycmVudEltYWdlU2l6ZSA9ICdkZWZhdWx0JztcclxuICAgICAgfVxyXG5cclxuICAgICAgaWYgKCB0aGlzLnByZXZpb3VzSW1hZ2VTaXplICE9PSB0aGlzLmN1cnJlbnRJbWFnZVNpemUgKSB7XHJcbiAgICAgICAgdmFyIHRoYXQgPSB0aGlzO1xyXG5cclxuICAgICAgICAkLmVhY2goIHRoaXMuc2xpZGVzLCBmdW5jdGlvbiggaW5kZXgsIGVsZW1lbnQgKSB7XHJcbiAgICAgICAgICB2YXIgJHNsaWRlID0gZWxlbWVudC4kc2xpZGU7XHJcblxyXG4gICAgICAgICAgJHNsaWRlLmZpbmQoICdpbWcnICkuZWFjaChmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgdmFyICRpbWFnZSA9ICQoIHRoaXMgKSxcclxuICAgICAgICAgICAgICBpbWFnZVNvdXJjZSA9ICcnO1xyXG5cclxuICAgICAgICAgICAgLy8gQ2hlY2sgaWYgdGhlIGN1cnJlbnQgZGlzcGxheSBzdXBwb3J0cyBoaWdoIFBQSSBhbmQgaWYgYSByZXRpbmEgdmVyc2lvbiBvZiB0aGUgY3VycmVudCBzaXplIHdhcyBzcGVjaWZpZWRcclxuICAgICAgICAgICAgaWYgKCB0aGF0LmlzUmV0aW5hU2NyZWVuID09PSB0cnVlICYmIHR5cGVvZiAkaW1hZ2UuYXR0ciggJ2RhdGEtcmV0aW5hJyArIHRoYXQuY3VycmVudEltYWdlU2l6ZSApICE9PSAndW5kZWZpbmVkJyApIHtcclxuICAgICAgICAgICAgICBpbWFnZVNvdXJjZSA9ICRpbWFnZS5hdHRyKCAnZGF0YS1yZXRpbmEnICsgdGhhdC5jdXJyZW50SW1hZ2VTaXplICk7XHJcblxyXG4gICAgICAgICAgICAgIC8vIElmIHRoZSByZXRpbmEgaW1hZ2Ugd2FzIG5vdCBsb2FkZWQgeWV0LCByZXBsYWNlIHRoZSBkZWZhdWx0IGltYWdlIHNvdXJjZSB3aXRoIHRoZSBvbmVcclxuICAgICAgICAgICAgICAvLyB0aGF0IGNvcnJlc3BvbmRzIHRvIHRoZSBjdXJyZW50IHNsaWRlciBzaXplXHJcbiAgICAgICAgICAgICAgaWYgKCB0eXBlb2YgJGltYWdlLmF0dHIoICdkYXRhLXJldGluYScgKSAhPT0gJ3VuZGVmaW5lZCcgJiYgJGltYWdlLmF0dHIoICdkYXRhLXJldGluYScgKSAhPT0gaW1hZ2VTb3VyY2UgKSB7XHJcbiAgICAgICAgICAgICAgICAkaW1hZ2UuYXR0ciggJ2RhdGEtcmV0aW5hJywgaW1hZ2VTb3VyY2UgKTtcclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoICggdGhhdC5pc1JldGluYVNjcmVlbiA9PT0gZmFsc2UgfHwgdGhhdC5pc1JldGluYVNjcmVlbiA9PT0gdHJ1ZSAmJiB0eXBlb2YgJGltYWdlLmF0dHIoICdkYXRhLXJldGluYScgKSA9PT0gJ3VuZGVmaW5lZCcgKSAmJiB0eXBlb2YgJGltYWdlLmF0dHIoICdkYXRhLScgKyB0aGF0LmN1cnJlbnRJbWFnZVNpemUgKSAhPT0gJ3VuZGVmaW5lZCcgKSB7XHJcbiAgICAgICAgICAgICAgaW1hZ2VTb3VyY2UgPSAkaW1hZ2UuYXR0ciggJ2RhdGEtJyArIHRoYXQuY3VycmVudEltYWdlU2l6ZSApO1xyXG5cclxuICAgICAgICAgICAgICAvLyBJZiB0aGUgaW1hZ2UgaXMgc2V0IHRvIGxhenkgbG9hZCwgcmVwbGFjZSB0aGUgaW1hZ2Ugc291cmNlIHdpdGggdGhlIG9uZVxyXG4gICAgICAgICAgICAgIC8vIHRoYXQgY29ycmVzcG9uZHMgdG8gdGhlIGN1cnJlbnQgc2xpZGVyIHNpemVcclxuICAgICAgICAgICAgICBpZiAoIHR5cGVvZiAkaW1hZ2UuYXR0ciggJ2RhdGEtc3JjJyApICE9PSAndW5kZWZpbmVkJyAmJiAkaW1hZ2UuYXR0ciggJ2RhdGEtc3JjJyApICE9PSBpbWFnZVNvdXJjZSApIHtcclxuICAgICAgICAgICAgICAgICRpbWFnZS5hdHRyKCAnZGF0YS1zcmMnLCBpbWFnZVNvdXJjZSApO1xyXG4gICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgLy8gSWYgYSBuZXcgaW1hZ2Ugd2FzIGZvdW5kXHJcbiAgICAgICAgICAgIGlmICggaW1hZ2VTb3VyY2UgIT09ICcnICkge1xyXG5cclxuICAgICAgICAgICAgICAvLyBUaGUgZXhpc3RlbmNlIG9mIHRoZSAnZGF0YS1zcmMnIGF0dHJpYnV0ZSBpbmRpY2F0ZXMgdGhhdCB0aGUgaW1hZ2VcclxuICAgICAgICAgICAgICAvLyB3aWxsIGJlIGxhenkgbG9hZGVkLCBzbyBkb24ndCBsb2FkIHRoZSBuZXcgaW1hZ2UgeWV0XHJcbiAgICAgICAgICAgICAgaWYgKCB0eXBlb2YgJGltYWdlLmF0dHIoICdkYXRhLXNyYycgKSA9PT0gJ3VuZGVmaW5lZCcgJiYgJGltYWdlLmF0dHIoICdzcmMnICkgIT09IGltYWdlU291cmNlICApIHtcclxuICAgICAgICAgICAgICAgIHRoYXQuX2xvYWRDb25kaXRpb25hbEltYWdlKCAkaW1hZ2UsIGltYWdlU291cmNlLCBmdW5jdGlvbiggbmV3SW1hZ2UgKSB7XHJcbiAgICAgICAgICAgICAgICAgIGlmICggbmV3SW1hZ2UuaGFzQ2xhc3MoICdzcC1pbWFnZScgKSApIHtcclxuICAgICAgICAgICAgICAgICAgICBlbGVtZW50LiRtYWluSW1hZ2UgPSBuZXdJbWFnZTtcclxuICAgICAgICAgICAgICAgICAgICBlbGVtZW50LnJlc2l6ZU1haW5JbWFnZSggdHJ1ZSApO1xyXG4gICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICB0aGlzLnByZXZpb3VzSW1hZ2VTaXplID0gdGhpcy5jdXJyZW50SW1hZ2VTaXplO1xyXG4gICAgICB9XHJcbiAgICB9LFxyXG5cclxuICAgIC8vIFJlcGxhY2UgdGhlIHRhcmdldCBpbWFnZSB3aXRoIGEgbmV3IGltYWdlXHJcbiAgICBfbG9hZENvbmRpdGlvbmFsSW1hZ2U6IGZ1bmN0aW9uKCBpbWFnZSwgc291cmNlLCBjYWxsYmFjayApIHtcclxuXHJcbiAgICAgIC8vIENyZWF0ZSBhIG5ldyBpbWFnZSBlbGVtZW50XHJcbiAgICAgIHZhciBuZXdJbWFnZSA9ICQoIG5ldyBJbWFnZSgpICk7XHJcblxyXG4gICAgICAvLyBDb3B5IHRoZSBjbGFzcyhlcykgYW5kIGlubGluZSBzdHlsZVxyXG4gICAgICBuZXdJbWFnZS5hdHRyKCAnY2xhc3MnLCBpbWFnZS5hdHRyKCAnY2xhc3MnICkgKTtcclxuICAgICAgbmV3SW1hZ2UuYXR0ciggJ3N0eWxlJywgaW1hZ2UuYXR0ciggJ3N0eWxlJyApICk7XHJcblxyXG4gICAgICAvLyBDb3B5IHRoZSBkYXRhIGF0dHJpYnV0ZXNcclxuICAgICAgJC5lYWNoKCBpbWFnZS5kYXRhKCksIGZ1bmN0aW9uKCBuYW1lLCB2YWx1ZSApIHtcclxuICAgICAgICBuZXdJbWFnZS5hdHRyKCAnZGF0YS0nICsgbmFtZSwgdmFsdWUgKTtcclxuICAgICAgfSk7XHJcblxyXG4gICAgICAvLyBDb3B5IHRoZSB3aWR0aCBhbmQgaGVpZ2h0IGF0dHJpYnV0ZXMgaWYgdGhleSBleGlzdFxyXG4gICAgICBpZiAoIHR5cGVvZiBpbWFnZS5hdHRyKCAnd2lkdGgnICkgIT09ICd1bmRlZmluZWQnKSB7XHJcbiAgICAgICAgbmV3SW1hZ2UuYXR0ciggJ3dpZHRoJywgaW1hZ2UuYXR0ciggJ3dpZHRoJyApICk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGlmICggdHlwZW9mIGltYWdlLmF0dHIoICdoZWlnaHQnICkgIT09ICd1bmRlZmluZWQnKSB7XHJcbiAgICAgICAgbmV3SW1hZ2UuYXR0ciggJ2hlaWdodCcsIGltYWdlLmF0dHIoICdoZWlnaHQnICkgKTtcclxuICAgICAgfVxyXG5cclxuICAgICAgaWYgKCB0eXBlb2YgaW1hZ2UuYXR0ciggJ2FsdCcgKSAhPT0gJ3VuZGVmaW5lZCcgKSB7XHJcbiAgICAgICAgbmV3SW1hZ2UuYXR0ciggJ2FsdCcsIGltYWdlLmF0dHIoICdhbHQnICkgKTtcclxuICAgICAgfVxyXG5cclxuICAgICAgaWYgKCB0eXBlb2YgaW1hZ2UuYXR0ciggJ3RpdGxlJyApICE9PSAndW5kZWZpbmVkJyApIHtcclxuICAgICAgICBuZXdJbWFnZS5hdHRyKCAndGl0bGUnLCBpbWFnZS5hdHRyKCAndGl0bGUnICkgKTtcclxuICAgICAgfVxyXG5cclxuICAgICAgbmV3SW1hZ2UuYXR0ciggJ3NyYycsIHNvdXJjZSApO1xyXG5cclxuICAgICAgLy8gQWRkIHRoZSBuZXcgaW1hZ2UgaW4gdGhlIHNhbWUgY29udGFpbmVyIGFuZCByZW1vdmUgdGhlIG9sZGVyIGltYWdlXHJcbiAgICAgIG5ld0ltYWdlLmluc2VydEFmdGVyKCBpbWFnZSApO1xyXG4gICAgICBpbWFnZS5yZW1vdmUoKTtcclxuICAgICAgaW1hZ2UgPSBudWxsO1xyXG4gICAgICAgIFxyXG4gICAgICBpZiAoIHR5cGVvZiBjYWxsYmFjayA9PT0gJ2Z1bmN0aW9uJyApIHtcclxuICAgICAgICBjYWxsYmFjayggbmV3SW1hZ2UgKTtcclxuICAgICAgfVxyXG4gICAgfSxcclxuXHJcbiAgICAvLyBEZXN0cm95IHRoZSBtb2R1bGVcclxuICAgIGRlc3Ryb3lDb25kaXRpb25hbEltYWdlczogZnVuY3Rpb24oKSB7XHJcbiAgICAgIHRoaXMub2ZmKCAndXBkYXRlLicgKyBOUyApO1xyXG4gICAgICB0aGlzLm9mZiggJ3NsaWRlclJlc2l6ZS4nICsgTlMgKTtcclxuICAgIH0sXHJcblxyXG4gICAgY29uZGl0aW9uYWxJbWFnZXNEZWZhdWx0czoge1xyXG5cclxuICAgICAgLy8gSWYgdGhlIHNsaWRlciBzaXplIGlzIGJlbG93IHRoaXMgc2l6ZSwgdGhlIHNtYWxsIHZlcnNpb24gb2YgdGhlIGltYWdlcyB3aWxsIGJlIHVzZWRcclxuICAgICAgc21hbGxTaXplOiA0ODAsXHJcblxyXG4gICAgICAvLyBJZiB0aGUgc2xpZGVyIHNpemUgaXMgYmVsb3cgdGhpcyBzaXplLCB0aGUgc21hbGwgdmVyc2lvbiBvZiB0aGUgaW1hZ2VzIHdpbGwgYmUgdXNlZFxyXG4gICAgICBtZWRpdW1TaXplOiA3NjgsXHJcblxyXG4gICAgICAvLyBJZiB0aGUgc2xpZGVyIHNpemUgaXMgYmVsb3cgdGhpcyBzaXplLCB0aGUgc21hbGwgdmVyc2lvbiBvZiB0aGUgaW1hZ2VzIHdpbGwgYmUgdXNlZFxyXG4gICAgICBsYXJnZVNpemU6IDEwMjRcclxuICAgIH1cclxuICB9O1xyXG5cclxuICAkLlNsaWRlclByby5hZGRNb2R1bGUoICdDb25kaXRpb25hbEltYWdlcycsIENvbmRpdGlvbmFsSW1hZ2VzICk7XHJcblxyXG59KSggd2luZG93LCBqUXVlcnkgKTtcclxuXHJcblxyXG4vLyBUb3VjaCBTd2lwZSBtb2R1bGUgZm9yIFNsaWRlciBQcm8uXHJcbi8vIFxyXG4vLyBBZGRzIHRvdWNoLXN3aXBlIGZ1bmN0aW9uYWxpdHkgZm9yIHNsaWRlcy5cclxuOyhmdW5jdGlvbiggd2luZG93LCAkICkge1xyXG5cclxuICBcInVzZSBzdHJpY3RcIjtcclxuICBcclxuICB2YXIgTlMgPSAnVG91Y2hTd2lwZS4nICsgJC5TbGlkZXJQcm8ubmFtZXNwYWNlO1xyXG5cclxuICB2YXIgVG91Y2hTd2lwZSA9IHtcclxuXHJcbiAgICAvLyBUaGUgeCBhbmQgeSBjb29yZGluYXRlcyBvZiB0aGUgcG9pbnRlci9maW5nZXIncyBzdGFydGluZyBwb3NpdGlvblxyXG4gICAgdG91Y2hTdGFydFBvaW50OiB7eDogMCwgeTogMH0sXHJcblxyXG4gICAgLy8gVGhlIHggYW5kIHkgY29vcmRpbmF0ZXMgb2YgdGhlIHBvaW50ZXIvZmluZ2VyJ3MgZW5kIHBvc2l0aW9uXHJcbiAgICB0b3VjaEVuZFBvaW50OiB7eDogMCwgeTogMH0sXHJcblxyXG4gICAgLy8gVGhlIGRpc3RhbmNlIGZyb20gdGhlIHN0YXJ0aW5nIHRvIHRoZSBlbmQgcG9zaXRpb24gb24gdGhlIHggYW5kIHkgYXhpc1xyXG4gICAgdG91Y2hEaXN0YW5jZToge3g6IDAsIHk6IDB9LFxyXG5cclxuICAgIC8vIFRoZSBwb3NpdGlvbiBvZiB0aGUgc2xpZGVzIHdoZW4gdGhlIHRvdWNoIHN3aXBlIHN0YXJ0c1xyXG4gICAgdG91Y2hTdGFydFBvc2l0aW9uOiAwLFxyXG5cclxuICAgIC8vIEluZGljYXRlcyBpZiB0aGUgc2xpZGVzIGFyZSBiZWluZyBzd2lwZWRcclxuICAgIGlzVG91Y2hNb3Zpbmc6IGZhbHNlLFxyXG5cclxuICAgIC8vIFN0b3JlcyB0aGUgbmFtZXMgb2YgdGhlIGV2ZW50c1xyXG4gICAgdG91Y2hTd2lwZUV2ZW50czogeyBzdGFydEV2ZW50OiAnJywgbW92ZUV2ZW50OiAnJywgZW5kRXZlbnQ6ICcnIH0sXHJcblxyXG4gICAgLy8gSW5kaWNhdGVzIGlmIHNjcm9sbGluZyAodGhlIHBhZ2UpIGluIHRoZSBvcHBvc2l0ZSBkaXJlY3Rpb24gb2YgdGhlXHJcbiAgICAvLyBzbGlkZXMnIGxheW91dCBpcyBhbGxvd2VkLiBUaGlzIGlzIHVzZWQgdG8gYmxvY2sgdmVydGljYWwgKG9yIGhvcml6b250YWwpXHJcbiAgICAvLyBzY3JvbGxpbmcgd2hlbiB0aGUgdXNlciBpcyBzY3JvbGxpbmcgdGhyb3VnaCB0aGUgc2xpZGVzLlxyXG4gICAgYWxsb3dPcHBvc2l0ZVNjcm9sbGluZzogdHJ1ZSxcclxuXHJcbiAgICBpbml0VG91Y2hTd2lwZTogZnVuY3Rpb24oKSB7XHJcbiAgICAgIHZhciB0aGF0ID0gdGhpcztcclxuXHJcbiAgICAgIC8vIGNoZWNrIGlmIHRvdWNoIHN3aXBlIGlzIGVuYWJsZWRcclxuICAgICAgaWYgKCB0aGlzLnNldHRpbmdzLnRvdWNoU3dpcGUgPT09IGZhbHNlICkge1xyXG4gICAgICAgIHJldHVybjtcclxuICAgICAgfVxyXG5cclxuICAgICAgdGhpcy50b3VjaFN3aXBlRXZlbnRzLnN0YXJ0RXZlbnQgPSAndG91Y2hzdGFydCcgKyAnLicgKyBOUyArICcgbW91c2Vkb3duJyArICcuJyArIE5TO1xyXG4gICAgICB0aGlzLnRvdWNoU3dpcGVFdmVudHMubW92ZUV2ZW50ID0gJ3RvdWNobW92ZScgKyAnLicgKyBOUyArICcgbW91c2Vtb3ZlJyArICcuJyArIE5TO1xyXG4gICAgICB0aGlzLnRvdWNoU3dpcGVFdmVudHMuZW5kRXZlbnQgPSAndG91Y2hlbmQnICsgJy4nICsgdGhpcy51bmlxdWVJZCArICcuJyArIE5TICsgJyBtb3VzZXVwJyArICcuJyArIHRoaXMudW5pcXVlSWQgKyAnLicgKyBOUztcclxuXHJcbiAgICAgIC8vIExpc3RlbiBmb3IgdG91Y2ggc3dpcGUvbW91c2UgbW92ZSBldmVudHNcclxuICAgICAgdGhpcy4kc2xpZGVzTWFzay5vbiggdGhpcy50b3VjaFN3aXBlRXZlbnRzLnN0YXJ0RXZlbnQsICQucHJveHkoIHRoaXMuX29uVG91Y2hTdGFydCwgdGhpcyApICk7XHJcbiAgICAgIHRoaXMuJHNsaWRlc01hc2sub24oICdkcmFnc3RhcnQuJyArIE5TLCBmdW5jdGlvbiggZXZlbnQgKSB7XHJcbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgfSk7XHJcblxyXG4gICAgICAvLyBQcmV2ZW50ICdjbGljaycgZXZlbnRzIHVubGVzcyB0aGVyZSBpcyBpbnRlbnRpb24gZm9yIGEgJ2NsaWNrJ1xyXG4gICAgICB0aGlzLiRzbGlkZXNNYXNrLmZpbmQoICdhJyApLm9uKCAnY2xpY2suJyArIE5TLCBmdW5jdGlvbiggZXZlbnQgKSB7XHJcbiAgICAgICAgaWYgKCB0eXBlb2YgZXZlbnQub3JpZ2luYWxFdmVudC50b3VjaGVzID09PSAndW5kZWZpbmVkJyAmJiB0aGF0LiRzbGlkZXIuaGFzQ2xhc3MoICdzcC1zd2lwaW5nJyApICkge1xyXG4gICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICB9XHJcbiAgICAgIH0pO1xyXG5cclxuICAgICAgLy8gQWRkIHRoZSBncmFiYmluZyBpY29uXHJcbiAgICAgIHRoaXMuJHNsaWRlc01hc2suYWRkQ2xhc3MoICdzcC1ncmFiJyApO1xyXG4gICAgfSxcclxuXHJcbiAgICAvLyBDYWxsZWQgd2hlbiB0aGUgc2xpZGVzIHN0YXJ0cyBiZWluZyBkcmFnZ2VkXHJcbiAgICBfb25Ub3VjaFN0YXJ0OiBmdW5jdGlvbiggZXZlbnQgKSB7XHJcblxyXG4gICAgICAvLyBEaXNhYmxlIGRyYWdnaW5nIGlmIHRoZSBlbGVtZW50IGlzIHNldCB0byBhbGxvdyBzZWxlY3Rpb25zXHJcbiAgICAgIGlmICggJCggZXZlbnQudGFyZ2V0ICkuY2xvc2VzdCggJy5zcC1zZWxlY3RhYmxlJyApLmxlbmd0aCA+PSAxICkge1xyXG4gICAgICAgIHJldHVybjtcclxuICAgICAgfVxyXG5cclxuICAgICAgdmFyIHRoYXQgPSB0aGlzLFxyXG4gICAgICAgIGV2ZW50T2JqZWN0ID0gdHlwZW9mIGV2ZW50Lm9yaWdpbmFsRXZlbnQudG91Y2hlcyAhPT0gJ3VuZGVmaW5lZCcgPyBldmVudC5vcmlnaW5hbEV2ZW50LnRvdWNoZXNbMF0gOiBldmVudC5vcmlnaW5hbEV2ZW50O1xyXG5cclxuICAgICAgLy8gR2V0IHRoZSBpbml0aWFsIHBvc2l0aW9uIG9mIHRoZSBtb3VzZSBwb2ludGVyIGFuZCB0aGUgaW5pdGlhbCBwb3NpdGlvblxyXG4gICAgICAvLyBvZiB0aGUgc2xpZGVzJyBjb250YWluZXJcclxuICAgICAgdGhpcy50b3VjaFN0YXJ0UG9pbnQueCA9IGV2ZW50T2JqZWN0LnBhZ2VYIHx8IGV2ZW50T2JqZWN0LmNsaWVudFg7XHJcbiAgICAgIHRoaXMudG91Y2hTdGFydFBvaW50LnkgPSBldmVudE9iamVjdC5wYWdlWSB8fCBldmVudE9iamVjdC5jbGllbnRZO1xyXG4gICAgICB0aGlzLnRvdWNoU3RhcnRQb3NpdGlvbiA9IHRoaXMuc2xpZGVzUG9zaXRpb247XHJcblxyXG4gICAgICAvLyBDbGVhciB0aGUgcHJldmlvdXMgZGlzdGFuY2UgdmFsdWVzXHJcbiAgICAgIHRoaXMudG91Y2hEaXN0YW5jZS54ID0gdGhpcy50b3VjaERpc3RhbmNlLnkgPSAwO1xyXG5cclxuICAgICAgLy8gSWYgdGhlIHNsaWRlcyBhcmUgYmVpbmcgZ3JhYmJlZCB3aGlsZSB0aGV5J3JlIHN0aWxsIGFuaW1hdGluZywgc3RvcCB0aGVcclxuICAgICAgLy8gY3VycmVudCBtb3ZlbWVudFxyXG4gICAgICBpZiAoIHRoaXMuJHNsaWRlcy5oYXNDbGFzcyggJ3NwLWFuaW1hdGVkJyApICkge1xyXG4gICAgICAgIHRoaXMuaXNUb3VjaE1vdmluZyA9IHRydWU7XHJcbiAgICAgICAgdGhpcy5fc3RvcE1vdmVtZW50KCk7XHJcbiAgICAgICAgdGhpcy50b3VjaFN0YXJ0UG9zaXRpb24gPSB0aGlzLnNsaWRlc1Bvc2l0aW9uO1xyXG4gICAgICB9XHJcblxyXG4gICAgICAvLyBMaXN0ZW4gZm9yIG1vdmUgYW5kIGVuZCBldmVudHNcclxuICAgICAgJCggZG9jdW1lbnQgKS5vbiggdGhpcy50b3VjaFN3aXBlRXZlbnRzLm1vdmVFdmVudCwgJC5wcm94eSggdGhpcy5fb25Ub3VjaE1vdmUsIHRoaXMgKSApO1xyXG4gICAgICAkKCBkb2N1bWVudCApLm9uKCB0aGlzLnRvdWNoU3dpcGVFdmVudHMuZW5kRXZlbnQsICQucHJveHkoIHRoaXMuX29uVG91Y2hFbmQsIHRoaXMgKSApO1xyXG5cclxuICAgICAgLy8gU3dhcCBncmFiYmluZyBpY29uc1xyXG4gICAgICB0aGlzLiRzbGlkZXNNYXNrLnJlbW92ZUNsYXNzKCAnc3AtZ3JhYicgKS5hZGRDbGFzcyggJ3NwLWdyYWJiaW5nJyApO1xyXG5cclxuICAgICAgLy8gQWRkICdzcC1zd2lwaW5nJyBjbGFzcyB0byBpbmRpY2F0ZSB0aGF0IHRoZSBzbGlkZXMgYXJlIGJlaW5nIHN3aXBlZFxyXG4gICAgICB0aGlzLiRzbGlkZXIuYWRkQ2xhc3MoICdzcC1zd2lwaW5nJyApO1xyXG4gICAgfSxcclxuXHJcbiAgICAvLyBDYWxsZWQgZHVyaW5nIHRoZSBzbGlkZXMnIGRyYWdnaW5nXHJcbiAgICBfb25Ub3VjaE1vdmU6IGZ1bmN0aW9uKCBldmVudCApIHtcclxuICAgICAgdmFyIGV2ZW50T2JqZWN0ID0gdHlwZW9mIGV2ZW50Lm9yaWdpbmFsRXZlbnQudG91Y2hlcyAhPT0gJ3VuZGVmaW5lZCcgPyBldmVudC5vcmlnaW5hbEV2ZW50LnRvdWNoZXNbMF0gOiBldmVudC5vcmlnaW5hbEV2ZW50O1xyXG5cclxuICAgICAgLy8gSW5kaWNhdGUgdGhhdCB0aGUgbW92ZSBldmVudCBpcyBiZWluZyBmaXJlZFxyXG4gICAgICB0aGlzLmlzVG91Y2hNb3ZpbmcgPSB0cnVlO1xyXG5cclxuICAgICAgLy8gR2V0IHRoZSBjdXJyZW50IHBvc2l0aW9uIG9mIHRoZSBtb3VzZSBwb2ludGVyXHJcbiAgICAgIHRoaXMudG91Y2hFbmRQb2ludC54ID0gZXZlbnRPYmplY3QucGFnZVggfHwgZXZlbnRPYmplY3QuY2xpZW50WDtcclxuICAgICAgdGhpcy50b3VjaEVuZFBvaW50LnkgPSBldmVudE9iamVjdC5wYWdlWSB8fCBldmVudE9iamVjdC5jbGllbnRZO1xyXG5cclxuICAgICAgLy8gQ2FsY3VsYXRlIHRoZSBkaXN0YW5jZSBvZiB0aGUgbW92ZW1lbnQgb24gYm90aCBheGlzXHJcbiAgICAgIHRoaXMudG91Y2hEaXN0YW5jZS54ID0gdGhpcy50b3VjaEVuZFBvaW50LnggLSB0aGlzLnRvdWNoU3RhcnRQb2ludC54O1xyXG4gICAgICB0aGlzLnRvdWNoRGlzdGFuY2UueSA9IHRoaXMudG91Y2hFbmRQb2ludC55IC0gdGhpcy50b3VjaFN0YXJ0UG9pbnQueTtcclxuICAgICAgXHJcbiAgICAgIC8vIENhbGN1bGF0ZSB0aGUgZGlzdGFuY2Ugb2YgdGhlIHN3aXBlIHRoYXQgdGFrZXMgcGxhY2UgaW4gdGhlIHNhbWUgZGlyZWN0aW9uIGFzIHRoZSBvcmllbnRhdGlvbiBvZiB0aGUgc2xpZGVzXHJcbiAgICAgIC8vIGFuZCBjYWxjdWxhdGUgdGhlIGRpc3RhbmNlIGZyb20gdGhlIG9wcG9zaXRlIGRpcmVjdGlvbi5cclxuICAgICAgLy8gXHJcbiAgICAgIC8vIEZvciBhIHN3aXBlIHRvIGJlIHZhbGlkIHRoZXJlIHNob3VsZCBtb3JlIGRpc3RhbmNlIGluIHRoZSBzYW1lIGRpcmVjdGlvbiBhcyB0aGUgb3JpZW50YXRpb24gb2YgdGhlIHNsaWRlcy5cclxuICAgICAgdmFyIGRpc3RhbmNlID0gdGhpcy5zZXR0aW5ncy5vcmllbnRhdGlvbiA9PT0gJ2hvcml6b250YWwnID8gdGhpcy50b3VjaERpc3RhbmNlLnggOiB0aGlzLnRvdWNoRGlzdGFuY2UueSxcclxuICAgICAgICBvcHBvc2l0ZURpc3RhbmNlID0gdGhpcy5zZXR0aW5ncy5vcmllbnRhdGlvbiA9PT0gJ2hvcml6b250YWwnID8gdGhpcy50b3VjaERpc3RhbmNlLnkgOiB0aGlzLnRvdWNoRGlzdGFuY2UueDtcclxuXHJcbiAgICAgIC8vIElmIHRoZSBtb3ZlbWVudCBpcyBpbiB0aGUgc2FtZSBkaXJlY3Rpb24gYXMgdGhlIG9yaWVudGF0aW9uIG9mIHRoZSBzbGlkZXMsIHRoZSBzd2lwZSBpcyB2YWxpZFxyXG4gICAgICAvLyBhbmQgb3Bwb3NpdGUgc2Nyb2xsaW5nIHdpbGwgbm90IGJlIGFsbG93ZWQuXHJcbiAgICAgIGlmICggTWF0aC5hYnMoIGRpc3RhbmNlICkgPiBNYXRoLmFicyggb3Bwb3NpdGVEaXN0YW5jZSApICkge1xyXG4gICAgICAgIHRoaXMuYWxsb3dPcHBvc2l0ZVNjcm9sbGluZyA9IGZhbHNlO1xyXG4gICAgICB9XHJcblxyXG4gICAgICAvLyBJZiBvcHBvc2l0ZSBzY3JvbGxpbmcgaXMgc3RpbGwgYWxsb3dlZCwgdGhlIHN3aXBlIHdhc24ndCB2YWxpZCwgc28gcmV0dXJuLlxyXG4gICAgICBpZiAoIHRoaXMuYWxsb3dPcHBvc2l0ZVNjcm9sbGluZyA9PT0gdHJ1ZSApIHtcclxuICAgICAgICByZXR1cm47XHJcbiAgICAgIH1cclxuICAgICAgXHJcbiAgICAgIC8vIERvbid0IGFsbG93IG9wcG9zaXRlIHNjcm9sbGluZ1xyXG4gICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xyXG5cclxuICAgICAgaWYgKCB0aGlzLnNldHRpbmdzLmxvb3AgPT09IGZhbHNlICkge1xyXG4gICAgICAgIC8vIE1ha2UgdGhlIHNsaWRlcyBtb3ZlIHNsb3dlciBpZiB0aGV5J3JlIGRyYWdnZWQgb3V0c2lkZSBpdHMgYm91bmRzXHJcbiAgICAgICAgaWYgKCAoIHRoaXMuc2xpZGVzUG9zaXRpb24gPiB0aGlzLnRvdWNoU3RhcnRQb3NpdGlvbiAmJiB0aGlzLnNlbGVjdGVkU2xpZGVJbmRleCA9PT0gMCApIHx8XHJcbiAgICAgICAgICAoIHRoaXMuc2xpZGVzUG9zaXRpb24gPCB0aGlzLnRvdWNoU3RhcnRQb3NpdGlvbiAmJiB0aGlzLnNlbGVjdGVkU2xpZGVJbmRleCA9PT0gdGhpcy5nZXRUb3RhbFNsaWRlcygpIC0gMSApXHJcbiAgICAgICAgKSB7XHJcbiAgICAgICAgICBkaXN0YW5jZSA9IGRpc3RhbmNlICogMC4yO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG5cclxuICAgICAgdGhpcy5fbW92ZVRvKCB0aGlzLnRvdWNoU3RhcnRQb3NpdGlvbiArIGRpc3RhbmNlLCB0cnVlICk7XHJcbiAgICB9LFxyXG5cclxuICAgIC8vIENhbGxlZCB3aGVuIHRoZSBzbGlkZXMgYXJlIHJlbGVhc2VkXHJcbiAgICBfb25Ub3VjaEVuZDogZnVuY3Rpb24oIGV2ZW50ICkge1xyXG4gICAgICB2YXIgdGhhdCA9IHRoaXMsXHJcbiAgICAgICAgdG91Y2hEaXN0YW5jZSA9IHRoaXMuc2V0dGluZ3Mub3JpZW50YXRpb24gPT09ICdob3Jpem9udGFsJyA/IHRoaXMudG91Y2hEaXN0YW5jZS54IDogdGhpcy50b3VjaERpc3RhbmNlLnk7XHJcblxyXG4gICAgICAvLyBSZW1vdmUgdGhlICdtb3ZlJyBhbmQgJ2VuZCcgbGlzdGVuZXJzXHJcbiAgICAgICQoIGRvY3VtZW50ICkub2ZmKCB0aGlzLnRvdWNoU3dpcGVFdmVudHMubW92ZUV2ZW50ICk7XHJcbiAgICAgICQoIGRvY3VtZW50ICkub2ZmKCB0aGlzLnRvdWNoU3dpcGVFdmVudHMuZW5kRXZlbnQgKTtcclxuICAgICAgXHJcbiAgICAgIHRoaXMuYWxsb3dPcHBvc2l0ZVNjcm9sbGluZyA9IHRydWU7XHJcblxyXG4gICAgICAvLyBTd2FwIGdyYWJiaW5nIGljb25zXHJcbiAgICAgIHRoaXMuJHNsaWRlc01hc2sucmVtb3ZlQ2xhc3MoICdzcC1ncmFiYmluZycgKS5hZGRDbGFzcyggJ3NwLWdyYWInICk7XHJcblxyXG4gICAgICAvLyBDaGVjayBpZiB0aGVyZSBpcyBpbnRlbnRpb24gZm9yIGEgdGFwIGFuZCByZW1vdmVcclxuICAgICAgLy8gdGhlICdzcC1zd2lwaW5nJyBjbGFzcyBpZiB0aGF0J3MgdGhlIGNhc2VcclxuICAgICAgaWYgKCB0aGlzLmlzVG91Y2hNb3ZpbmcgPT09IGZhbHNlIHx8IHRoaXMuaXNUb3VjaE1vdmluZyA9PT0gdHJ1ZSAmJiBNYXRoLmFicyggdGhpcy50b3VjaERpc3RhbmNlLnggKSA8IDEwICYmIE1hdGguYWJzKCB0aGlzLnRvdWNoRGlzdGFuY2UueSApIDwgMTAgKSB7XHJcbiAgICAgICAgdGhpcy4kc2xpZGVyLnJlbW92ZUNsYXNzKCAnc3Atc3dpcGluZycgKTtcclxuICAgICAgfVxyXG5cclxuICAgICAgLy8gUmVtb3ZlIHRoZSAnc3Atc3dpcGluZycgY2xhc3MgYW55d2F5LCBldmVuIGlmIHRoZXJlIHdhcyBhIHN3aXBlLFxyXG4gICAgICAvLyBidXQgaW4gdGhpcyBjYXNlIHJlbW92ZSBpdCB3aXRoIGEgZGVsYXksIGJlY2F1c2UgdGhlcmUgbWlnaHQgYmUgXHJcbiAgICAgIC8vIG90aGVyIGV2ZW50IGxpc3RlbmVycyB0aGF0IGNoZWNrIHRoZSBleGlzdGVuY2Ugb2YgdGhpcyBjbGFzcyxcclxuICAgICAgLy8gYW5kIHRoaXMgY2xhc3Mgc2hvdWxkIHN0aWxsIGJlIGFwcGxpZWQgZm9yIHRob3NlIGxpc3RlbmVyc1xyXG4gICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIHRoYXQuJHNsaWRlci5yZW1vdmVDbGFzcyggJ3NwLXN3aXBpbmcnICk7XHJcbiAgICAgIH0sIDEgKTtcclxuXHJcbiAgICAgIC8vIFJldHVybiBpZiB0aGUgc2xpZGVzIGRpZG4ndCBtb3ZlXHJcbiAgICAgIGlmICggdGhpcy5pc1RvdWNoTW92aW5nID09PSBmYWxzZSApIHtcclxuICAgICAgICByZXR1cm47XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHRoaXMuaXNUb3VjaE1vdmluZyA9IGZhbHNlO1xyXG5cclxuICAgICAgLy8gQ2FsY3VsYXRlIHRoZSBvbGQgcG9zaXRpb24gb2YgdGhlIHNsaWRlcyBpbiBvcmRlciB0byByZXR1cm4gdG8gaXQgaWYgdGhlIHN3aXBlXHJcbiAgICAgIC8vIGlzIGJlbG93IHRoZSB0aHJlc2hvbGRcclxuICAgICAgdmFyIHNlbGVjdGVkU2xpZGVPZmZzZXQgPSB0aGlzLnNldHRpbmdzLmNlbnRlclNlbGVjdGVkU2xpZGUgPT09IHRydWUgPyBNYXRoLnJvdW5kKCAoIHBhcnNlSW50KCB0aGlzLiRzbGlkZXNNYXNrLmNzcyggdGhpcy5zaXplUHJvcGVydHkgKSwgMTAgKSAtIHRoaXMuZ2V0U2xpZGVBdCggdGhpcy5zZWxlY3RlZFNsaWRlSW5kZXggKS5nZXRTaXplKClbIHRoaXMuc2l6ZVByb3BlcnR5IF0gKSAvIDIgKSA6IDAsXHJcbiAgICAgICAgb2xkU2xpZGVzUG9zaXRpb24gPSAtIHBhcnNlSW50KCB0aGlzLiRzbGlkZXMuZmluZCggJy5zcC1zbGlkZScgKS5lcSggdGhpcy5zZWxlY3RlZFNsaWRlSW5kZXggKS5jc3MoIHRoaXMucG9zaXRpb25Qcm9wZXJ0eSApLCAxMCApICsgc2VsZWN0ZWRTbGlkZU9mZnNldDtcclxuXHJcbiAgICAgIGlmICggTWF0aC5hYnMoIHRvdWNoRGlzdGFuY2UgKSA8IHRoaXMuc2V0dGluZ3MudG91Y2hTd2lwZVRocmVzaG9sZCApIHtcclxuICAgICAgICB0aGlzLl9tb3ZlVG8oIG9sZFNsaWRlc1Bvc2l0aW9uICk7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgXHJcbiAgICAgICAgLy8gQ2FsY3VsYXRlIGJ5IGhvdyBtYW55IHNsaWRlcyB0aGUgc2xpZGVzIGNvbnRhaW5lciBoYXMgbW92ZWRcclxuICAgICAgICB2YXIgc2xpZGVBcnJheURpc3RhbmNlID0gKCB0aGlzLnNldHRpbmdzLnJpZ2h0VG9MZWZ0ID09PSB0cnVlICYmIHRoaXMuc2V0dGluZ3Mub3JpZW50YXRpb24gPT09ICdob3Jpem9udGFsJyA/IC0xIDogMSApICogdG91Y2hEaXN0YW5jZSAvICggdGhpcy5hdmVyYWdlU2xpZGVTaXplICsgdGhpcy5zZXR0aW5ncy5zbGlkZURpc3RhbmNlICk7XHJcblxyXG4gICAgICAgIC8vIEZsb29yIHRoZSBvYnRhaW5lZCB2YWx1ZSBhbmQgYWRkIG9yIHN1YnRyYWN0IDEsIGRlcGVuZGluZyBvbiB0aGUgZGlyZWN0aW9uIG9mIHRoZSBzd2lwZVxyXG4gICAgICAgIHNsaWRlQXJyYXlEaXN0YW5jZSA9IHBhcnNlSW50KCBzbGlkZUFycmF5RGlzdGFuY2UsIDEwICkgKyAoIHNsaWRlQXJyYXlEaXN0YW5jZSA+IDAgPyAxIDogLSAxICk7XHJcblxyXG4gICAgICAgIC8vIEdldCB0aGUgaW5kZXggb2YgdGhlIGN1cnJlbnRseSBzZWxlY3RlZCBzbGlkZSBhbmQgc3VidHJhY3QgdGhlIHBvc2l0aW9uIGluZGV4IGluIG9yZGVyIHRvIG9idGFpblxyXG4gICAgICAgIC8vIHRoZSBuZXcgaW5kZXggb2YgdGhlIHNlbGVjdGVkIHNsaWRlLiBcclxuICAgICAgICB2YXIgbmV4dFNsaWRlSW5kZXggPSB0aGlzLnNsaWRlc09yZGVyWyAkLmluQXJyYXkoIHRoaXMuc2VsZWN0ZWRTbGlkZUluZGV4LCB0aGlzLnNsaWRlc09yZGVyICkgLSBzbGlkZUFycmF5RGlzdGFuY2UgXTtcclxuXHJcbiAgICAgICAgaWYgKCB0aGlzLnNldHRpbmdzLmxvb3AgPT09IHRydWUgKSB7XHJcbiAgICAgICAgICB0aGlzLmdvdG9TbGlkZSggbmV4dFNsaWRlSW5kZXggKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgaWYgKCB0eXBlb2YgbmV4dFNsaWRlSW5kZXggIT09ICd1bmRlZmluZWQnICkge1xyXG4gICAgICAgICAgICB0aGlzLmdvdG9TbGlkZSggbmV4dFNsaWRlSW5kZXggKTtcclxuICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHRoaXMuX21vdmVUbyggb2xkU2xpZGVzUG9zaXRpb24gKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH0sXHJcblxyXG4gICAgLy8gRGVzdHJveSB0aGUgbW9kdWxlXHJcbiAgICBkZXN0cm95VG91Y2hTd2lwZTogZnVuY3Rpb24oKSB7XHJcbiAgICAgIHRoaXMuJHNsaWRlc01hc2sub2ZmKCAnZHJhZ3N0YXJ0LicgKyBOUyApO1xyXG4gICAgICB0aGlzLiRzbGlkZXNNYXNrLmZpbmQoICdhJyApLm9mZiggJ2NsaWNrLicgKyBOUyApO1xyXG5cclxuICAgICAgdGhpcy4kc2xpZGVzTWFzay5vZmYoIHRoaXMudG91Y2hTd2lwZUV2ZW50cy5zdGFydEV2ZW50ICk7XHJcbiAgICAgICQoIGRvY3VtZW50ICkub2ZmKCB0aGlzLnRvdWNoU3dpcGVFdmVudHMubW92ZUV2ZW50ICk7XHJcbiAgICAgICQoIGRvY3VtZW50ICkub2ZmKCB0aGlzLnRvdWNoU3dpcGVFdmVudHMuZW5kRXZlbnQgKTtcclxuICAgICAgXHJcbiAgICAgIHRoaXMuJHNsaWRlc01hc2sucmVtb3ZlQ2xhc3MoICdzcC1ncmFiJyApO1xyXG4gICAgfSxcclxuXHJcbiAgICB0b3VjaFN3aXBlRGVmYXVsdHM6IHtcclxuICAgICAgXHJcbiAgICAgIC8vIEluZGljYXRlcyB3aGV0aGVyIHRoZSB0b3VjaCBzd2lwZSB3aWxsIGJlIGVuYWJsZWRcclxuICAgICAgdG91Y2hTd2lwZTogdHJ1ZSxcclxuXHJcbiAgICAgIC8vIFNldHMgdGhlIG1pbmltdW0gYW1vdW50IHRoYXQgdGhlIHNsaWRlcyBzaG91bGQgbW92ZVxyXG4gICAgICB0b3VjaFN3aXBlVGhyZXNob2xkOiA1MFxyXG4gICAgfVxyXG4gIH07XHJcblxyXG4gICQuU2xpZGVyUHJvLmFkZE1vZHVsZSggJ1RvdWNoU3dpcGUnLCBUb3VjaFN3aXBlICk7XHJcbiAgXHJcbn0pKCB3aW5kb3csIGpRdWVyeSApO1xyXG5cclxuXHJcbi8vIEF1dG9wbGF5IG1vZHVsZSBmb3IgU2xpZGVyIFByby5cclxuLy8gXHJcbi8vIEFkZHMgYXV0b21hdGljIG5hdmlnYXRpb24gdGhyb3VnaCB0aGUgc2xpZGVzIGJ5IGNhbGxpbmcgdGhlXHJcbi8vICduZXh0U2xpZGUnIG9yICdwcmV2aW91c1NsaWRlJyBtZXRob2RzIGF0IGNlcnRhaW4gdGltZSBpbnRlcnZhbHMuXHJcbjsoZnVuY3Rpb24oIHdpbmRvdywgJCApIHtcclxuXHJcbiAgXCJ1c2Ugc3RyaWN0XCI7XHJcbiAgXHJcbiAgdmFyIE5TID0gJ0F1dG9wbGF5LicgKyAkLlNsaWRlclByby5uYW1lc3BhY2U7XHJcblxyXG4gIHZhciBBdXRvcGxheSA9IHtcclxuXHJcbiAgICBhdXRvcGxheVRpbWVyOiBudWxsLFxyXG5cclxuICAgIGlzVGltZXJSdW5uaW5nOiBmYWxzZSxcclxuXHJcbiAgICBpc1RpbWVyUGF1c2VkOiBmYWxzZSxcclxuXHJcbiAgICBpbml0QXV0b3BsYXk6IGZ1bmN0aW9uKCkge1xyXG4gICAgICB0aGlzLm9uKCAndXBkYXRlLicgKyBOUywgJC5wcm94eSggdGhpcy5fYXV0b3BsYXlPblVwZGF0ZSwgdGhpcyApICk7XHJcbiAgICB9LFxyXG5cclxuICAgIC8vIFN0YXJ0IHRoZSBhdXRvcGxheSBpZiBpdCdzIGVuYWJsZWQsIG9yIHN0b3AgaXQgaWYgaXQncyBkaXNhYmxlZCBidXQgcnVubmluZyBcclxuICAgIF9hdXRvcGxheU9uVXBkYXRlOiBmdW5jdGlvbiggZXZlbnQgKSB7XHJcbiAgICAgIGlmICggdGhpcy5zZXR0aW5ncy5hdXRvcGxheSA9PT0gdHJ1ZSApIHtcclxuICAgICAgICB0aGlzLm9uKCAnZ290b1NsaWRlLicgKyBOUywgJC5wcm94eSggdGhpcy5fYXV0b3BsYXlPbkdvdG9TbGlkZSwgdGhpcyApICk7XHJcbiAgICAgICAgdGhpcy5vbiggJ21vdXNlZW50ZXIuJyArIE5TLCAkLnByb3h5KCB0aGlzLl9hdXRvcGxheU9uTW91c2VFbnRlciwgdGhpcyApICk7XHJcbiAgICAgICAgdGhpcy5vbiggJ21vdXNlbGVhdmUuJyArIE5TLCAkLnByb3h5KCB0aGlzLl9hdXRvcGxheU9uTW91c2VMZWF2ZSwgdGhpcyApICk7XHJcblxyXG4gICAgICAgIHRoaXMuc3RhcnRBdXRvcGxheSgpO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIHRoaXMub2ZmKCAnZ290b1NsaWRlLicgKyBOUyApO1xyXG4gICAgICAgIHRoaXMub2ZmKCAnbW91c2VlbnRlci4nICsgTlMgKTtcclxuICAgICAgICB0aGlzLm9mZiggJ21vdXNlbGVhdmUuJyArIE5TICk7XHJcblxyXG4gICAgICAgIHRoaXMuc3RvcEF1dG9wbGF5KCk7XHJcbiAgICAgIH1cclxuICAgIH0sXHJcblxyXG4gICAgLy8gUmVzdGFydCB0aGUgYXV0b3BsYXkgdGltZXIgd2hlbiBhIG5ldyBzbGlkZSBpcyBzZWxlY3RlZFxyXG4gICAgX2F1dG9wbGF5T25Hb3RvU2xpZGU6IGZ1bmN0aW9uKCBldmVudCApIHtcclxuICAgICAgLy8gc3RvcCBwcmV2aW91cyB0aW1lcnMgYmVmb3JlIHN0YXJ0aW5nIGEgbmV3IG9uZVxyXG4gICAgICBpZiAoIHRoaXMuaXNUaW1lclJ1bm5pbmcgPT09IHRydWUgKSB7XHJcbiAgICAgICAgdGhpcy5zdG9wQXV0b3BsYXkoKTtcclxuICAgICAgfVxyXG4gICAgICBcclxuICAgICAgaWYgKCB0aGlzLmlzVGltZXJQYXVzZWQgPT09IGZhbHNlICkge1xyXG4gICAgICAgIHRoaXMuc3RhcnRBdXRvcGxheSgpO1xyXG4gICAgICB9XHJcbiAgICB9LFxyXG5cclxuICAgIC8vIFBhdXNlIHRoZSBhdXRvcGxheSB3aGVuIHRoZSBzbGlkZXIgaXMgaG92ZXJlZFxyXG4gICAgX2F1dG9wbGF5T25Nb3VzZUVudGVyOiBmdW5jdGlvbiggZXZlbnQgKSB7XHJcbiAgICAgIGlmICggdGhpcy5pc1RpbWVyUnVubmluZyAmJiAoIHRoaXMuc2V0dGluZ3MuYXV0b3BsYXlPbkhvdmVyID09PSAncGF1c2UnIHx8IHRoaXMuc2V0dGluZ3MuYXV0b3BsYXlPbkhvdmVyID09PSAnc3RvcCcgKSApIHtcclxuICAgICAgICB0aGlzLnN0b3BBdXRvcGxheSgpO1xyXG4gICAgICAgIHRoaXMuaXNUaW1lclBhdXNlZCA9IHRydWU7XHJcbiAgICAgIH1cclxuICAgIH0sXHJcblxyXG4gICAgLy8gU3RhcnQgdGhlIGF1dG9wbGF5IHdoZW4gdGhlIG1vdXNlIG1vdmVzIGF3YXkgZnJvbSB0aGUgc2xpZGVyXHJcbiAgICBfYXV0b3BsYXlPbk1vdXNlTGVhdmU6IGZ1bmN0aW9uKCBldmVudCApIHtcclxuICAgICAgaWYgKCB0aGlzLnNldHRpbmdzLmF1dG9wbGF5ID09PSB0cnVlICYmIHRoaXMuaXNUaW1lclJ1bm5pbmcgPT09IGZhbHNlICYmIHRoaXMuc2V0dGluZ3MuYXV0b3BsYXlPbkhvdmVyICE9PSAnc3RvcCcgKSB7XHJcbiAgICAgICAgdGhpcy5zdGFydEF1dG9wbGF5KCk7XHJcbiAgICAgICAgdGhpcy5pc1RpbWVyUGF1c2VkID0gZmFsc2U7XHJcbiAgICAgIH1cclxuICAgIH0sXHJcblxyXG4gICAgLy8gU3RhcnRzIHRoZSBhdXRvcGxheVxyXG4gICAgc3RhcnRBdXRvcGxheTogZnVuY3Rpb24oKSB7XHJcbiAgICAgIHZhciB0aGF0ID0gdGhpcztcclxuICAgICAgXHJcbiAgICAgIHRoaXMuaXNUaW1lclJ1bm5pbmcgPSB0cnVlO1xyXG5cclxuICAgICAgdGhpcy5hdXRvcGxheVRpbWVyID0gc2V0VGltZW91dChmdW5jdGlvbigpIHtcclxuICAgICAgICBpZiAoIHRoYXQuc2V0dGluZ3MuYXV0b3BsYXlEaXJlY3Rpb24gPT09ICdub3JtYWwnICkge1xyXG4gICAgICAgICAgdGhhdC5uZXh0U2xpZGUoKTtcclxuICAgICAgICB9IGVsc2UgaWYgKCB0aGF0LnNldHRpbmdzLmF1dG9wbGF5RGlyZWN0aW9uID09PSAnYmFja3dhcmRzJyApIHtcclxuICAgICAgICAgIHRoYXQucHJldmlvdXNTbGlkZSgpO1xyXG4gICAgICAgIH1cclxuICAgICAgfSwgdGhpcy5zZXR0aW5ncy5hdXRvcGxheURlbGF5ICk7XHJcbiAgICB9LFxyXG5cclxuICAgIC8vIFN0b3BzIHRoZSBhdXRvcGxheVxyXG4gICAgc3RvcEF1dG9wbGF5OiBmdW5jdGlvbigpIHtcclxuICAgICAgdGhpcy5pc1RpbWVyUnVubmluZyA9IGZhbHNlO1xyXG4gICAgICB0aGlzLmlzVGltZXJQYXVzZWQgPSBmYWxzZTtcclxuXHJcbiAgICAgIGNsZWFyVGltZW91dCggdGhpcy5hdXRvcGxheVRpbWVyICk7XHJcbiAgICB9LFxyXG5cclxuICAgIC8vIERlc3Ryb3kgdGhlIG1vZHVsZVxyXG4gICAgZGVzdHJveUF1dG9wbGF5OiBmdW5jdGlvbigpIHtcclxuICAgICAgY2xlYXJUaW1lb3V0KCB0aGlzLmF1dG9wbGF5VGltZXIgKTtcclxuXHJcbiAgICAgIHRoaXMub2ZmKCAndXBkYXRlLicgKyBOUyApO1xyXG4gICAgICB0aGlzLm9mZiggJ2dvdG9TbGlkZS4nICsgTlMgKTtcclxuICAgICAgdGhpcy5vZmYoICdtb3VzZWVudGVyLicgKyBOUyApO1xyXG4gICAgICB0aGlzLm9mZiggJ21vdXNlbGVhdmUuJyArIE5TICk7XHJcbiAgICB9LFxyXG5cclxuICAgIGF1dG9wbGF5RGVmYXVsdHM6IHtcclxuICAgICAgLy8gSW5kaWNhdGVzIHdoZXRoZXIgb3Igbm90IGF1dG9wbGF5IHdpbGwgYmUgZW5hYmxlZFxyXG4gICAgICBhdXRvcGxheTogdHJ1ZSxcclxuXHJcbiAgICAgIC8vIFNldHMgdGhlIGRlbGF5L2ludGVydmFsIGF0IHdoaWNoIHRoZSBhdXRvcGxheSB3aWxsIHJ1blxyXG4gICAgICBhdXRvcGxheURlbGF5OiA1MDAwLFxyXG5cclxuICAgICAgLy8gSW5kaWNhdGVzIHdoZXRoZXIgYXV0b3BsYXkgd2lsbCBuYXZpZ2F0ZSB0byB0aGUgbmV4dCBzbGlkZSBvciBwcmV2aW91cyBzbGlkZVxyXG4gICAgICBhdXRvcGxheURpcmVjdGlvbjogJ25vcm1hbCcsXHJcblxyXG4gICAgICAvLyBJbmRpY2F0ZXMgaWYgdGhlIGF1dG9wbGF5IHdpbGwgYmUgcGF1c2VkIG9yIHN0b3BwZWQgd2hlbiB0aGUgc2xpZGVyIGlzIGhvdmVyZWQuXHJcbiAgICAgIC8vIFBvc3NpYmxlIHZhbHVlcyBhcmUgJ3BhdXNlJywgJ3N0b3AnIG9yICdub25lJy5cclxuICAgICAgYXV0b3BsYXlPbkhvdmVyOiAncGF1c2UnXHJcbiAgICB9XHJcbiAgfTtcclxuXHJcbiAgJC5TbGlkZXJQcm8uYWRkTW9kdWxlKCAnQXV0b3BsYXknLCBBdXRvcGxheSApO1xyXG4gIFxyXG59KSh3aW5kb3csIGpRdWVyeSk7XHJcblxyXG5cclxuLy8gQnV0dG9ucyBtb2R1bGUgZm9yIFNsaWRlciBQcm8uXHJcbi8vIFxyXG4vLyBBZGRzIG5hdmlnYXRpb24gYnV0dG9ucyBhdCB0aGUgYm90dG9tIG9mIHRoZSBzbGlkZXIuXHJcbjsoZnVuY3Rpb24oIHdpbmRvdywgJCApIHtcclxuXHJcbiAgXCJ1c2Ugc3RyaWN0XCI7XHJcbiAgXHJcbiAgdmFyIE5TID0gJ0J1dHRvbnMuJyArICQuU2xpZGVyUHJvLm5hbWVzcGFjZTtcclxuXHJcbiAgdmFyIEJ1dHRvbnMgPSB7XHJcblxyXG4gICAgLy8gUmVmZXJlbmNlIHRvIHRoZSBidXR0b25zIGNvbnRhaW5lclxyXG4gICAgJGJ1dHRvbnM6IG51bGwsXHJcblxyXG4gICAgaW5pdEJ1dHRvbnM6IGZ1bmN0aW9uKCkge1xyXG4gICAgICB0aGlzLm9uKCAndXBkYXRlLicgKyBOUywgJC5wcm94eSggdGhpcy5fYnV0dG9uc09uVXBkYXRlLCB0aGlzICkgKTtcclxuICAgIH0sXHJcblxyXG4gICAgX2J1dHRvbnNPblVwZGF0ZTogZnVuY3Rpb24oKSB7XHJcbiAgICAgIHRoaXMuJGJ1dHRvbnMgPSB0aGlzLiRzbGlkZXIuZmluZCgnLnNwLWJ1dHRvbnMnKTtcclxuICAgICAgXHJcbiAgICAgIC8vIElmIHRoZXJlIGlzIG1vcmUgdGhhdCBvbmUgc2xpZGUgYnV0IHRoZSBidXR0b25zIHdlcmVuJ3QgY3JlYXRlZCB5ZXQsIGNyZWF0ZSB0aGUgYnV0dG9ucy5cclxuICAgICAgLy8gSWYgdGhlIGJ1dHRvbnMgd2VyZSBjcmVhdGVkIGJ1dCB0aGVpciBudW1iZXIgZGlmZmVycyBmcm9tIHRoZSB0b3RhbCBudW1iZXIgb2Ygc2xpZGVzLCByZS1jcmVhdGUgdGhlIGJ1dHRvbnMuXHJcbiAgICAgIC8vIElmIHRoZSBidXR0b25zIHdlcmUgY3JlYXRlZCBidXQgdGhlcmUgYXJlIGxlc3MgdGhhbiBvbmUgc2xpZGUsIHJlbW92ZSB0aGUgYnV0dG9ucy5zXHJcbiAgICAgIGlmICggdGhpcy5zZXR0aW5ncy5idXR0b25zID09PSB0cnVlICYmIHRoaXMuZ2V0VG90YWxTbGlkZXMoKSA+IDEgJiYgdGhpcy4kYnV0dG9ucy5sZW5ndGggPT09IDAgKSB7XHJcbiAgICAgICAgdGhpcy5fY3JlYXRlQnV0dG9ucygpO1xyXG4gICAgICB9IGVsc2UgaWYgKCB0aGlzLnNldHRpbmdzLmJ1dHRvbnMgPT09IHRydWUgJiYgdGhpcy5nZXRUb3RhbFNsaWRlcygpICE9PSB0aGlzLiRidXR0b25zLmZpbmQoICcuc3AtYnV0dG9uJyApLmxlbmd0aCAmJiB0aGlzLiRidXR0b25zLmxlbmd0aCAhPT0gMCApIHtcclxuICAgICAgICB0aGlzLl9hZGp1c3RCdXR0b25zKCk7XHJcbiAgICAgIH0gZWxzZSBpZiAoIHRoaXMuc2V0dGluZ3MuYnV0dG9ucyA9PT0gZmFsc2UgfHwgKCB0aGlzLmdldFRvdGFsU2xpZGVzKCkgPD0gMSAmJiB0aGlzLiRidXR0b25zLmxlbmd0aCAhPT0gMCApICkge1xyXG4gICAgICAgIHRoaXMuX3JlbW92ZUJ1dHRvbnMoKTtcclxuICAgICAgfVxyXG4gICAgfSxcclxuXHJcbiAgICAvLyBDcmVhdGUgdGhlIGJ1dHRvbnNcclxuICAgIF9jcmVhdGVCdXR0b25zOiBmdW5jdGlvbigpIHtcclxuICAgICAgdmFyIHRoYXQgPSB0aGlzO1xyXG5cclxuICAgICAgLy8gQ3JlYXRlIHRoZSBidXR0b25zJyBjb250YWluZXJcclxuICAgICAgdGhpcy4kYnV0dG9ucyA9ICQoICc8ZGl2IGNsYXNzPVwic3AtYnV0dG9uc1wiPjwvZGl2PicgKS5hcHBlbmRUbyggdGhpcy4kc2xpZGVyICk7XHJcblxyXG4gICAgICAvLyBDcmVhdGUgdGhlIGJ1dHRvbnNcclxuICAgICAgZm9yICggdmFyIGkgPSAwOyBpIDwgdGhpcy5nZXRUb3RhbFNsaWRlcygpOyBpKysgKSB7XHJcbiAgICAgICAgJCggJzxkaXYgY2xhc3M9XCJzcC1idXR0b25cIj48L2Rpdj4nICkuYXBwZW5kVG8oIHRoaXMuJGJ1dHRvbnMgKTtcclxuICAgICAgfVxyXG5cclxuICAgICAgLy8gTGlzdGVuIGZvciBidXR0b24gY2xpY2tzIFxyXG4gICAgICB0aGlzLiRidXR0b25zLm9uKCAnY2xpY2suJyArIE5TLCAnLnNwLWJ1dHRvbicsIGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIHRoYXQuZ290b1NsaWRlKCAkKCB0aGlzICkuaW5kZXgoKSApO1xyXG4gICAgICB9KTtcclxuXHJcbiAgICAgIC8vIFNldCB0aGUgaW5pdGlhbGx5IHNlbGVjdGVkIGJ1dHRvblxyXG4gICAgICB0aGlzLiRidXR0b25zLmZpbmQoICcuc3AtYnV0dG9uJyApLmVxKCB0aGlzLnNlbGVjdGVkU2xpZGVJbmRleCApLmFkZENsYXNzKCAnc3Atc2VsZWN0ZWQtYnV0dG9uJyApO1xyXG5cclxuICAgICAgLy8gU2VsZWN0IHRoZSBjb3JyZXNwb25kaW5nIGJ1dHRvbiB3aGVuIHRoZSBzbGlkZSBjaGFuZ2VzXHJcbiAgICAgIHRoaXMub24oICdnb3RvU2xpZGUuJyArIE5TLCBmdW5jdGlvbiggZXZlbnQgKSB7XHJcbiAgICAgICAgdGhhdC4kYnV0dG9ucy5maW5kKCAnLnNwLXNlbGVjdGVkLWJ1dHRvbicgKS5yZW1vdmVDbGFzcyggJ3NwLXNlbGVjdGVkLWJ1dHRvbicgKTtcclxuICAgICAgICB0aGF0LiRidXR0b25zLmZpbmQoICcuc3AtYnV0dG9uJyApLmVxKCBldmVudC5pbmRleCApLmFkZENsYXNzKCAnc3Atc2VsZWN0ZWQtYnV0dG9uJyApO1xyXG4gICAgICB9KTtcclxuXHJcbiAgICAgIC8vIEluZGljYXRlIHRoYXQgdGhlIHNsaWRlciBoYXMgYnV0dG9ucyBcclxuICAgICAgdGhpcy4kc2xpZGVyLmFkZENsYXNzKCAnc3AtaGFzLWJ1dHRvbnMnICk7XHJcbiAgICB9LFxyXG5cclxuICAgIC8vIFJlLWNyZWF0ZSB0aGUgYnV0dG9ucy4gVGhpcyBpcyBjYWxsZXMgd2hlbiB0aGUgbnVtYmVyIG9mIHNsaWRlcyBjaGFuZ2VzLlxyXG4gICAgX2FkanVzdEJ1dHRvbnM6IGZ1bmN0aW9uKCkge1xyXG4gICAgICB0aGlzLiRidXR0b25zLmVtcHR5KCk7XHJcblxyXG4gICAgICAvLyBDcmVhdGUgdGhlIGJ1dHRvbnNcclxuICAgICAgZm9yICggdmFyIGkgPSAwOyBpIDwgdGhpcy5nZXRUb3RhbFNsaWRlcygpOyBpKysgKSB7XHJcbiAgICAgICAgJCggJzxkaXYgY2xhc3M9XCJzcC1idXR0b25cIj48L2Rpdj4nICkuYXBwZW5kVG8oIHRoaXMuJGJ1dHRvbnMgKTtcclxuICAgICAgfVxyXG5cclxuICAgICAgLy8gQ2hhbmdlIHRoZSBzZWxlY3RlZCB0aGUgYnV0dG9uc1xyXG4gICAgICB0aGlzLiRidXR0b25zLmZpbmQoICcuc3Atc2VsZWN0ZWQtYnV0dG9uJyApLnJlbW92ZUNsYXNzKCAnc3Atc2VsZWN0ZWQtYnV0dG9uJyApO1xyXG4gICAgICB0aGlzLiRidXR0b25zLmZpbmQoICcuc3AtYnV0dG9uJyApLmVxKCB0aGlzLnNlbGVjdGVkU2xpZGVJbmRleCApLmFkZENsYXNzKCAnc3Atc2VsZWN0ZWQtYnV0dG9uJyApO1xyXG4gICAgfSxcclxuXHJcbiAgICAvLyBSZW1vdmUgdGhlIGJ1dHRvbnNcclxuICAgIF9yZW1vdmVCdXR0b25zOiBmdW5jdGlvbigpIHtcclxuICAgICAgdGhpcy4kYnV0dG9ucy5vZmYoICdjbGljay4nICsgTlMsICcuc3AtYnV0dG9uJyApO1xyXG4gICAgICB0aGlzLm9mZiggJ2dvdG9TbGlkZS4nICsgTlMgKTtcclxuICAgICAgdGhpcy4kYnV0dG9ucy5yZW1vdmUoKTtcclxuICAgICAgdGhpcy4kc2xpZGVyLnJlbW92ZUNsYXNzKCAnc3AtaGFzLWJ1dHRvbnMnICk7XHJcbiAgICB9LFxyXG5cclxuICAgIGRlc3Ryb3lCdXR0b25zOiBmdW5jdGlvbigpIHtcclxuICAgICAgdGhpcy5fcmVtb3ZlQnV0dG9ucygpO1xyXG4gICAgICB0aGlzLm9mZiggJ3VwZGF0ZS4nICsgTlMgKTtcclxuICAgIH0sXHJcblxyXG4gICAgYnV0dG9uc0RlZmF1bHRzOiB7XHJcbiAgICAgIFxyXG4gICAgICAvLyBJbmRpY2F0ZXMgd2hldGhlciB0aGUgYnV0dG9ucyB3aWxsIGJlIGNyZWF0ZWRcclxuICAgICAgYnV0dG9uczogdHJ1ZVxyXG4gICAgfVxyXG4gIH07XHJcblxyXG4gICQuU2xpZGVyUHJvLmFkZE1vZHVsZSggJ0J1dHRvbnMnLCBCdXR0b25zICk7XHJcblxyXG59KSggd2luZG93LCBqUXVlcnkgKTtcclxuXHJcbi8vIEFycm93cyBtb2R1bGUgZm9yIFNsaWRlciBQcm8uXHJcbi8vIFxyXG4vLyBBZGRzIGFycm93cyBmb3IgbmF2aWdhdGluZyB0byB0aGUgbmV4dCBvciBwcmV2aW91cyBzbGlkZS5cclxuOyhmdW5jdGlvbiggd2luZG93LCAkICkge1xyXG5cclxuICBcInVzZSBzdHJpY3RcIjtcclxuXHJcbiAgdmFyIE5TID0gJ0Fycm93cy4nICsgJC5TbGlkZXJQcm8ubmFtZXNwYWNlO1xyXG5cclxuICB2YXIgQXJyb3dzID0ge1xyXG5cclxuICAgIC8vIFJlZmVyZW5jZSB0byB0aGUgYXJyb3dzIGNvbnRhaW5lclxyXG4gICAgJGFycm93czogbnVsbCxcclxuXHJcbiAgICAvLyBSZWZlcmVuY2UgdG8gdGhlIHByZXZpb3VzIGFycm93XHJcbiAgICAkcHJldmlvdXNBcnJvdzogbnVsbCxcclxuXHJcbiAgICAvLyBSZWZlcmVuY2UgdG8gdGhlIG5leHQgYXJyb3dcclxuICAgICRuZXh0QXJyb3c6IG51bGwsXHJcblxyXG4gICAgaW5pdEFycm93czogZnVuY3Rpb24oKSB7XHJcbiAgICAgIHRoaXMub24oICd1cGRhdGUuJyArIE5TLCAkLnByb3h5KCB0aGlzLl9hcnJvd3NPblVwZGF0ZSwgdGhpcyApICk7XHJcbiAgICAgIHRoaXMub24oICdnb3RvU2xpZGUuJyArIE5TLCAkLnByb3h5KCB0aGlzLl9jaGVja0Fycm93c1Zpc2liaWxpdHksIHRoaXMgKSApO1xyXG4gICAgfSxcclxuXHJcbiAgICBfYXJyb3dzT25VcGRhdGU6IGZ1bmN0aW9uKCkge1xyXG4gICAgICB2YXIgdGhhdCA9IHRoaXM7XHJcblxyXG4gICAgICAvLyBDcmVhdGUgdGhlIGFycm93cyBpZiB0aGUgJ2Fycm93cycgb3B0aW9uIGlzIHNldCB0byB0cnVlXHJcbiAgICAgIGlmICggdGhpcy5zZXR0aW5ncy5hcnJvd3MgPT09IHRydWUgJiYgdGhpcy4kYXJyb3dzID09PSBudWxsICkge1xyXG4gICAgICAgIHRoaXMuJGFycm93cyA9ICQoICc8ZGl2IGNsYXNzPVwic3AtYXJyb3dzXCI+PC9kaXY+JyApLmFwcGVuZFRvKCB0aGlzLiRzbGlkZXNDb250YWluZXIgKTtcclxuICAgICAgICBcclxuICAgICAgICB0aGlzLiRwcmV2aW91c0Fycm93ID0gJCggJzxkaXYgY2xhc3M9XCJzcC1hcnJvdyBzcC1wcmV2aW91cy1hcnJvd1wiPjwvZGl2PicgKS5hcHBlbmRUbyggdGhpcy4kYXJyb3dzICk7XHJcbiAgICAgICAgdGhpcy4kbmV4dEFycm93ID0gJCggJzxkaXYgY2xhc3M9XCJzcC1hcnJvdyBzcC1uZXh0LWFycm93XCI+PC9kaXY+JyApLmFwcGVuZFRvKCB0aGlzLiRhcnJvd3MgKTtcclxuXHJcbiAgICAgICAgdGhpcy4kcHJldmlvdXNBcnJvdy5vbiggJ2NsaWNrLicgKyBOUywgZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICB0aGF0LnByZXZpb3VzU2xpZGUoKTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgdGhpcy4kbmV4dEFycm93Lm9uKCAnY2xpY2suJyArIE5TLCBmdW5jdGlvbigpIHtcclxuICAgICAgICAgIHRoYXQubmV4dFNsaWRlKCk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHRoaXMuX2NoZWNrQXJyb3dzVmlzaWJpbGl0eSgpO1xyXG4gICAgICB9IGVsc2UgaWYgKCB0aGlzLnNldHRpbmdzLmFycm93cyA9PT0gZmFsc2UgJiYgdGhpcy4kYXJyb3dzICE9PSBudWxsICkge1xyXG4gICAgICAgIHRoaXMuX3JlbW92ZUFycm93cygpO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBpZiAoIHRoaXMuc2V0dGluZ3MuYXJyb3dzID09PSB0cnVlICkge1xyXG4gICAgICAgIGlmICggdGhpcy5zZXR0aW5ncy5mYWRlQXJyb3dzID09PSB0cnVlICkge1xyXG4gICAgICAgICAgdGhpcy4kYXJyb3dzLmFkZENsYXNzKCAnc3AtZmFkZS1hcnJvd3MnICk7XHJcbiAgICAgICAgfSBlbHNlIGlmICggdGhpcy5zZXR0aW5ncy5mYWRlQXJyb3dzID09PSBmYWxzZSApIHtcclxuICAgICAgICAgIHRoaXMuJGFycm93cy5yZW1vdmVDbGFzcyggJ3NwLWZhZGUtYXJyb3dzJyApO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfSxcclxuXHJcbiAgICAvLyBTaG93IG9yIGhpZGUgdGhlIGFycm93cyBkZXBlbmRpbmcgb24gdGhlIHBvc2l0aW9uIG9mIHRoZSBzZWxlY3RlZCBzbGlkZVxyXG4gICAgX2NoZWNrQXJyb3dzVmlzaWJpbGl0eTogZnVuY3Rpb24oKSB7XHJcbiAgICAgIGlmICggdGhpcy5zZXR0aW5ncy5hcnJvd3MgPT09IGZhbHNlIHx8IHRoaXMuc2V0dGluZ3MubG9vcCA9PT0gdHJ1ZSApIHtcclxuICAgICAgICByZXR1cm47XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGlmICggdGhpcy5zZWxlY3RlZFNsaWRlSW5kZXggPT09IDAgKSB7XHJcbiAgICAgICAgdGhpcy4kcHJldmlvdXNBcnJvdy5jc3MoICdkaXNwbGF5JywgJ25vbmUnICk7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgdGhpcy4kcHJldmlvdXNBcnJvdy5jc3MoICdkaXNwbGF5JywgJ2Jsb2NrJyApO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBpZiAoIHRoaXMuc2VsZWN0ZWRTbGlkZUluZGV4ID09PSB0aGlzLmdldFRvdGFsU2xpZGVzKCkgLSAxICkge1xyXG4gICAgICAgIHRoaXMuJG5leHRBcnJvdy5jc3MoICdkaXNwbGF5JywgJ25vbmUnICk7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgdGhpcy4kbmV4dEFycm93LmNzcyggJ2Rpc3BsYXknLCAnYmxvY2snICk7XHJcbiAgICAgIH1cclxuICAgIH0sXHJcbiAgICBcclxuICAgIF9yZW1vdmVBcnJvd3M6IGZ1bmN0aW9uKCkge1xyXG4gICAgICBpZiAoIHRoaXMuJGFycm93cyAhPT0gbnVsbCApIHtcclxuICAgICAgICB0aGlzLiRwcmV2aW91c0Fycm93Lm9mZiggJ2NsaWNrLicgKyBOUyApO1xyXG4gICAgICAgIHRoaXMuJG5leHRBcnJvdy5vZmYoICdjbGljay4nICsgTlMgKTtcclxuICAgICAgICB0aGlzLiRhcnJvd3MucmVtb3ZlKCk7XHJcbiAgICAgICAgdGhpcy4kYXJyb3dzID0gbnVsbDtcclxuICAgICAgfVxyXG4gICAgfSxcclxuXHJcbiAgICBkZXN0cm95QXJyb3dzOiBmdW5jdGlvbigpIHtcclxuICAgICAgdGhpcy5fcmVtb3ZlQXJyb3dzKCk7XHJcbiAgICAgIHRoaXMub2ZmKCAndXBkYXRlLicgKyBOUyApO1xyXG4gICAgICB0aGlzLm9mZiggJ2dvdG9TbGlkZS4nICsgTlMgKTtcclxuICAgIH0sXHJcblxyXG4gICAgYXJyb3dzRGVmYXVsdHM6IHtcclxuXHJcbiAgICAgIC8vIEluZGljYXRlcyB3aGV0aGVyIHRoZSBhcnJvdyBidXR0b25zIHdpbGwgYmUgY3JlYXRlZFxyXG4gICAgICBhcnJvd3M6IGZhbHNlLFxyXG5cclxuICAgICAgLy8gSW5kaWNhdGVzIHdoZXRoZXIgdGhlIGFycm93cyB3aWxsIGZhZGUgaW4gb25seSBvbiBob3ZlclxyXG4gICAgICBmYWRlQXJyb3dzOiB0cnVlXHJcbiAgICB9XHJcbiAgfTtcclxuXHJcbiAgJC5TbGlkZXJQcm8uYWRkTW9kdWxlKCAnQXJyb3dzJywgQXJyb3dzICk7XHJcblxyXG59KSggd2luZG93LCBqUXVlcnkgKTsiXX0=
